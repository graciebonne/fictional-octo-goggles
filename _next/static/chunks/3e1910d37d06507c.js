(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,823634,894420,e=>{"use strict";e.s(["LocalGasStationFilled",()=>s],823634);var t=e.i(705378),n=e.i(590268),r=e.i(790621),i=e.i(437153);let s=e=>{let s,a,l,o,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:l,fill:o,fillAttribute:c,className:s,...a}=e,p[0]=e,p[1]=s,p[2]=a,p[3]=l,p[4]=o,p[5]=c):(s=p[1],a=p[2],l=p[3],o=p[4],c=p[5]);let h=void 0===l?24:l,y=void 0===o?"current":o,f=void 0===c?"currentColor":c;return p[6]!==s||p[7]!==y?(u=(0,i.classNames)((0,r.fillVariants)({fill:y}),s),p[6]=s,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M160-120v-640q0-33 23.5-56.5T240-840h240q33 0 56.5 23.5T560-760v280h40q33 0 56.5 23.5T680-400v180q0 17 11.5 28.5T720-180q17 0 28.5-11.5T760-220v-288q-9 5-19 6.5t-21 1.5q-42 0-71-29t-29-71q0-32 17.5-57.5T684-694l-84-84 42-42 148 144q15 15 22.5 35t7.5 41v380q0 42-29 71t-71 29q-42 0-71-29t-29-71v-200h-60v300H160Zm80-440h240v-200H240v200Zm480 0q17 0 28.5-11.5T760-600q0-17-11.5-28.5T720-640q-17 0-28.5 11.5T680-600q0 17 11.5 28.5T720-560Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==a||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Local Gas Station",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...a,children:d}),p[10]=f,p[11]=a,p[12]=h,p[13]=u,p[14]=m):m=p[14],m};e.s(["useChainId",()=>o],894420);var a=e.i(297421),l=e.i(223458);function o(){let{chainId:e}=(0,a.useSnapshot)(l.AccountState);return e}},52701,143934,e=>{"use strict";e.s(["Timeline",()=>p,"TimelineAvatar",()=>y,"TimelineContent",()=>f,"TimelineDescription",()=>x,"TimelineItem",()=>h,"TimelineSide",()=>g,"TimelineTitle",()=>v],52701);var t=e.i(705378),n=e.i(590268),r=e.i(10340),i=e.i(437153),s=e.i(965523),a=e.i(519078),l=e.i(695698);e.s(["TimelineSkeleton",()=>d],143934);var o=e.i(575789),c=e.i(310578),u=e.i(950293);let d=e=>{let r,i,s=(0,n.c)(5),{className:a,count:l}=e,c=void 0===l?2:l;return s[0]!==c?(r=(0,o.range)(c).map(m),s[0]=c,s[1]=r):r=s[1],s[2]!==a||s[3]!==r?(i=(0,t.jsx)(p,{className:a,children:r}),s[2]=a,s[3]=r,s[4]=i):i=s[4],i};function m(e){return(0,t.jsxs)(h,{active:!0,children:[(0,t.jsx)(y,{children:(0,t.jsx)(c.SkeletonBlock,{})}),(0,t.jsx)(f,{children:(0,t.jsx)(u.TextBodySkeleton,{className:"w-40",size:"sm"})})]},e)}function p(e){let r,s,a,o,c,u=(0,n.c)(10);return u[0]!==e?({className:s,children:r,...a}=e,u[0]=e,u[1]=r,u[2]=s,u[3]=a):(r=u[1],s=u[2],a=u[3]),u[4]!==s?(o=(0,i.classNames)("w-full",s),u[4]=s,u[5]=o):o=u[5],u[6]!==r||u[7]!==a||u[8]!==o?(c=(0,t.jsx)(l.List,{className:o,showBorder:!1,variant:"framed",...a,children:r}),u[6]=r,u[7]=a,u[8]=o,u[9]=c):c=u[9],c}function h(e){let a,o,c,u,d,m,p=(0,n.c)(11);p[0]!==e?({active:a,children:o,...c}=e,p[0]=e,p[1]=a,p[2]=o,p[3]=c):(a=p[1],o=p[2],c=p[3]),p[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,i.classNames)("after:my-1.5 after:ml-3 after:block after:h-4 after:w-0.5 after:rounded-full after:bg-text-primary","last:after:hidden"),p[4]=u):u=p[4];let h=!a;return p[5]!==h?(d=(0,i.classNames)("gap-4",(0,r.disabledVariants)({disabled:h})),p[5]=h,p[6]=d):d=p[6],p[7]!==o||p[8]!==c||p[9]!==d?(m=(0,t.jsx)(s.FlexColumn,{className:u,children:(0,t.jsx)(l.ListItem,{className:d,variant:"unstyled",...c,children:o})}),p[7]=o,p[8]=c,p[9]=d,p[10]=m):m=p[10],m}function y(e){let r,s,l,o,c=(0,n.c)(9);c[0]!==e?({className:r,...s}=e,c[0]=e,c[1]=r,c[2]=s):(r=c[1],s=c[2]);let u=s.icon&&"p-0.5";return c[3]!==r||c[4]!==u?(l=(0,i.classNames)("rounded bg-bg-additional-1",u,r),c[3]=r,c[4]=u,c[5]=l):l=c[5],c[6]!==s||c[7]!==l?(o=(0,t.jsx)(a.ItemAvatar,{className:l,size:24,...s}),c[6]=s,c[7]=l,c[8]=o):o=c[8],o}let f=a.ItemContent,x=a.ItemDescription,g=a.ItemSide;function v(e){let r,i,s=(0,n.c)(4);return s[0]!==e?({...r}=e,s[0]=e,s[1]=r):r=s[1],s[2]!==r?(i=(0,t.jsx)(a.ItemTitle,{size:"sm",...r}),s[2]=r,s[3]=i):i=s[3],i}},562530,e=>{"use strict";e.s(["ActionTimelineSkeleton",()=>a]);var t=e.i(705378),n=e.i(590268),r=e.i(310578),i=e.i(52701),s=e.i(575789);let a=e=>{let r,a,o=(0,n.c)(4),{count:c}=e,u=void 0===c?1:c;return o[0]!==u?(r=(0,s.range)(u).map(l),o[0]=u,o[1]=r):r=o[1],o[2]!==r?(a=(0,t.jsx)(i.Timeline,{children:r}),o[2]=r,o[3]=a):a=o[3],a};function l(e){return(0,t.jsxs)(i.TimelineItem,{children:[(0,t.jsx)(r.SkeletonBlock,{className:"size-6 rounded"}),(0,t.jsx)(i.TimelineContent,{children:(0,t.jsx)(r.SkeletonLine,{className:"h-3 w-[80px]"})}),(0,t.jsx)(i.TimelineSide,{children:(0,t.jsx)(r.SkeletonLine,{className:"h-5 w-[50px] rounded"})})]},e)}},841665,86859,e=>{"use strict";e.s(["ActionTimelineError",()=>p],841665);var t=e.i(705378),n=e.i(590268),r=e.i(175109),i=e.i(254842),s=e.i(999258),a=e.i(52701),l=e.i(790621),o=e.i(437153);let c=e=>{let r,i,s,a,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:s,fill:a,fillAttribute:c,className:r,...i}=e,p[0]=e,p[1]=r,p[2]=i,p[3]=s,p[4]=a,p[5]=c):(r=p[1],i=p[2],s=p[3],a=p[4],c=p[5]);let h=void 0===s?24:s,y=void 0===a?"current":a,f=void 0===c?"currentColor":c;return p[6]!==r||p[7]!==y?(u=(0,o.classNames)((0,l.fillVariants)({fill:y}),r),p[6]=r,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M280-440h400v-80H280v80ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==i||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Do not disturb on",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...i,children:d}),p[10]=f,p[11]=i,p[12]=h,p[13]=u,p[14]=m):m=p[14],m};var u=e.i(437121),d=e.i(167532),m=e.i(450917);let p=e=>{let l,o,p,h,y=(0,n.c)(11),{message:f,onRetry:x,onBack:g,showSide:v}=e,C=void 0===v||v,w=(0,d.useTranslations)("wallet.ActionTimelineError");return y[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(a.TimelineAvatar,{icon:c}),y[0]=l):l=y[0],y[1]!==f?(o=(0,t.jsx)(a.TimelineContent,{children:(0,t.jsx)(a.TimelineTitle,{children:f})}),y[1]=f,y[2]=o):o=y[2],y[3]!==g||y[4]!==x||y[5]!==C||y[6]!==w?(p=C&&(0,t.jsx)(a.TimelineSide,{children:(0,t.jsxs)(i.Flex,{className:"gap-3",children:[(0,t.jsx)(r.Badge,{icon:u.ErrorFilled,variant:"error",children:w("error")}),(0,t.jsx)(s.Separator,{className:"h-6",orientation:"vertical"}),g?(0,t.jsx)(m.Button,{onClick:g,size:"sm",variant:"secondary",children:w("reset")}):null,x?(0,t.jsx)(m.Button,{onClick:()=>x(),size:"sm",children:w("retry")}):null]})}),y[3]=g,y[4]=x,y[5]=C,y[6]=w,y[7]=p):p=y[7],y[8]!==o||y[9]!==p?(h=(0,t.jsx)(a.Timeline,{children:(0,t.jsxs)(a.TimelineItem,{active:!0,children:[l,o,p]})}),y[8]=o,y[9]=p,y[10]=h):h=y[10],h};e.s(["ActionTimelineItem",()=>F],86859);var h=e.i(847720),y=e.i(635341),f=e.i(2795);let x=e=>{let r,i,s,a,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:s,fill:a,fillAttribute:c,className:r,...i}=e,p[0]=e,p[1]=r,p[2]=i,p[3]=s,p[4]=a,p[5]=c):(r=p[1],i=p[2],s=p[3],a=p[4],c=p[5]);let h=void 0===s?24:s,y=void 0===a?"current":a,f=void 0===c?"currentColor":c;return p[6]!==r||p[7]!==y?(u=(0,o.classNames)((0,l.fillVariants)({fill:y}),r),p[6]=r,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M517-518 347-688l57-56 113 113 227-226 56 56-283 283ZM280-220l278 76 238-74q-5-9-14.5-15.5T760-240H558q-27 0-43-2t-33-8l-93-31 22-78 81 27q17 5 40 8t68 4q0-11-6.5-21T578-354l-234-86h-64v220ZM40-80v-440h304q7 0 14 1.5t13 3.5l235 87q33 12 53.5 42t20.5 66h80q50 0 85 33t35 87v40L560-60l-280-78v58H40Zm80-80h80v-280h-80v280Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==i||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Approval Delegation",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...i,children:d}),p[10]=f,p[11]=i,p[12]=h,p[13]=u,p[14]=m):m=p[14],m};var g=e.i(722934);let v=e=>{let r,i,s,a,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:s,fill:a,fillAttribute:c,className:r,...i}=e,p[0]=e,p[1]=r,p[2]=i,p[3]=s,p[4]=a,p[5]=c):(r=p[1],i=p[2],s=p[3],a=p[4],c=p[5]);let h=void 0===s?24:s,y=void 0===a?"current":a,f=void 0===c?"currentColor":c;return p[6]!==r||p[7]!==y?(u=(0,o.classNames)((0,l.fillVariants)({fill:y}),r),p[6]=r,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M480-40q-112 0-206-51T120-227v107H40v-240h240v80h-99q48 72 126.5 116T480-120q75 0 140.5-28.5t114-77q48.5-48.5 77-114T840-480h80q0 91-34.5 171T791-169q-60 60-140 94.5T480-40Zm-36-160v-52q-47-11-76.5-40.5T324-370l66-26q12 41 37.5 61.5T486-314q33 0 56.5-15.5T566-378q0-29-24.5-47T454-466q-59-21-86.5-50T340-592q0-41 28.5-74.5T446-710v-50h70v50q36 3 65.5 29t40.5 61l-64 26q-8-23-26-38.5T482-648q-35 0-53.5 15T410-592q0 26 23 41t83 35q72 26 96 61t24 77q0 29-10 51t-26.5 37.5Q583-274 561-264.5T514-250v50h-70ZM40-480q0-91 34.5-171T169-791q60-60 140-94.5T480-920q112 0 206 51t154 136v-107h80v240H680v-80h99q-48-72-126.5-116T480-840q-75 0-140.5 28.5t-114 77q-48.5 48.5-77 114T120-480H40Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==i||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Currency Exchange",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...i,children:d}),p[10]=f,p[11]=i,p[12]=h,p[13]=u,p[14]=m):m=p[14],m};var C=e.i(546681);let w=e=>{let r,i,s,a,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:s,fill:a,fillAttribute:c,className:r,...i}=e,p[0]=e,p[1]=r,p[2]=i,p[3]=s,p[4]=a,p[5]=c):(r=p[1],i=p[2],s=p[3],a=p[4],c=p[5]);let h=void 0===s?24:s,y=void 0===a?"current":a,f=void 0===c?"currentColor":c;return p[6]!==r||p[7]!==y?(u=(0,o.classNames)((0,l.fillVariants)({fill:y}),r),p[6]=r,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M260-361v-40H160v-80h200v-80H200q-17 0-28.5-11.5T160-601v-160q0-17 11.5-28.5T200-801h60v-40h80v40h100v80H240v80h160q17 0 28.5 11.5T440-601v160q0 17-11.5 28.5T400-401h-60v40h-80Zm298 240L388-291l56-56 114 114 226-226 56 56-282 282Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==i||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Price Check",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...i,children:d}),p[10]=f,p[11]=i,p[12]=h,p[13]=u,p[14]=m):m=p[14],m};var S=e.i(282825);let b=e=>{let r,i,s,a,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:s,fill:a,fillAttribute:c,className:r,...i}=e,p[0]=e,p[1]=r,p[2]=i,p[3]=s,p[4]=a,p[5]=c):(r=p[1],i=p[2],s=p[3],a=p[4],c=p[5]);let h=void 0===s?24:s,y=void 0===a?"current":a,f=void 0===c?"currentColor":c;return p[6]!==r||p[7]!==y?(u=(0,o.classNames)((0,l.fillVariants)({fill:y}),r),p[6]=r,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M240-800v200-200 640-9.5 9.5-640Zm0 720q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v174q-19-7-39-10.5t-41-3.5v-120H520v-200H240v640h254q8 23 20 43t28 37H240Zm396-20-56-56 84-84-84-84 56-56 84 84 84-84 56 56-83 84 83 84-56 56-84-83-84 83Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==i||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Scan Delete",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...i,children:d}),p[10]=f,p[11]=i,p[12]=h,p[13]=u,p[14]=m):m=p[14],m};var j=e.i(331348),A=e.i(297421),T=e.i(176772),I=e.i(363205),N=e.i(999413);let _="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=",F=e=>{var l;let o,c,p,F,E,k,M,D,R,B,P,L=(0,n.c)(44),{action:q,active:O,error:z,isLoading:Q,isPending:V,isDone:W,retry:U,start:G,onBack:H}=e,Z=(0,y.readFragment)(N.ActionTimelineItemFragment,q),{getCurrency:$}=(0,h.useCurrencies)(),Y=(0,d.useTranslations)("wallet.ActionTimelineItem"),{flow:K}=(0,A.useSnapshot)(I.FlowState),X=null!=(l=null==K?void 0:K.isClaim)&&l,J=(0,T.useIsEmbeddedWallet)(),ee=()=>{switch(Z.__typename){case"AcceptOfferAction":case"Permit2SignatureAction":return x;case"CreateCollectionOfferAction":case"CreateListingsAction":case"CreateOfferAction":case"CreateOffersAction":case"ItemApprovalAction":case"MintAction":case"RefreshAction":case"HyperliquidAuthAction":case"HyperliquidDepositAction":return C.Draw;case"PaymentApprovalAction":return w;case"TransferAssetsAction":return j.Send;case"CancelOrdersAction":case"GaslessCancelOrdersAction":case"CancelAllOrdersAction":return b;case"WrapAction":case"UnwrapAction":case"SwapAssetsAction":case"SvmSwapAssetsAction":return v;case"DropPublishAction":return S.Publish;default:return}};L[0]!==$?(o=(e,t,n)=>{var r,i;let s=$({chainIdentifier:e,contractAddress:t});return null!=(i=null!=(r=null==s?void 0:s.symbol)?r:null==n?void 0:n.symbol)?i:""},L[0]=$,L[1]=o):o=L[1];let et=o,en=()=>{switch(Z.__typename){case"ItemApprovalAction":return Y("approveCollectionDescription");case"BlurAuthAction":return Y("blurAuthDescription");default:return""}},er=(()=>{var e,t,n,r;switch(Z.__typename){case"BuyItemAction":case"SvmBuyItemsAction":return null==(e=Z.items[0])?void 0:e.imageUrl;case"CreateOffersAction":return(null==(t=Z.items[0])?void 0:t.imageUrl)?_:null;case"ItemApprovalAction":return null==(n=Z.item.collection)?void 0:n.imageUrl;case"BlurAuthAction":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5MDZfODE5KSI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0iYmxhY2siLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjUgMTEuNjA0MVY0LjMySDEwLjMwNTRMMTEuNzcwNyA1LjY4NjExVjcuNTI2OTFMMTEuMzUyOSA4LjAyMjc3TDExLjc3MDcgOC40NzQwNlYxMC4yNzgxTDEwLjMwMSAxMS42NDMxTDQuNSAxMS42MDUyVjExLjYwNDFaTTkuNjY2OTQgMTAuMTQ3N0wxMC4yMDQgOS42NTE4NlY5LjA1MDE0TDkuOTAzMTcgOC44MDA1NEg2LjA2NTU3VjEwLjEyNjVMOS42NjU4MyAxMC4xNDg4TDkuNjY2OTQgMTAuMTQ3N1pNOS44NzUzMSA3LjMxMDc0TDEwLjIwNCA3LjAwNDMxVjYuMzEyMzRMOS42NjM2IDUuODA5OEg2LjA2NjY5VjcuMzEwNzRIOS44NzUzMVpNMTguNjM4MSAxMi41OTkxTDIwLjEgMTMuOTY2NFYxNS45MDc1TDE5LjYxMzEgMTYuNDA4OUwyMC4xIDE2Ljg1MjRWMTkuODM4N0gxOC41MzMzVjE3LjQyOTZMMTguMjMyNSAxNy4xNzg5SDE0LjM5NzFWMTkuODM5OEgxMi44MzA0VjEyLjU5OTFIMTguNjM4MVpNMTcuOTk0IDE0LjA4NzhIMTQuMzk3MVYxNS42OTI0SDE4LjIwNTdMMTguNTMzMyAxNS4zODZWMTQuNTkxNUwxNy45OTQgMTQuMDg3OFpNMTkuODM4MSAxMS42NDJWMTAuMTUyMkgxNS4wODU3TDE0LjM5NDkgOS42MTI4NlY0LjMyMjIzSDEyLjgyOTNWMTAuMzE3MUwxNC41MjUyIDExLjY0MkgxOS44MzgxWk05LjQ3ODYzIDE4LjQzMDJMMTAuMTQwNSAxNy44OTg3VjEyLjYwMTRIMTEuNzA3MlYxOC41ODk1TDEwLjA1MTQgMTkuOTJINi4xNzU4OUw0LjUgMTguNTkxOFYxMi42MDE0SDYuMDY2NjlWMTcuODk0Mkw2Ljc0MzA2IDE4LjQzMDJIOS40Nzg2M1oiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMTkwNl84MTkiPgo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==";case"MintAction":return null==(r=Z.collection)?void 0:r.imageUrl;default:return null}})();L[2]!==ee?(c=ee(),L[2]=ee,L[3]=c):c=L[3];let ei=c;e:{let e;if(er){let e;L[4]!==er?(e={src:er},L[4]=er,L[5]=e):e=L[5],p=e;break e}if(ei){let e;L[6]!==ei?(e={icon:ei},L[6]=ei,L[7]=e):e=L[7],p=e;break e}L[8]===Symbol.for("react.memo_cache_sentinel")?(e={src:_},L[8]=e):e=L[8],p=e}let es=p,ea="ClaimTokenRewardAction"!==Z.__typename,el=a.TimelineItem;L[9]!==es||L[10]!==ea?(F=ea&&(0,t.jsx)(a.TimelineAvatar,{...es}),L[9]=es,L[10]=ea,L[11]=F):F=L[11];let eo=a.TimelineContent,ec=a.TimelineTitle,eu=(()=>{switch(Z.__typename){case"BuyItemAction":case"SvmBuyItemsAction":return X?Y("claimItem",{count:Z.items.length}):Y("buyItem",{count:Z.items.length});case"AcceptOfferAction":return Y("acceptOffer",{count:Z.items.length});case"ItemApprovalAction":return Y("approveCollection");case"PaymentApprovalAction":return Y("approveCurrency",{symbol:Z.currency.symbol});case"CreateListingsAction":return Y("createListing",{count:Z.items.length});case"CreateOfferAction":return Y("createOffer");case"CreateOffersAction":return Y("createOffer",{count:Z.items.length});case"CreateCollectionOfferAction":return(null==K?void 0:K.type)==="create-collection-offer"&&(K.traits&&K.traits.length>0||K.numericTraits&&K.numericTraits.length>0)?Y("createTraitOffer"):Y("createCollectionOffer");case"TransferAssetsAction":return Y("approveTransfer");case"BlurAuthAction":return Y("signBlurAuth");case"HyperliquidAuthAction":return Y("signHyperliquidAuth");case"HyperliquidDepositAction":var e;return(null==(e=Z.depositData)?void 0:e.type)==="withdraw3"?Y("signHyperliquidWithdraw"):Y("signHyperliquidDeposit");case"GaslessCancelOrdersAction":return Y("signCancelOrder");case"CancelOrdersAction":return Y("approveOrderCancellation");case"CancelAllOrdersAction":return Y("approveAllOrderCancellations");case"RefreshAction":return Y("completePriorTasks");case"WrapAction":{let e=et(Z.transactionSubmissionData.chain.identifier,Z.transactionSubmissionData.to,Z.transactionSubmissionData.chain.wrappedNativeCurrency);return Y("wrapToken",{from:Z.transactionSubmissionData.chain.nativeCurrency.symbol,to:e})}case"UnwrapAction":return Y("unwrapToken",{from:et(Z.transactionSubmissionData.chain.identifier,Z.transactionSubmissionData.to,Z.transactionSubmissionData.chain.wrappedNativeCurrency),to:Z.transactionSubmissionData.chain.nativeCurrency.symbol});case"SwapAssetsAction":case"SvmSwapAssetsAction":return Y("swapTokens");case"MintAction":return Y("signToMint");case"DropPublishAction":return Y("dropPublishAction");case"Permit2SignatureAction":return Y("permit2SignatureAction");case"ClaimTokenRewardAction":return Y("claimToken");default:return Y("unknown")}})();return L[12]!==ec||L[13]!==eu?(E=(0,t.jsx)(ec,{children:eu}),L[12]=ec,L[13]=eu,L[14]=E):E=L[14],L[15]!==en?(k=en(),L[15]=en,L[16]=k):k=L[16],L[17]!==k?(M=(0,t.jsx)(a.TimelineDescription,{children:k}),L[17]=k,L[18]=M):M=L[18],L[19]!==eo||L[20]!==E||L[21]!==M?(D=(0,t.jsxs)(eo,{children:[E,M]}),L[19]=eo,L[20]=E,L[21]=M,L[22]=D):D=L[22],L[23]!==Z||L[24]!==O||L[25]!==z||L[26]!==X||L[27]!==W||L[28]!==J||L[29]!==Q||L[30]!==V||L[31]!==H||L[32]!==U||L[33]!==G||L[34]!==Y?(R=O?Q?(0,t.jsx)(f.Spinner,{}):z?(0,t.jsxs)(i.Flex,{className:"gap-2 md:gap-3",children:[(0,t.jsx)(r.Badge,{icon:u.ErrorFilled,variant:"error",children:z}),(0,t.jsx)(s.Separator,{className:"h-6",orientation:"vertical"}),H?(0,t.jsx)(m.Button,{onClick:H,size:"sm",variant:"secondary",children:Y("reset")}):null,(0,t.jsx)(m.Button,{onClick:U,size:"sm",children:Y("retry")})]}):(0,t.jsx)(m.Button,{isLoading:V,onClick:G,size:"sm",children:"BuyItemAction"===Z.__typename||"SvmBuyItemsAction"===Z.__typename?X?Y("claim"):Y("buy"):"AcceptOfferAction"===Z.__typename?Y("accept"):J?Y("confirm"):Y("confirmInWallet")}):W?(0,t.jsx)(g.Check,{size:24}):null,L[23]=Z,L[24]=O,L[25]=z,L[26]=X,L[27]=W,L[28]=J,L[29]=Q,L[30]=V,L[31]=H,L[32]=U,L[33]=G,L[34]=Y,L[35]=R):R=L[35],L[36]!==R?(B=(0,t.jsx)(a.TimelineSide,{className:"max-w-[60%]",children:R}),L[36]=R,L[37]=B):B=L[37],L[38]!==el||L[39]!==O||L[40]!==D||L[41]!==B||L[42]!==F?(P=(0,t.jsxs)(el,{active:O,className:"gap-3 md:gap-4",children:[F,D,B]}),L[38]=el,L[39]=O,L[40]=D,L[41]=B,L[42]=F,L[43]=P):P=L[43],P}},602575,e=>{"use strict";e.s(["ActionTimeline",()=>x]);var t=e.i(705378),n=e.i(590268),r=e.i(147850),i=e.i(635341),s=e.i(52701),a=e.i(683269),l=e.i(969498),o=e.i(167532),c=e.i(248452),u=e.i(91259),d=e.i(363205),m=e.i(332238),p=e.i(841665),h=e.i(86859),y=e.i(562530);let f=e=>{let r,i,a,o,c=(0,n.c)(17),{actions:d,onAllActionsCompleted:m,onReload:p,onActionIndexChange:y,onActionCompleted:f,onBack:x,onStatusChange:v,onRetry:C}=e,w=d.map(g),{current:S,retry:b,error:j,isLoading:A,start:T,isPending:I,isDone:N}=(0,u.useScheduler)({actions:w,onReload:p,onAllActionsCompleted:m,onActionIndexChange:y,onActionCompleted:f,onRetry:C});c[0]!==N||c[1]!==A||c[2]!==I||c[3]!==v?(r=function(){null==v||v({isPending:I,isLoading:A,isDone:N})},i=[I,A,N,v],c[0]=N,c[1]=A,c[2]=I,c[3]=v,c[4]=r,c[5]=i):(r=c[4],i=c[5]),(0,l.useEffect)(r,i);let _=s.Timeline;c[6]!==S||c[7]!==j||c[8]!==A||c[9]!==I||c[10]!==x||c[11]!==b||c[12]!==T?(a=(e,n)=>(0,t.jsx)(h.ActionTimelineItem,{action:e,active:S===n,error:j,isDone:S>n,isLoading:A,isPending:I,onBack:x,retry:b,start:T},n),c[6]=S,c[7]=j,c[8]=A,c[9]=I,c[10]=x,c[11]=b,c[12]=T,c[13]=a):a=c[13];let F=w.map(a);return c[14]!==_||c[15]!==F?(o=(0,t.jsx)(_,{"data-testid":"timeline",children:F}),c[14]=_,c[15]=F,c[16]=o):o=c[16],o},x=e=>{let i,s,u,m=(0,n.c)(26),{actions:h,onBack:x,onReload:g,insufficientFundsOnChain:v,errorMessage:C}=e,w=(0,o.useTranslations)("wallet.ActionTimeline"),{ready:S,isConnecting:b,address:j}=(0,c.useAccount)(),{getName:A}=(0,r.useChains)(),{showErrorMessage:T}=(0,a.useToasts)();if(m[0]!==j||m[1]!==b||m[2]!==S||m[3]!==T||m[4]!==w?(i=function(){!S||j||b||(T(w("walletDisconnected")),d.FlowActions.endFlow())},s=[j,b,S,T,w],m[0]=j,m[1]=b,m[2]=S,m[3]=T,m[4]=w,m[5]=i,m[6]=s):(i=m[5],s=m[6]),(0,l.useEffect)(i,s),!S||b){let e,n=h.length||1;return m[7]!==n?(e=(0,t.jsx)(y.ActionTimelineSkeleton,{count:n}),m[7]=n,m[8]=e):e=m[8],e}if(!j)return null;if(v){let e,n;return m[9]!==A||m[10]!==v||m[11]!==w?(e=w("insufficientFundsOnChain",{chain:A(v)}),m[9]=A,m[10]=v,m[11]=w,m[12]=e):e=m[12],m[13]!==e?(n=(0,t.jsx)(p.ActionTimelineError,{message:e,showSide:!1}),m[13]=e,m[14]=n):n=m[14],n}if(0===h.length){let e,n,r;return m[15]!==C||m[16]!==w?(e=null!=C?C:w("loadingActionsError"),m[15]=C,m[16]=w,m[17]=e):e=m[17],m[18]!==g?(n=()=>null==g?void 0:g(),m[18]=g,m[19]=n):n=m[19],m[20]!==x||m[21]!==e||m[22]!==n?(r=(0,t.jsx)(p.ActionTimelineError,{message:e,onBack:x,onRetry:n}),m[20]=x,m[21]=e,m[22]=n,m[23]=r):r=m[23],r}return m[24]!==e?(u=(0,t.jsx)(f,{...e}),m[24]=e,m[25]=u):u=m[25],u};function g(e){return(0,i.readFragment)(m.ActionTimelineFragment,e)}},406828,e=>{"use strict";e.s(["useFlagsReady",()=>r]);var t=e.i(969498),n=e.i(137010);let r=()=>{let{flagsReady:e}=(0,t.useContext)(n.FlagContext);return e}},354955,61059,212771,16148,e=>{"use strict";e.s(["DestinationWalletSelect",()=>eo],354955);var t=e.i(705378),n=e.i(590268),r=e.i(147850),i=e.i(175109),s=e.i(72087),a=e.i(39771),l=e.i(965523),o=e.i(938390),c=e.i(838820),u=e.i(519078),d=e.i(209633),m=e.i(820130),p=e.i(950293),h=e.i(967593),y=e.i(217961),f=e.i(889313),x=e.i(861316),g=e.i(969498),v=e.i(167532);function C(e,t){let n=new Map;for(let r=0;r<e.length;r++){let i=e[r],s=t(i);n.has(s)||n.set(s,i)}return Array.from(n.values())}function w(e){return e}e.s(["uniqBy",()=>C],61059),e.s(["identity",()=>w],212771);var S=e.i(575789),b=e.i(3811),j=e.i(896037);e.s(["iteratee",()=>B],16148);var A=e.i(611734),T=e.i(534992),I=e.i(449928),N=e.i(267553);function _(e,t,n,r){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return F(e,t,n,r);if(t instanceof Map){var i,s,a,l,o=e,c=t,u=n,d=r;if(0===c.size)return!0;if(!(o instanceof Map))return!1;for(let[e,t]of c.entries())if(!1===u(o.get(e),t,e,o,c,d))return!1;return!0}if(t instanceof Set){return i=e,s=t,a=n,l=r,0===s.size||i instanceof Set&&F([...i],[...s],a,l)}let m=Object.keys(t);if(null==e)return 0===m.length;if(0===m.length)return!0;if(null==r?void 0:r.has(t))return r.get(t)===e;null==r||r.set(t,e);try{for(let i=0;i<m.length;i++){let s=m[i];if(!(0,I.isPrimitive)(e)&&!(s in e)||void 0===t[s]&&void 0!==e[s]||null===t[s]&&null!==e[s]||!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{null==r||r.delete(t)}}(e,t,n,r);case"function":if(Object.keys(t).length>0)return _(e,{...t},n,r);return(0,N.eq)(e,t);default:if(!(0,T.isObject)(e))return(0,N.eq)(e,t);if("string"==typeof t)return""===t;return!0}}function F(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let i=new Set;for(let s=0;s<t.length;s++){let a=t[s],l=!1;for(let o=0;o<e.length;o++){if(i.has(o))continue;let c=e[o],u=!1;if(n(c,a,s,e,t,r)&&(u=!0),u){i.add(o),l=!0;break}}if(!l)return!1}return!0}function E(e,t){return function e(t,n,r){return"function"!=typeof r?e(t,n,()=>void 0):_(t,n,function e(t,n,i,s,a,l){let o=r(t,n,i,s,a,l);return void 0!==o?!!o:_(t,n,e,l)},new Map)}(e,t,()=>void 0)}var k=e.i(55055),M=e.i(992497),D=e.i(571544),R=e.i(132360);function B(e){if(null==e)return w;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length){var t,n,r=e[0],i=e[1];switch(typeof r){case"object":Object.is(null==r?void 0:r.valueOf(),-0)&&(r="-0");break;case"number":r=(0,M.toKey)(r)}return i=(0,D.cloneDeep)(i),function(e){let t=(0,A.get)(e,r);return void 0===t?(0,R.has)(e,r):void 0===i?void 0===t:E(t,i)}}return n=t=e,t=(0,k.cloneDeepWithImpl)(n,void 0,n,new Map,void 0),e=>E(e,t);case"string":case"symbol":case"number":return function(t){return(0,A.get)(t,e)}}}var P=e.i(297421),L=e.i(41808),q=e.i(788513),O=e.i(934341);function z(){let e,t=(0,n.c)(7),{destinationWallets:r,lastSelectedWallet:i}=(0,P.useSnapshot)(q.CustomDestinationWalletsState),{wallets:s}=(0,P.useSnapshot)(O.LinkedDestinationWalletsState),a=(0,L.usePreviouslyConnectedAccounts)();if(t[0]!==r||t[1]!==i||t[2]!==s||t[3]!==a){let n=function(e,t){if(!(0,b.isArrayLike)(e)&&!(0,j.isObjectLike)(e))return{};let n=B(null!=t?t:w);return function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,r=arguments.length>2?arguments[2]:void 0;if(!e)return r;let i=0;(0,b.isArrayLike)(e)?(t=(0,S.range)(0,e.length),null==r&&e.length>0&&(r=e[0],i+=1)):(t=Object.keys(e),null==r&&(r=e[t[0]],i+=1));for(let s=i;s<t.length;s++){let i=t[s];r=n(r,e[i],i,e)}return r}(e,(e,t)=>(e[n(t)]=t,e),{})}(a,U);if(e=C(r.map(e=>{let t=n[e.address.toLowerCase()];return{...e,connectorId:null==t?void 0:t.connectorId}}).concat(a.map(W)).concat(s.map(V)),Q),i){let n;t[5]!==i?(n=e=>(0,x.isAddressEqual)(e.address,i.address),t[5]=i,t[6]=n):n=t[6];let r=e.findIndex(n);if(r>0){let t=e.splice(r,1)[0];e.unshift(t)}}t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=e}else e=t[4];return e}function Q(e){return e.address.toLowerCase()}function V(e){return{identifier:e.address,address:e.address,connectorId:e.connectorId}}function W(e){return{identifier:e.address,address:e.address,connectorId:e.connectorId}}function U(e){return e.address.toLowerCase()}var G=e.i(264711),H=e.i(623786),Z=e.i(529652),$=e.i(174258),Y=e.i(698722),K=e.i(450917),X=e.i(445857),J=e.i(194153),ee=e.i(972483),et=e.i(258343),en=e.i(266341),er=e.i(457628),ei=e.i(717796),es=e.i(608478);let ea=e=>{let r,i,s,a,c,u,m,h,y,x,C,w,S,b,j,A,T,I,N,_,F,E,k,M,D,R,B,P,L=(0,n.c)(66),{chainArch:O,open:z,onClose:Q,onWalletSelect:V}=e,W=(0,v.useTranslations)("wallet.DestinationWalletSelectModal"),[U,H]=(0,g.useState)("");L[0]!==U?(r={identifier:U},L[0]=U,L[1]=r):r=L[1];let Z=(0,ei.useAddressInput)(r);L[2]!==Z.resolvedAddress||L[3]!==U||L[4]!==Q||L[5]!==V?(i=()=>{if(Z.resolvedAddress){let e={identifier:U,address:Z.resolvedAddress};q.CustomDestinationWalletsActions.addDestinationWallet({identifier:U,address:Z.resolvedAddress}),V(e),Q()}},L[2]=Z.resolvedAddress,L[3]=U,L[4]=Q,L[5]=V,L[6]=i):i=L[6];let $=i,[Y,K]=(0,g.useState)(0);L[7]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{K(el)},L[7]=s):s=L[7];let X=s;L[8]!==z?(a=()=>{z&&(H(""),X())},c=[z,X],L[8]=z,L[9]=a,L[10]=c):(a=L[9],c=L[10]),(0,g.useEffect)(a,c);e:{if(!Z.resolvedAddress||O&&(0,G.getChainArchFromAddress)(Z.resolvedAddress)!==O){u=!1;break e}u=!0}let ea=u;L[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(J.CenterAligned,{className:"rounded-lg border border-border-1 p-1",children:(0,t.jsx)(J.CenterAligned,{className:"size-10 rounded border border-border-1 bg-bg-primary",children:(0,t.jsx)(f.Wallet,{size:24})})}),L[11]=m):m=L[11],L[12]!==W?(h=W("title"),L[12]=W,L[13]=h):h=L[13],L[14]!==h?(y=(0,t.jsx)(ee.ModalHeaderTitle,{children:h}),L[14]=h,L[15]=y):y=L[15],L[16]!==O||L[17]!==W?(x=W("EVM"===O?"description":"descriptionSolana"),L[16]=O,L[17]=W,L[18]=x):x=L[18],L[19]!==x?(C=(0,t.jsx)(p.TextBody,{color:"text-secondary",size:"sm",children:x}),L[19]=x,L[20]=C):C=L[20],L[21]!==C||L[22]!==y?(w=(0,t.jsxs)(ee.ModalHeader,{className:"gap-5",variant:"heroMedia",children:[m,(0,t.jsxs)(l.FlexColumn,{className:"items-center gap-1",children:[y,C]})]}),L[21]=C,L[22]=y,L[23]=w):w=L[23],L[24]!==W?(S=W("destinationAddress"),L[24]=W,L[25]=S):S=L[25],L[26]!==S?(b=(0,t.jsx)(d.Label,{size:"sm",weight:"regular",children:S}),L[26]=S,L[27]=b):b=L[27],L[28]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{H(""),X()},L[28]=j):j=L[28],L[29]!==W?(A=W("reset"),L[29]=W,L[30]=A):A=L[30],L[31]!==A?(T=(0,t.jsx)(er.UnstyledButton,{className:"opacity-75 hover:underline hover:opacity-100",onClick:j,children:(0,t.jsx)(en.TextLabel,{children:A})}),L[31]=A,L[32]=T):T=L[32],L[33]!==b||L[34]!==T?(I=(0,t.jsxs)(et.SpaceBetween,{children:[b,T]}),L[33]=b,L[34]=T,L[35]=I):I=L[35],L[36]===Symbol.for("react.memo_cache_sentinel")?(N=e=>H(e.target.value),L[36]=N):N=L[36],L[37]!==O||L[38]!==W?(_=W("EVM"===O?"destinationAddressPlaceholder":"destinationAddressPlaceholderSolana"),L[37]=O,L[38]=W,L[39]=_):_=L[39],L[40]!==Y||L[41]!==Z||L[42]!==_?(F=(0,t.jsx)(es.WalletAddressInput,{autoFocus:!0,onChange:N,placeholder:_,setValue:H,size:"md",withResetButton:!1,...Z},Y),L[40]=Y,L[41]=Z,L[42]=_,L[43]=F):F=L[43],L[44]!==I||L[45]!==F?(E=(0,t.jsx)(ee.ModalBody,{className:"pt-6",children:(0,t.jsx)(o.FormControl,{label:I,children:F})}),L[44]=I,L[45]=F,L[46]=E):E=L[46];let eo=!ea;return L[47]!==W?(k=W("save"),L[47]=W,L[48]=k):k=L[48],L[49]!==$||L[50]!==eo||L[51]!==k?(M=(0,t.jsx)(ee.ModalFooter,{children:(0,t.jsx)(ee.ModalFooterButton,{disabled:eo,onClick:$,children:k})}),L[49]=$,L[50]=eo,L[51]=k,L[52]=M):M=L[52],L[53]!==w||L[54]!==E||L[55]!==M?(D=(0,t.jsxs)(t.Fragment,{children:[w,E,M]}),L[53]=w,L[54]=E,L[55]=M,L[56]=D):D=L[56],L[57]!==Q?(R=e=>!e&&Q(),L[57]=Q,L[58]=R):R=L[58],L[59]!==W?(B=W("title"),L[59]=W,L[60]=B):B=L[60],L[61]!==z||L[62]!==D||L[63]!==R||L[64]!==B?(P=(0,t.jsx)(ee.Modal,{content:D,onOpenChange:R,open:z,size:"sm",title:B}),L[61]=z,L[62]=D,L[63]=R,L[64]=B,L[65]=P):P=L[65],P};function el(e){return e+1}let eo=e=>{let C,w,S,b,j,A,T,I,N,_,F,E,k,M,D,R,B,P,L,O,Q,V,W,U,J,ee=(0,n.c)(90),{label:et,destinationChain:en,onWalletSelect:er,walletDestination:ei,error:es,className:el}=e,eo=(0,v.useTranslations)("wallet.DestinationWalletSelect"),[ec,eu]=(0,g.useState)(!1),ed=(0,Z.useAddress)(),{getChain:em}=(0,r.useChains)(),ep=z(),eh=(()=>{let e,t=(0,n.c)(2),r=z();return t[0]!==r?(e=e=>r.find(t=>(0,x.isAddressEqual)(t.address,e)),t[0]=r,t[1]=e):e=t[1],e})(),ey=function(){let e,t=(0,n.c)(2),{getConnector:r}=(0,$.useConnectors)();return t[0]!==r?(e=e=>{if(e){let t=r(e);return(null==t?void 0:t.icon)?{src:t.icon}:{icon:f.Wallet}}return{icon:f.Wallet}},t[0]=r,t[1]=e):e=t[1],e}();ee[0]!==en||ee[1]!==em?(C=en?em(en):void 0,ee[0]=en,ee[1]=em,ee[2]=C):C=ee[2];let ef=C;if(ee[3]!==(null==ef?void 0:ef.arch)||ee[4]!==(null==ef?void 0:ef.identifier)||ee[5]!==ep||ee[6]!==(null==ei?void 0:ei.address)){let e,t,n;ee[8]!==(null==ei?void 0:ei.address)?(e=e=>!(0,x.isAddressEqual)(e.address,null==ei?void 0:ei.address),ee[8]=null==ei?void 0:ei.address,ee[9]=e):e=ee[9],ee[10]!==(null==ef?void 0:ef.arch)?(t=e=>(null==ef?void 0:ef.arch)===(0,G.getChainArchFromAddress)(e.address),ee[10]=null==ef?void 0:ef.arch,ee[11]=t):t=ee[11],ee[12]!==(null==ef?void 0:ef.identifier)?(n=e=>{var t;return!(0,H.isAbstractWalletAccount)(null!=(t=e.connectorId)?t:"")||(null==ef?void 0:ef.identifier)==="abstract"},ee[12]=null==ef?void 0:ef.identifier,ee[13]=n):n=ee[13],w=ep.filter(e).filter(t).filter(n),ee[3]=null==ef?void 0:ef.arch,ee[4]=null==ef?void 0:ef.identifier,ee[5]=ep,ee[6]=null==ei?void 0:ei.address,ee[7]=w}else w=ee[7];let ex=w;ee[14]!==er?(S=e=>{let t={address:e,identifier:e};er(t),q.CustomDestinationWalletsActions.setLastSelectedWallet(t)},ee[14]=er,ee[15]=S):S=ee[15];let eg=S;ee[16]!==er?(b=e=>{er(e),q.CustomDestinationWalletsActions.setLastSelectedWallet(e),eu(!1)},ee[16]=er,ee[17]=b):b=ee[17];let ev=b;ee[18]!==ef||ee[19]!==er||ee[20]!==ei?(j=function(){if(null==ei?void 0:ei.address){let e=(0,G.getChainArchFromAddress)(ei.address);ef&&e!==ef.arch&&er({address:"",identifier:void 0})}},ee[18]=ef,ee[19]=er,ee[20]=ei,ee[21]=j):j=ee[21];let eC=null==ei?void 0:ei.address;ee[22]!==ef||ee[23]!==er||ee[24]!==eC?(A=[ef,eC,er],ee[22]=ef,ee[23]=er,ee[24]=eC,ee[25]=A):A=ee[25],(0,g.useEffect)(j,A),ee[26]!==ed||ee[27]!==eg||ee[28]!==ex||ee[29]!==(null==ei?void 0:ei.identifier)?(T=()=>{let e=ex.find(e=>(0,x.isAddressEqual)(e.address,ed))||ex.at(0);(null==ei?void 0:ei.identifier)||!e||eg(e.address)},ee[26]=ed,ee[27]=eg,ee[28]=ex,ee[29]=null==ei?void 0:ei.identifier,ee[30]=T):T=ee[30],ee[31]!==ed||ee[32]!==eg||ee[33]!==ex||ee[34]!==ei?(I=[ex,ei,eg,ed],ee[31]=ed,ee[32]=eg,ee[33]=ex,ee[34]=ei,ee[35]=I):I=ee[35],(0,g.useEffect)(T,I),ee[36]!==et||ee[37]!==eo?(N=et||(0,t.jsx)(d.Label,{size:"sm",weight:"regular",children:eo("destinationWallet")}),ee[36]=et,ee[37]=eo,ee[38]=N):N=ee[38],ee[39]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(Y.Avatar,{border:!0,className:"p-1",icon:f.Wallet,overrides:{Icon:{fill:"text-secondary"}},rounded:!0,size:24}),ee[39]=_):_=ee[39],ee[40]!==eo?(F=eo("selectWallet"),ee[40]=eo,ee[41]=F):F=ee[41],ee[42]!==F?(E=(0,t.jsxs)(a.FlexCenter,{className:"gap-2",children:[_,(0,t.jsx)(p.TextBody,{color:"text-secondary",children:F})]}),ee[42]=F,ee[43]=E):E=ee[43],ee[44]!==ed||ee[45]!==ey||ee[46]!==eh||ee[47]!==eo?(k=e=>{var n,r;let s=eh(e),a=null!=(n=null==s?void 0:s.address)?n:e,l=null!=(r=null==s?void 0:s.identifier)?r:e;return(0,t.jsxs)(X.Item,{variant:"unstyled",children:[(0,t.jsx)(u.ItemAvatar,{...ey(null==s?void 0:s.connectorId),size:24}),(0,t.jsx)(u.ItemContent,{children:(0,t.jsx)(h.Tooltip,{content:a,children:(0,t.jsx)(u.ItemTitle,{children:(0,G.isAddress)(l)?(0,c.formatAddress)(l):l})})}),(0,x.isAddressEqual)(ed,a)&&(0,t.jsx)(u.ItemSide,{children:(0,t.jsx)(i.Badge,{children:eo("connected")})})]},a)},ee[44]=ed,ee[45]=ey,ee[46]=eh,ee[47]=eo,ee[48]=k):k=ee[48];let ew=null==ei?void 0:ei.identifier;if(ee[49]!==eo||ee[50]!==ex.length?(M=ex.length>0&&(0,t.jsx)(X.Item,{className:"px-2 py-1",variant:"unstyled",children:(0,t.jsx)(u.ItemContent,{children:(0,t.jsx)(u.ItemDescription,{weight:"regular",children:eo("recentWallets")})})}),ee[49]=eo,ee[50]=ex.length,ee[51]=M):M=ee[51],ee[52]!==ed||ee[53]!==ey||ee[54]!==eo||ee[55]!==ex){let e;ee[57]!==ed||ee[58]!==ey||ee[59]!==eo?(e=e=>{let n=!e.connectorId;return(0,t.jsxs)(m.SelectItem,{value:e.address,children:[(0,t.jsx)(m.SelectItemAvatar,{...ey(e.connectorId),size:24}),(0,t.jsx)(m.SelectItemContent,{children:(0,t.jsx)(m.SelectItemTitle,{children:(0,G.isAddress)(e.identifier)?(0,c.formatAddress)(e.identifier):e.identifier})}),(0,x.isAddressEqual)(ed,e.address)&&(0,t.jsx)(u.ItemSide,{children:(0,t.jsx)(i.Badge,{children:eo("connected")})}),n&&(0,t.jsx)(u.ItemSide,{children:(0,t.jsx)(K.Button,{onClick:t=>(function(e,t){e.stopPropagation(),q.CustomDestinationWalletsActions.deleteDestinationWallet(t)})(t,e.address),size:"xs",variant:"destructive",children:eo("delete")})})]},e.address)},ee[57]=ed,ee[58]=ey,ee[59]=eo,ee[60]=e):e=ee[60],D=ex.map(e),ee[52]=ed,ee[53]=ey,ee[54]=eo,ee[55]=ex,ee[56]=D}else D=ee[56];ee[61]===Symbol.for("react.memo_cache_sentinel")?(R=()=>eu(!0),B=(0,t.jsx)(s.DropdownItemAvatar,{icon:y.Add,size:24}),ee[61]=R,ee[62]=B):(R=ee[61],B=ee[62]),ee[63]!==eo?(P=eo("addWallet"),ee[63]=eo,ee[64]=P):P=ee[64],ee[65]!==P?(L=(0,t.jsxs)(s.DropdownItem,{onClick:R,children:[B,(0,t.jsx)(s.DropdownItemContent,{children:(0,t.jsx)(s.DropdownItemTitle,{children:P})})]}),ee[65]=P,ee[66]=L):L=ee[66],ee[67]!==M||ee[68]!==D||ee[69]!==L?(O=(0,t.jsxs)(l.FlexColumn,{className:"gap-1",children:[M,D,L]}),ee[67]=M,ee[68]=D,ee[69]=L,ee[70]=O):O=ee[70],ee[71]!==eg||ee[72]!==E||ee[73]!==k||ee[74]!==ew||ee[75]!==O?(Q=(0,t.jsx)(m.Select,{className:"px-2",onValueChange:eg,placeholder:E,renderValue:k,size:"md",value:ew,variant:"transparent",children:O}),ee[71]=eg,ee[72]=E,ee[73]=k,ee[74]=ew,ee[75]=O,ee[76]=Q):Q=ee[76],ee[77]!==el||ee[78]!==es||ee[79]!==N||ee[80]!==Q?(V=(0,t.jsx)(o.FormControl,{className:el,error:es,label:N,children:Q}),ee[77]=el,ee[78]=es,ee[79]=N,ee[80]=Q,ee[81]=V):V=ee[81];let eS=null==ef?void 0:ef.arch;return ee[82]===Symbol.for("react.memo_cache_sentinel")?(W=()=>eu(!1),ee[82]=W):W=ee[82],ee[83]!==ev||ee[84]!==ec||ee[85]!==eS?(U=(0,t.jsx)(ea,{chainArch:eS,onClose:W,onWalletSelect:ev,open:ec}),ee[83]=ev,ee[84]=ec,ee[85]=eS,ee[86]=U):U=ee[86],ee[87]!==V||ee[88]!==U?(J=(0,t.jsxs)(t.Fragment,{children:[V,U]}),ee[87]=V,ee[88]=U,ee[89]=J):J=ee[89],J}},534087,e=>{"use strict";e.s(["SmartContractWalletWarningModal",()=>l]);var t=e.i(705378),n=e.i(590268),r=e.i(972483),i=e.i(950293),s=e.i(672742),a=e.i(167532);function l(e){let l,o,c,u,d,m,p,h,y,f,x,g,v,C,w,S,b=(0,n.c)(39),{open:j,onContinue:A,onCancel:T}=e,I=(0,a.useTranslations)("wallet.SmartContractWalletWarningModal");return b[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(s.WarningFilled,{className:"inline-block",fill:"warning",size:24}),b[0]=l):l=b[0],b[1]!==I?(o=I("title"),b[1]=I,b[2]=o):o=b[2],b[3]!==o?(c=(0,t.jsxs)(r.ModalHeader,{className:"gap-2",children:[l,(0,t.jsx)(r.ModalHeaderTitle,{children:o})]}),b[3]=o,b[4]=c):c=b[4],b[5]!==I?(u=I("warning"),b[5]=I,b[6]=u):u=b[6],b[7]!==u?(d=(0,t.jsx)(i.TextBody,{children:u}),b[7]=u,b[8]=d):d=b[8],b[9]!==I?(m=I("warningBold"),b[9]=I,b[10]=m):m=b[10],b[11]!==m?(p=(0,t.jsx)(i.TextBody,{weight:"semibold",children:m}),b[11]=m,b[12]=p):p=b[12],b[13]!==d||b[14]!==p?(h=(0,t.jsxs)(r.ModalBody,{children:[d,p]}),b[13]=d,b[14]=p,b[15]=h):h=b[15],b[16]!==I?(y=I("cancel"),b[16]=I,b[17]=y):y=b[17],b[18]!==T||b[19]!==y?(f=(0,t.jsx)(r.ModalFooterButton,{onClick:T,variant:"secondary",children:y}),b[18]=T,b[19]=y,b[20]=f):f=b[20],b[21]!==I?(x=I("continue"),b[21]=I,b[22]=x):x=b[22],b[23]!==A||b[24]!==x?(g=(0,t.jsx)(r.ModalFooterButton,{onClick:A,variant:"destructive",children:x}),b[23]=A,b[24]=x,b[25]=g):g=b[25],b[26]!==f||b[27]!==g?(v=(0,t.jsxs)(r.ModalFooter,{children:[f,g]}),b[26]=f,b[27]=g,b[28]=v):v=b[28],b[29]!==v||b[30]!==c||b[31]!==h?(C=(0,t.jsxs)(t.Fragment,{children:[c,h,v]}),b[29]=v,b[30]=c,b[31]=h,b[32]=C):C=b[32],b[33]!==T?(w=e=>{e||T()},b[33]=T,b[34]=w):w=b[34],b[35]!==j||b[36]!==C||b[37]!==w?(S=(0,t.jsx)(r.Modal,{content:C,onOpenChange:w,open:j}),b[35]=j,b[36]=C,b[37]=w,b[38]=S):S=b[38],S}},98790,e=>{"use strict";e.s(["usePublicClient",()=>s],98790);var t=e.i(308981);function n(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getClient(t)}catch(e){return}}(e,n);return null==r?void 0:r.extend(t.publicActions)}var r=e.i(212553),i=e.i(441220);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useConfig)(e);return(0,r.useSyncExternalStoreWithSelector)(e=>(function(e,t){let{onChange:r}=t;return e.subscribe(()=>n(e),r,{equalityFn:(e,t)=>(null==e?void 0:e.uid)===(null==t?void 0:t.uid)})})(t,{onChange:e}),()=>n(t,e),()=>n(t,e),e=>e,(e,t)=>(null==e?void 0:e.uid)===(null==t?void 0:t.uid))}},191003,e=>{"use strict";e.s(["useWalletAccountType",()=>o]);var t=e.i(590268),n=e.i(969498),r=e.i(98790),i=e.i(732037),s=e.i(529652),a=e.i(726001);let l=new Map;function o(){let e,o,c,u=(0,t.c)(8),[d,m]=(0,n.useState)("unknown"),[p,h]=(0,n.useState)(!1),y=(0,s.useAddress)(),f=(0,a.useChainArch)(),x=(0,r.usePublicClient)(),g=(0,n.useRef)("");return u[0]!==y||u[1]!==f||u[2]!==x?(e=()=>{var e,t;if(!y||"EVM"!==f||!(0,i.isEvmAddress)(y)){m("unknown"),h(!1);return}let n=(t=null==x||null==(e=x.chain)?void 0:e.id,t&&y?"".concat(t,":").concat(y.toLowerCase()):"");if(n&&n===g.current)return;if(n){let e=l.get(n);if(e){m(e),h(!1),g.current=n;return}}let r=!1;return h(!0),null==x||x.getCode({address:y}).then(e=>{if(!r){let t=e&&"0x"!==e?e.toLowerCase().startsWith("0xef0100")?"eip7702_delegated_eoa":"smart_contract_wallet":"eoa";m(t),h(!1),n&&(l.set(n,t),g.current=n)}}).catch(()=>{r||(m("unknown"),h(!1))}),()=>{r=!0}},o=[y,f,x],u[0]=y,u[1]=f,u[2]=x,u[3]=e,u[4]=o):(e=u[3],o=u[4]),(0,n.useEffect)(e,o),u[5]!==p||u[6]!==d?(c={walletAccountType:d,loading:p},u[5]=p,u[6]=d,u[7]=c):c=u[7],c}},606216,e=>{"use strict";e.s(["SwapContext",()=>n,"useSwapContext",()=>r]);var t=e.i(969498);let n=(0,t.createContext)({isLoadingQuote:!1,container:null,actions:[],quote:void 0,receipt:void 0,isLoadingInitialToCurrency:!1,isLoadingInitialFromCurrency:!1,hasQuoteError:!1,isCurrencySelectionDisabled:!1,isAutoSlippageEnabled:!0,shouldShowConfirmationModal:!1,actionsStatus:{isPending:!1,isLoading:!1,isDone:!1},source:"",surface:"inline",swapComponent:"swap-module",bundledExecution:void 0,selectedPaymentToken:void 0,userOperationsEnabled:!1,setActionsStatus:()=>{},toggleAutoSlippage:()=>{},setShouldShowConfirmationModal:()=>{},waitForCompletion:()=>Promise.resolve({}),setContainer:()=>{},onSubmit:async()=>{},onBundledExecutionSubmit:()=>void 0,setBundledExecutionSubmit:()=>{},reset:()=>{},reloadActions:()=>{},setSelectedPaymentToken:()=>{}}),r=()=>(0,t.useContext)(n)},440071,e=>{"use strict";e.s(["PaymentTokenSelector",()=>d]);var t=e.i(705378),n=e.i(590268),r=e.i(437153),i=e.i(72087),s=e.i(39771),a=e.i(258343),l=e.i(950293),o=e.i(398821),c=e.i(167532),u=e.i(606216);function d(e){let s,d,p,h,y,f=(0,n.c)(16),{className:x}=e,g=(0,c.useTranslations)("wallet.PaymentTokenSelector"),{bundledExecution:v,selectedPaymentToken:C,setSelectedPaymentToken:w,actionsStatus:S,userOperationsEnabled:b,isLoadingQuote:j}=(0,u.useSwapContext)(),A=null==v?void 0:v.paymentTokens;if(!(b&&A)||0===A.length)return null;let T=null!=C?C:A[0],I=S.isLoading||S.isPending||j,N=A.length>1;return f[0]!==x?(s=(0,r.classNames)("px-4",x),f[0]=x,f[1]=s):s=f[1],f[2]!==g?(d=g("payGasWith"),f[2]=g,f[3]=d):d=f[3],f[4]!==d?(p=(0,t.jsx)(l.TextBody,{children:d}),f[4]=d,f[5]=p):p=f[5],f[6]!==T||f[7]!==N||f[8]!==I||f[9]!==A||f[10]!==w?(h=N?(0,t.jsx)(i.Dropdown,{content:A.map(e=>{var n;return(0,t.jsxs)(i.DropdownItem,{onSelect:()=>w(e),children:[(0,t.jsx)(i.DropdownItemAvatar,{src:null!=(n=e.imageUrl)?n:void 0}),(0,t.jsx)(i.DropdownItemContent,{children:(0,t.jsx)(i.DropdownItemTitle,{children:e.symbol})})]},e.contractAddress)}),children:(0,t.jsxs)("button",{className:(0,r.classNames)("flex items-center gap-1 rounded-lg px-2 py-1","bg-bg-secondary hover:bg-bg-additional-1","transition-colors",{"cursor-not-allowed opacity-50":I}),disabled:I,type:"button",children:[(0,t.jsx)(m,{token:T}),(0,t.jsx)(o.ExpandMore,{size:16})]})}):(0,t.jsx)(m,{token:T}),f[6]=T,f[7]=N,f[8]=I,f[9]=A,f[10]=w,f[11]=h):h=f[11],f[12]!==s||f[13]!==p||f[14]!==h?(y=(0,t.jsxs)(a.SpaceBetween,{className:s,children:[p,h]}),f[12]=s,f[13]=p,f[14]=h,f[15]=y):y=f[15],y}function m(e){let r,i,a,o=(0,n.c)(8),{token:c}=e;return o[0]!==c.imageUrl||o[1]!==c.symbol?(r=c.imageUrl&&(0,t.jsx)("img",{alt:c.symbol,className:"size-4 rounded-full",src:c.imageUrl}),o[0]=c.imageUrl,o[1]=c.symbol,o[2]=r):r=o[2],o[3]!==c.symbol?(i=(0,t.jsx)(l.TextBody,{children:c.symbol}),o[3]=c.symbol,o[4]=i):i=o[4],o[5]!==r||o[6]!==i?(a=(0,t.jsxs)(s.FlexCenter,{className:"gap-1.5",children:[r,i]}),o[5]=r,o[6]=i,o[7]=a):a=o[7],a}},590626,259476,93645,133479,e=>{"use strict";e.s(["useSwapButtonText",()=>i],590626);var t=e.i(147850),n=e.i(565673),r=e.i(167532);function i(e,i){let{getChain:s}=(0,t.useChains)(),a=(0,r.useTranslations)("wallet.useSwapButtonText"),{control:l}=(0,n.useFormContext)(),o=(0,n.useWatch)({control:l,name:"fromCurrency"}),c=(0,n.useWatch)({control:l,name:"toCurrency"}),u=s(o.chainIdentifier),d=c?s(c.chainIdentifier):void 0;if((null==u?void 0:u.identifier)===(null==d?void 0:d.identifier)&&(null==u?void 0:u.nativeCurrency)&&u.wrappedNativeCurrency){if(o.contractAddress===u.nativeCurrency.contractAddress&&(null==c?void 0:c.contractAddress)===u.wrappedNativeCurrency.contractAddress)return a("wrap");if(o.contractAddress===u.wrappedNativeCurrency.contractAddress&&(null==c?void 0:c.contractAddress)===u.nativeCurrency.contractAddress)return a("unwrap")}return"buy"===e?a("deposit-modal"===i?"deposit":"buy"):"sell"===e?a("deposit-modal"===i?"withdraw":"sell"):a("swap")}e.s(["useTrackSwapEvent",()=>h],93645);var s=e.i(635341),a=e.i(703405),l=e.i(465172),o=e.i(480103),c=e.i(969498),u=e.i(227440),d=e.i(606216);e.s(["useTrackSwapEventFragment",()=>p],259476);var m=e.i(528198);let p=(0,m.graphql)("\n  fragment useTrackSwapEvent on SwapQuote {\n    slippageTolerance\n    swapRoutes {\n      ... on SwapRoute {\n        fromAsset {\n          ... on Currency {\n            symbol\n            contractAddress\n            chainIdentifier\n            chain {\n              identifier\n            }\n            decimals\n            stats {\n              marketCapUsd\n            }\n          }\n        }\n        toAsset {\n          ... on Currency {\n            symbol\n            contractAddress\n            chainIdentifier\n            chain {\n              identifier\n            }\n            decimals\n            stats {\n              marketCapUsd\n            }\n          }\n        }\n        pricePerFromAsset {\n          usd\n        }\n        pricePerToAsset {\n          usd\n        }\n        fromQuantity\n        toQuantity\n        swapProvider\n        costs {\n          costType\n          cost {\n            usd\n          }\n        }\n      }\n    }\n  }\n");function h(e){let t=(0,s.readFragment)(p,e),{source:n,surface:r,swapComponent:i,isAutoSlippageEnabled:m}=(0,d.useSwapContext)(),h=(0,u.useTrackEvent)();return(0,c.useCallback)((e,s)=>{var c,u;if(!t||0===t.swapRoutes.length)return;let d=(0,o.head)(t.swapRoutes);if(!d||"SwapRoute"!==d.__typename||"Currency"!==d.fromAsset.__typename||"Currency"!==d.toAsset.__typename)return;let p=(0,l.bn)(d.pricePerFromAsset.usd).toFixed(2),y=a.BigNumber.sum(...d.costs.filter(e=>"MARKETPLACE"===e.costType).map(e=>e.cost.usd),0).toString(),f={fromCurrency:{symbol:d.fromAsset.symbol,contractAddress:d.fromAsset.contractAddress,chain:d.fromAsset.chainIdentifier},toCurrency:{symbol:d.toAsset.symbol,contractAddress:d.toAsset.contractAddress,chain:d.toAsset.chainIdentifier},usdValue:p,fromAmount:(0,l.bn)(d.fromQuantity,d.fromAsset.decimals).toString(),toAmount:(0,l.bn)(d.toQuantity,d.toAsset.decimals).toString(),fromAmountUsd:p,toAmountUsd:(0,l.bn)(d.pricePerToAsset.usd).toFixed(2),feeAmountUsd:y,isCrossChain:d.fromAsset.chainIdentifier!==d.toAsset.chainIdentifier,swapProvider:d.swapProvider,maxSlippage:t.slippageTolerance,autoSlippage:m,source:n,surface:r,swapComponent:i,...s};(null==(c=d.fromAsset.stats)?void 0:c.marketCapUsd)!==void 0&&(f.fromCurrencyMarketCapUsd=d.fromAsset.stats.marketCapUsd),(null==(u=d.toAsset.stats)?void 0:u.marketCapUsd)!==void 0&&(f.toCurrencyMarketCapUsd=d.toAsset.stats.marketCapUsd),h(e,f)},[t,h,n,r,i,m])}e.s(["useBundledExecution",()=>j],133479),e.i(176633);var y=e.i(752443),f=e.i(84060),x=e.i(703544),g=e.i(909961),v=e.i(92270),C=e.i(248452),w=e.i(176772);let S=(0,m.graphql)("\n  mutation PrepareBundledExecution($input: PrepareBundledExecutionInput!) {\n    prepareBundledExecution(input: $input) {\n      executionId\n      userOpHash\n      authorization {\n        chain {\n          networkId\n        }\n        delegationAddress\n        nonce\n      }\n    }\n  }\n"),b=(0,m.graphql)("\n  mutation SubmitBundledExecution($input: SubmitBundledExecutionInput!) {\n    submitBundledExecution(input: $input) {\n      status\n      userOpHash\n      callId\n    }\n  }\n");function j(){let{address:e}=(0,C.useAccount)(),t=(0,w.useIsEmbeddedWallet)(),[n,r]=(0,c.useState)(!1),i=(0,c.useRef)(!1),s=(0,x.useIsMountedRef)(),{signMessageAsync:a}=(0,v.useSignMessage)(),[,l]=(0,f.useMutation)(S),[,o]=(0,f.useMutation)(b);return{executeBundled:(0,c.useCallback)(async n=>{let{actionBundleToken:c,paymentTokenAddress:u}=n;if(i.current)throw Error("Execution already in progress");if(!e)throw Error("No wallet connected");if(!t)throw Error("Bundled execution is only supported with embedded wallets");i.current=!0,r(!0);try{var d,m,p,h,f,x,v;let e,t=await l({input:{actionBundleToken:c,...u&&{paymentTokenAddress:u}}});if(!(null==(d=t.data)?void 0:d.prepareBundledExecution))throw Error(null!=(h=null==(p=t.error)?void 0:p.message)?h:"Failed to prepare bundled execution");let{executionId:n,userOpHash:r,authorization:i}=t.data.prepareBundledExecution,s=(0,g.hexToBytes)(r),C=await a({message:{raw:s}});if(i){if(!(null==(f=i.chain)?void 0:f.networkId)||null===i.nonce||void 0===i.nonce||!i.delegationAddress)throw Error("Missing networkId, nonce, or delegationAddress in authorization");let t=i.chain.networkId,n=Number(i.nonce);if(Number.isNaN(n))throw Error("Invalid authorization data format: nonce=".concat(i.nonce));e=await (0,y.signAuthorization)({address:i.delegationAddress,chainId:t,nonce:n})}let w=await o({input:{executionId:n,signature:C,delegationSignature:e}});if(!(null==(m=w.data)?void 0:m.submitBundledExecution))throw Error(null!=(v=null==(x=w.error)?void 0:x.message)?v:"Failed to submit bundled execution");return w.data.submitBundledExecution}finally{i.current=!1,s.current&&r(!1)}},[e,t,l,a,o]),isLoading:n}}},534838,e=>{"use strict";e.s(["useNeedsCompatibleWallet",()=>s]);var t=e.i(590268),n=e.i(147850),r=e.i(565673),i=e.i(726001);function s(){let e,s,a,l,o=(0,t.c)(9),{getChain:c}=(0,n.useChains)(),u=(0,i.useChainArch)(),{control:d}=(0,r.useFormContext)();o[0]===Symbol.for("react.memo_cache_sentinel")?(e=["fromCurrency","toCurrency"],o[0]=e):e=o[0],o[1]!==d?(s={control:d,name:e},o[1]=d,o[2]=s):s=o[2];let[m,p]=(0,r.useWatch)(s);o[3]!==m||o[4]!==c?(a=(null==m?void 0:m.chainIdentifier)?c(m.chainIdentifier):void 0,o[3]=m,o[4]=c,o[5]=a):a=o[5];let h=a;o[6]!==c||o[7]!==p?(l=(null==p?void 0:p.chainIdentifier)?c(p.chainIdentifier):void 0,o[6]=c,o[7]=p,o[8]=l):l=o[8];let y=l,f=null==h?void 0:h.arch,x=null==y?void 0:y.arch;return!!((null==m?void 0:m.restrictSwapsToSameChain)&&f&&u!==f)||!!((null==p?void 0:p.restrictSwapsToSameChain)&&x&&u!==x)}},488485,323783,e=>{"use strict";e.s(["useSwapGasCheck",()=>a],488485);var t=e.i(635341),n=e.i(465172),r=e.i(521593),i=e.i(606216);e.s(["useSwapGasCheckFragment",()=>s],323783);let s=(0,e.i(528198).graphql)("\n  fragment useSwapGasCheckFragment on SwapQuote {\n    swapRoutes {\n      ... on SwapRoute {\n        costs {\n          costType\n          cost {\n            token {\n              unit\n              symbol\n              address\n              chain {\n                identifier\n              }\n            }\n          }\n        }\n        fromAsset {\n          ... on Currency {\n            symbol\n            chainIdentifier\n          }\n        }\n        pricePerFromAsset {\n          token {\n            unit\n          }\n        }\n      }\n    }\n  }\n");function a(){let{quote:e}=(0,i.useSwapContext)(),{balances:a}=(0,r.useBalances)(),l=(0,t.readFragment)(s,e),o=null==l?void 0:l.swapRoutes[0];if((null==o?void 0:o.__typename)==="SwapRoute"&&"Currency"===o.fromAsset.__typename){var c,u;let e=null==(c=o.costs.find(e=>"GAS"===e.costType))?void 0:c.cost;if(e){let t=e.token.symbol,r=e.token.chain.identifier,i=o.fromAsset,s=(0,n.bn)(o.pricePerFromAsset.token.unit),l=a.find(e=>e.currency.chainIdentifier===r&&e.currency.symbol===t),c=(0,n.bn)(null!=(u=null==l?void 0:l.quantity)?u:0),d=(0,n.bn)(e.token.unit);if(i.chainIdentifier===r&&i.symbol===t&&(c=c.minus(s)),(c=c.minus(d)).lt(0))return{hasGas:!1,gasSymbol:t}}}return{hasGas:!0}}},633810,904976,e=>{"use strict";e.s(["readSwapImpact",()=>i,"readSwapImpactFromQuote",()=>s],633810);var t=e.i(635341),n=e.i(480103);e.s(["readSwapImpactFragment",()=>r],904976);let r=(0,e.i(528198).graphql)("\n  fragment readSwapImpact on SwapRouteResult {\n    __typename\n    ... on SwapRoute {\n      swapImpact {\n        percent\n        usd\n      }\n    }\n  }\n"),i=e=>{let n=(0,t.readFragment)(r,e);if((null==n?void 0:n.__typename)==="SwapRoute")return n.swapImpact},s=e=>{let t=(0,n.head)(e.swapRoutes);if((null==t?void 0:t.__typename)==="SwapRoute")return i(t)}},214099,e=>{"use strict";e.s(["MAX_SLIPPAGE_WARNING_THRESHOLD",()=>n,"SWAP_IMPACT_WARNING_THRESHOLD",()=>t]);let t=-5,n=5},69131,700213,e=>{"use strict";e.s(["SwapActions",()=>_],69131);var t=e.i(705378),n=e.i(147850),r=e.i(437153),i=e.i(683269),s=e.i(465172),a=e.i(480103),l=e.i(969498),o=e.i(565673),c=e.i(167532),u=e.i(602575),d=e.i(450917),m=e.i(529652),p=e.i(726001),h=e.i(206849),y=e.i(901562),f=e.i(330047),x=e.i(117105),g=e.i(780272),v=e.i(363205),C=e.i(822529),w=e.i(590626),S=e.i(93645),b=e.i(133479),j=e.i(534838),A=e.i(488485),T=e.i(633810),I=e.i(606216),N=e.i(214099);let _=e=>{var _;let{className:F,onCompleted:E,onTransactionStart:k,buttonColor:M,surface:D="inline",isSwapV2Module:R=!1,transactionMode:B}=e,P=(0,c.useTranslations)("wallet.SwapActions"),{actions:L,quote:q,isLoadingQuote:O,waitForCompletion:z,setShouldShowConfirmationModal:Q,setActionsStatus:V,reloadActions:W,bundledExecution:U,selectedPaymentToken:G,userOperationsEnabled:H,setBundledExecutionSubmit:Z}=(0,I.useSwapContext)(),{executeBundled:$,isLoading:Y}=(0,b.useBundledExecution)(),{control:K}=(0,o.useFormContext)(),{isValid:X,isSubmitting:J,errors:ee}=(0,o.useFormState)({control:K}),et=(()=>{let e=!1,t=ee.root,n=null==t?void 0:t.swapImpact,r=null==t?void 0:t.swapError;if(n)if("warning"!==n.type)return!1;else e=!0;if(r)if("warning"!==r.type)return!1;else e=!0;let i=ee.fromQuantity,s=ee.toQuantity;if(i)if("warning"!==i.type)return!1;else e=!0;if(s)if("warning"!==s.type)return!1;else e=!0;return!ee.fromCurrency&&!ee.toCurrency&&!ee.recipient&&!ee.maxSlippage&&e})(),en=(0,S.useTrackSwapEvent)(q),{hasGas:er}=(0,A.useSwapGasCheck)(),ei=(0,w.useSwapButtonText)(B,D),{showErrorMessage:es}=(0,i.useToasts)(),ea=(0,g.useTrackError)(),{renderLink:el}=(0,x.useNavigation)(),{getChain:eo}=(0,n.useChains)(),ec=(0,o.useWatch)({control:K,name:"fromCurrency"}),eu=(0,o.useWatch)({control:K,name:"toCurrency"}),ed=(0,j.useNeedsCompatibleWallet)(),em=(0,l.useCallback)(async(e,n,r)=>{if("SIGNATURE"===e.action&&r){null==k||k();try{let e=await z({relayRequestId:r});"SUCCESS"===e.status?v.FlowActions.onSuccess():"FAILED"===e.status&&v.FlowActions.onFailed(),E(e)}catch(e){ea(e,{extra:{relayRequestId:r}}),en("Swap Receipt Error",{error:e instanceof Error?e.message:"Unknown error",relayRequestId:r}),v.FlowActions.onFailed(),es(P("failedToGetSwapReceipt"))}}else if("TRANSACTION"===e.action&&(n===L.length-1&&(null==k||k()),await e.wait(),n===L.length-1)){v.FlowActions.setFlowField("transactionIdentifier",{chain:e.transactionIdentifier.chain,transactionHash:e.transactionIdentifier.hash});try{let t=await z({transactionIdentifier:e.transactionIdentifier});"SUCCESS"===t.status?(v.FlowActions.onSuccess(),R||en("Swap Succeeded",{transaction:{hash:e.transactionIdentifier.hash,chain:e.transactionIdentifier.chain}})):"FAILED"===t.status&&v.FlowActions.onFailed(),E(t)}catch(s){en("Swap Receipt Error",{errorId:ea(s,{extra:{transactionIdentifier:e.transactionIdentifier}}),error:s instanceof Error?s.message:"Unknown error",transaction:{hash:e.transactionIdentifier.hash,chain:e.transactionIdentifier.chain}});let n=eo(e.transactionIdentifier.chain),r=null==n?void 0:n.blockExplorer.transactionUrlTemplate.replace(":hash",e.transactionIdentifier.hash),i=null==n?void 0:n.blockExplorer.name;es(P("failedToGetSwapReceipt"),{description:r?(0,t.jsx)(el,{href:r,children:P("viewOnExplorer",{explorerName:null!=i?i:"Explorer"})}):void 0})}}},[L.length,E,en,z,k,eo,es,ea,P,el,R]),ep=(0,C.useConnectFlow)(),eh=(0,p.useChainArch)(),ey=(0,m.useAddress)(),ef=(0,f.useIsReady)(),ex=(0,o.useWatch)({control:K,name:"maxSlippage"}),eg=(0,l.useCallback)(async()=>{if(H&&(null==U?void 0:U.token)){null==k||k(),V({isLoading:!0,isPending:!0,isDone:!1});try{let e=await $({actionBundleToken:U.token,paymentTokenAddress:null==G?void 0:G.contractAddress});if("CONFIRMED"===e.status||"SUBMITTED"===e.status||"PENDING"===e.status){if(!e.callId)throw Error("Missing callId in bundled execution result");let t=await z({bundledExecutionCallId:e.callId});"SUCCESS"===t.status?(v.FlowActions.onSuccess(),R||en("Swap Succeeded",{userOpHash:e.userOpHash,paymentToken:null==G?void 0:G.contractAddress})):"FAILED"===t.status&&(v.FlowActions.onFailed(),en("Swap Receipt Error",{error:"Receipt status failed",status:t.status}),es(P("failedToGetSwapReceipt"))),E(t),V({isLoading:!1,isPending:!1,isDone:!0})}else throw Error("Bundled execution failed")}catch(e){throw en("Swap Receipt Error",{errorId:ea(e),error:e instanceof Error?e.message:"Unknown error",paymentToken:null==G?void 0:G.contractAddress}),v.FlowActions.onFailed(),es(P("failedToGetSwapReceipt")),V({isLoading:!1,isPending:!1,isDone:!1}),e}}},[H,null==U?void 0:U.token,null==G?void 0:G.contractAddress,$,k,V,z,E,es,ea,en,R,P]),ev=(null==ec?void 0:ec.chainIdentifier)?null==(_=eo(ec.chainIdentifier))?void 0:_.arch:void 0,eC=(0,y.useConnections)(),{connect:ew}=(0,h.useConnect)(),eS="EVM"===ev,eb=H&&!!(null==U?void 0:U.token),[ej,eA]=(0,l.useState)(!1),eT=(0,o.useWatch)({control:K,name:"fromQuantity"}),eI=(0,o.useWatch)({control:K,name:"toQuantity"});(0,l.useEffect)(()=>{eA(!1)},[null==U?void 0:U.token,eT,eI,ec,eu]);let eN=(0,l.useRef)(eg);if((0,l.useEffect)(()=>{eN.current=eg}),(0,l.useEffect)(()=>(Z(async()=>{try{await eN.current()}catch(e){eA(!1)}}),()=>{Z(void 0)}),[Z]),"inline"===D&&"SVM"===ev&&("SVM"!==eh||!ey)){let e=(0,a.head)(eC.filter(e=>"SVM"===e.chainArch)),n=async()=>{e?await ew(e.connector):ep({chainArch:"SVM"})};return(0,t.jsx)("div",{className:(0,r.classNames)("p-4",F),children:(0,t.jsx)(d.Button,{className:"w-full",disabled:!ef,isLoading:!ef,onClick:n,style:{backgroundColor:M},type:"button",children:e?P("switchToSolanaWallet"):P("connectSolanaWallet")})})}if(!(ey&&ef))return(0,t.jsx)("div",{className:(0,r.classNames)("p-4",F),children:(0,t.jsx)(d.Button,{className:"w-full",disabled:!ef,isLoading:!ef,onClick:()=>ep({chainArch:eS?"EVM":void 0}),style:{backgroundColor:M},type:"button",children:P("connectWallet")})});if(!L.length){let e=J||O||Y,n=null==q?void 0:q.swapRoutes[0],i=e||!(X||et)||(null==n?void 0:n.__typename)!=="SwapRoute"||!(eb||er),l=(null==n?void 0:n.__typename)==="SwapRoute"?(0,T.readSwapImpact)(n):0,o=l&&(0,s.bn)(l.percent).lt(N.SWAP_IMPACT_WARNING_THRESHOLD),c=ex&&ex>N.MAX_SLIPPAGE_WARNING_THRESHOLD,u=o||c,m=(null==ec?void 0:ec.chainIdentifier)?eo(ec.chainIdentifier):void 0,p=(null==eu?void 0:eu.chainIdentifier)?eo(eu.chainIdentifier):void 0,h=null==m?void 0:m.arch,y=null==p?void 0:p.arch,f=(null==ec?void 0:ec.restrictSwapsToSameChain)?h:(null==eu?void 0:eu.restrictSwapsToSameChain)?y:void 0;if(ed&&f){let e=(0,a.head)(eC.filter(e=>e.chainArch===f)),n=async()=>{e?await ew(e.connector):f&&ep({chainArch:f})};return(0,t.jsx)("div",{className:(0,r.classNames)("p-4",F),children:(0,t.jsx)(d.Button,{className:"w-full",disabled:!ef,isLoading:!ef,onClick:n,style:{backgroundColor:M},type:"button",children:e?"SVM"===f?P("switchToSolanaWallet"):P("switchToEvmWallet"):"SVM"===f?P("connectSolanaWallet"):P("connectEvmWallet")})})}let x=async()=>{if(u)Q(!0);else if(eb)if(ej)try{await eg()}catch(e){eA(!1)}else eA(!0)},g=eb||u?"button":"submit",v=eb||u?x:void 0,C=eb&&ej?P("confirm"):ei;return(0,t.jsx)("div",{className:(0,r.classNames)("p-4",F),children:(0,t.jsx)(d.Button,{className:"w-full",disabled:i,isLoading:e,onClick:v,style:{backgroundColor:M},type:g,children:C})})}return(0,t.jsx)("div",{className:(0,r.classNames)("p-4",F,R?"rounded-xl border border-frosted-2 bg-frosted-1 p-4 backdrop-blur-xl":void 0),children:(0,t.jsx)("div",{className:"[all:unset]",children:(0,t.jsx)(u.ActionTimeline,{actions:L,onActionCompleted:em,onRetry:W,onStatusChange:V})})})};e.s(["SwapConfirmationModal",()=>D],700213);var F=e.i(590268),E=e.i(972483),k=e.i(738480),M=e.i(950293);function D(e){let n,r,i,a,u,d,m,p,h,y,f,x,g,v,C,w,b,j,A,_,D,R,B,P,L,q,O,z,Q=(0,F.c)(93),{open:V}=e,W=(0,c.useTranslations)("wallet.SwapConfirmationModal"),{handleSubmit:U,control:G}=(0,o.useFormContext)(),{quote:H,setShouldShowConfirmationModal:Z,isLoadingQuote:$,onSubmit:Y,bundledExecution:K,onBundledExecutionSubmit:X,userOperationsEnabled:J}=(0,I.useSwapContext)(),ee=(0,S.useTrackSwapEvent)(H);Q[0]!==G?(n={control:G,name:"maxSlippage"},Q[0]=G,Q[1]=n):n=Q[1];let et=(0,o.useWatch)(n),[en,er]=(0,l.useState)(!1);Q[2]!==Z?(r=e=>{e||Z(!1)},Q[2]=Z,Q[3]=r):r=Q[3];let ei=r;Q[4]!==H?(i=H?(0,T.readSwapImpactFromQuote)(H):null,Q[4]=H,Q[5]=i):i=Q[5];let es=i;Q[6]!==en||Q[7]!==et||Q[8]!==V||Q[9]!==es||Q[10]!==ee?(a=()=>{if(!V){en&&er(!1);return}let e=es&&(0,s.bn)(es.percent).lt(N.SWAP_IMPACT_WARNING_THRESHOLD),t=et&&et>N.MAX_SLIPPAGE_WARNING_THRESHOLD;V&&!en&&(ee("Swap Confirmation Modal Shown",{warningType:e&&t?"both":e?"high_impact":"high_slippage",impactPercent:es?Number(es.percent):null,impactUsd:es?Number(es.usd):null,maxSlippage:null!=et?et:null}),er(!0))},Q[6]=en,Q[7]=et,Q[8]=V,Q[9]=es,Q[10]=ee,Q[11]=a):a=Q[11];let ea=null==es?void 0:es.percent,el=null==es?void 0:es.usd;Q[12]!==en||Q[13]!==et||Q[14]!==V||Q[15]!==ea||Q[16]!==el||Q[17]!==ee?(u=[V,ea,el,et,ee,en],Q[12]=en,Q[13]=et,Q[14]=V,Q[15]=ea,Q[16]=el,Q[17]=ee,Q[18]=u):u=Q[18],(0,l.useEffect)(a,u),Q[19]!==et||Q[20]!==Z||Q[21]!==es?(d=()=>{es&&(0,s.bn)(es.percent).gte(N.SWAP_IMPACT_WARNING_THRESHOLD)&&et<N.MAX_SLIPPAGE_WARNING_THRESHOLD&&Z(!1)},Q[19]=et,Q[20]=Z,Q[21]=es,Q[22]=d):d=Q[22];let eo=null==es?void 0:es.percent;Q[23]!==et||Q[24]!==Z||Q[25]!==eo?(m=[eo,et,Z],Q[23]=et,Q[24]=Z,Q[25]=eo,Q[26]=m):m=Q[26],(0,l.useEffect)(d,m),Q[27]!==es?(p=es&&(0,s.bn)(es.percent).lt(N.SWAP_IMPACT_WARNING_THRESHOLD),Q[27]=es,Q[28]=p):p=Q[28];let ec=p,eu=et&&et>N.MAX_SLIPPAGE_WARNING_THRESHOLD;Q[29]!==es?(h=es?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.TextBody,{color:"error-1",children:(0,t.jsx)(k.NumberDisplay,{display:"percent",value:Math.abs(Number(es.percent))/100})})," ",(0,t.jsxs)(M.TextBody,{children:["(",(0,t.jsx)(k.NumberDisplay,{display:"usd",value:es.usd}),")"]})]}):null,Q[29]=es,Q[30]=h):h=Q[30];let ed=h;Q[31]!==et?(y=et?(0,t.jsx)(M.TextBody,{color:"error-1",children:(0,t.jsx)(k.NumberDisplay,{display:"percent",value:et/100})}):null,Q[31]=et,Q[32]=y):y=Q[32];let em=y;Q[33]!==(null==K?void 0:K.token)||Q[34]!==U||Q[35]!==et||Q[36]!==X||Q[37]!==Y||Q[38]!==Z||Q[39]!==es||Q[40]!==ee||Q[41]!==J?(f=()=>{let e=es&&(0,s.bn)(es.percent).lt(N.SWAP_IMPACT_WARNING_THRESHOLD),t=et&&et>N.MAX_SLIPPAGE_WARNING_THRESHOLD;ee("Swap Confirmation Modal Confirmed",{warningType:e&&t?"both":e?"high_impact":"high_slippage",impactPercent:es?Number(es.percent):null,impactUsd:es?Number(es.usd):null,maxSlippage:null!=et?et:null}),Z(!1),J&&(null==K?void 0:K.token)&&X?X():U(Y)()},Q[33]=null==K?void 0:K.token,Q[34]=U,Q[35]=et,Q[36]=X,Q[37]=Y,Q[38]=Z,Q[39]=es,Q[40]=ee,Q[41]=J,Q[42]=f):f=Q[42];let ep=f;Q[43]!==ec||Q[44]!==eu||Q[45]!==W?(x=()=>ec&&eu?W("multipleWarnings"):eu?W("highSlippageWarning"):W("highSwapImpact"),Q[43]=ec,Q[44]=eu,Q[45]=W,Q[46]=x):x=Q[46];let eh=x;Q[47]!==ec||Q[48]!==eu||Q[49]!==ed||Q[50]!==em||Q[51]!==es||Q[52]!==W?(g=()=>ec&&eu?(0,t.jsxs)(t.Fragment,{children:[W.rich("impactDescription",{impact:()=>ed}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),W.rich("slippageDescription",{slippage:()=>em})]}):eu?W.rich("slippageDescription",{slippage:()=>em}):es?W.rich("impactDescription",{impact:()=>ed}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.TextBodySkeleton,{className:"w-full"}),(0,t.jsx)(M.TextBodySkeleton,{className:"w-6"})]}),Q[47]=ec,Q[48]=eu,Q[49]=ed,Q[50]=em,Q[51]=es,Q[52]=W,Q[53]=g):g=Q[53];let ey=g;return Q[54]!==eh?(v=eh(),Q[54]=eh,Q[55]=v):v=Q[55],Q[56]!==v?(C=(0,t.jsx)(E.ModalHeader,{children:(0,t.jsx)(E.ModalHeaderTitle,{children:v})}),Q[56]=v,Q[57]=C):C=Q[57],Q[58]!==ey?(w=ey(),Q[58]=ey,Q[59]=w):w=Q[59],Q[60]!==w?(b=(0,t.jsx)(M.TextBody,{color:"text-secondary",children:w}),Q[60]=w,Q[61]=b):b=Q[61],Q[62]!==W?(j=W("continue"),Q[62]=W,Q[63]=j):j=Q[63],Q[64]!==j?(A=(0,t.jsx)(M.TextBody,{color:"text-secondary",children:j}),Q[64]=j,Q[65]=A):A=Q[65],Q[66]!==b||Q[67]!==A?(_=(0,t.jsxs)(E.ModalBody,{className:"gap-4",children:[b,A]}),Q[66]=b,Q[67]=A,Q[68]=_):_=Q[68],Q[69]!==Z?(D=()=>Z(!1),Q[69]=Z,Q[70]=D):D=Q[70],Q[71]!==W?(R=W("cancel"),Q[71]=W,Q[72]=R):R=Q[72],Q[73]!==D||Q[74]!==R?(B=(0,t.jsx)(E.ModalFooterButton,{onClick:D,variant:"secondary",children:R}),Q[73]=D,Q[74]=R,Q[75]=B):B=Q[75],Q[76]!==W?(P=W("confirm"),Q[76]=W,Q[77]=P):P=Q[77],Q[78]!==ep||Q[79]!==$||Q[80]!==P?(L=(0,t.jsx)(E.ModalFooterButton,{disabled:$,onClick:ep,variant:"destructive",children:P}),Q[78]=ep,Q[79]=$,Q[80]=P,Q[81]=L):L=Q[81],Q[82]!==B||Q[83]!==L?(q=(0,t.jsxs)(E.ModalFooter,{children:[B,L]}),Q[82]=B,Q[83]=L,Q[84]=q):q=Q[84],Q[85]!==C||Q[86]!==_||Q[87]!==q?(O=(0,t.jsxs)(t.Fragment,{children:[C,_,q]}),Q[85]=C,Q[86]=_,Q[87]=q,Q[88]=O):O=Q[88],Q[89]!==ei||Q[90]!==V||Q[91]!==O?(z=(0,t.jsx)(E.Modal,{content:O,onOpenChange:ei,open:V}),Q[89]=ei,Q[90]=V,Q[91]=O,Q[92]=z):z=Q[92],z}},175138,929818,151536,75342,144914,37613,693886,914371,431031,616702,624781,681429,328794,695446,e=>{"use strict";e.s(["SwapDestination",()=>a],175138);var t=e.i(705378),n=e.i(590268),r=e.i(437153),i=e.i(565673),s=e.i(354955);let a=e=>{var a,l,o,c,u,d;let m,p,h,y,f,x,g,v,C=(0,n.c)(20),{className:w}=e,{setValue:S,control:b}=(0,i.useFormContext)();C[0]!==b?(m={control:b},C[0]=b,C[1]=m):m=C[1];let{errors:j}=(0,i.useFormState)(m);C[2]===Symbol.for("react.memo_cache_sentinel")?(p={},C[2]=p):p=C[2],C[3]!==b?(h={control:b,name:"recipient",defaultValue:p},C[3]=b,C[4]=h):h=C[4];let A=(0,i.useWatch)(h);C[5]!==b?(y={control:b,name:"toCurrency"},C[5]=b,C[6]=y):y=C[6];let T=(0,i.useWatch)(y);C[7]!==S?(f=e=>{S("recipient.identifier",e.identifier||e.address),S("recipient.resolvedAddress",e.address,{shouldValidate:!0})},C[7]=S,C[8]=f):f=C[8];let I=f;C[9]!==w?(x=(0,r.classNames)("p-4",w),C[9]=w,C[10]=x):x=C[10];let N=null==T?void 0:T.chainIdentifier,_=A.isResolving?void 0:null!=(u=null==(l=j.recipient)||null==(a=l.identifier)?void 0:a.message)?u:null==(c=j.recipient)||null==(o=c.resolvedAddress)?void 0:o.message;return C[11]!==A.identifier||C[12]!==A.resolvedAddress?(g=A.identifier||A.resolvedAddress?{address:null!=(d=A.resolvedAddress)?d:"",identifier:A.identifier}:void 0,C[11]=A.identifier,C[12]=A.resolvedAddress,C[13]=g):g=C[13],C[14]!==I||C[15]!==x||C[16]!==N||C[17]!==_||C[18]!==g?(v=(0,t.jsx)(s.DestinationWalletSelect,{className:x,destinationChain:N,error:_,onWalletSelect:I,walletDestination:g}),C[14]=I,C[15]=x,C[16]=N,C[17]=_,C[18]=g,C[19]=v):v=C[19],v};e.s(["SwapDetailsCollapsedItem",()=>b],151536);var l=e.i(635341),o=e.i(254842),c=e.i(738480),u=e.i(310578),d=e.i(258343),m=e.i(950293),p=e.i(390362),h=e.i(465172),y=e.i(969498),f=e.i(956309),x=e.i(767502),g=e.i(847720),v=e.i(528198);let C=(0,v.graphql)("\n    fragment useSwapCurrencies on SwapRouteResult {\n      ... on SwapRoute {\n        fromAsset {\n          ...ContextCurrency\n        }\n        toAsset {\n          ...ContextCurrency\n        }\n      }\n    }\n  ",[x.ContextCurrencyFragment]),w=e=>{let{swapRoute:t}=e,n=(0,l.readFragment)(C,t),{control:r}=(0,i.useFormContext)(),[s,a]=(0,i.useWatch)({control:r,name:["fromCurrency","toCurrency"]}),{getCurrency:o}=(0,g.useCurrencies)(),[c,u]=(0,y.useState)(void 0),[d,m]=(0,y.useState)(void 0);(0,y.useEffect)(()=>{(null==n?void 0:n.__typename)==="SwapRoute"&&("Currency"===n.toAsset.__typename&&u((0,f.readCurrencyFragment)(n.toAsset)),"Currency"===n.fromAsset.__typename&&m((0,f.readCurrencyFragment)(n.fromAsset)))},[n]);let p=(0,y.useMemo)(()=>(null==n?void 0:n.__typename)==="SwapRoute"&&"Currency"===n.toAsset.__typename?(0,f.readCurrencyFragment)(n.toAsset):c&&a&&(0,f.areCurrenciesEqual)(c,a)?c:a?o(a):void 0,[c,a,o,n]);return{fromAsset:(0,y.useMemo)(()=>(null==n?void 0:n.__typename)==="SwapRoute"&&"Currency"===n.fromAsset.__typename?(0,f.readCurrencyFragment)(n.fromAsset):d&&(0,f.areCurrenciesEqual)(d,s)?d:o(s),[d,s,o,n]),toAsset:p}};e.s(["SwapDetailsCollapsedItemFragment",()=>S],929818);let S=(0,v.graphql)("\n    fragment SwapDetailsCollapsedItem on SwapRouteResult {\n      ...useSwapCurrencies\n      ... on SwapRoute {\n        fromAsset {\n          ... on Currency {\n            contractAddress\n            chainIdentifier\n          }\n        }\n        toAsset {\n          ... on Currency {\n            contractAddress\n            chainIdentifier\n          }\n        }\n        costs {\n          costType\n          cost {\n            usd\n          }\n        }\n        pricePerFromAsset {\n          usd\n          token {\n            unit\n          }\n        }\n        pricePerToAsset {\n          usd\n          token {\n            unit\n          }\n        }\n      }\n    }\n  ",[C]);function b(e){let{swapRoute:n,collapsed:r}=e,s=(0,l.readFragment)(S,n),{fromAsset:a,toAsset:f}=w({swapRoute:s}),{control:x}=(0,i.useFormContext)(),g=(0,i.useWatch)({control:x,name:"isUsdInputMode"}),v=(0,y.useMemo)(()=>{if((null==s?void 0:s.__typename)==="SwapRoute"){var e,t,n,r,i,a;let{costs:l}=s,o=null!=(r=null==(e=l.find(e=>"GAS"===e.costType))?void 0:e.cost.usd)?r:0;return o+(null!=(i=null==(t=l.find(e=>"PROVIDER"===e.costType))?void 0:t.cost.usd)?i:0)+(null!=(a=null==(n=l.find(e=>"MARKETPLACE"===e.costType))?void 0:n.cost.usd)?a:0)}return 0},[s]),C=(null==s?void 0:s.__typename)==="SwapRoute"?s.pricePerFromAsset.token.unit:void 0,b=(null==s?void 0:s.__typename)==="SwapRoute"?s.pricePerToAsset.token.unit:void 0,j=C&&b?(0,h.bn)(b).dividedBy(C):void 0,A=(null==f?void 0:f.usdPrice)?(0,h.bn)(1).dividedBy(f.usdPrice):void 0;return(0,t.jsxs)(d.SpaceBetween,{className:"w-full items-center gap-1",children:[a?(0,t.jsx)(m.TextBody,{className:"font-mono",color:"text-primary",children:g?(0,t.jsxs)(t.Fragment,{children:["$1 ="," ",A&&f?(0,t.jsx)(c.NumberDisplay,{display:"standard",suffix:f.symbol,value:A}):(0,t.jsx)(u.Skeleton,{className:"mt-0 inline-block h-3 w-[100px] align-middle"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.NumberDisplay,{suffix:a.symbol,value:1})," ="," ",f&&j?(0,t.jsx)(c.NumberDisplay,{display:"compact",suffix:f.symbol,value:j}):(0,t.jsx)(u.Skeleton,{className:"mt-0 inline-block h-3 w-[100px] align-middle"})]})}):(0,t.jsx)(u.Skeleton,{className:"w-[200px]"}),0!==v&&r&&(0,t.jsxs)(o.Flex,{className:"gap-2",children:[(0,t.jsx)(p.ReceiptLongFilled,{fill:"text-secondary",size:20}),(0,t.jsx)(m.TextBody,{asChild:!0,color:"text-secondary",children:(0,t.jsx)(c.NumberDisplay,{display:"usd",value:v})})]})]})}e.s(["SwapDetailsEstimatedDurationItem",()=>_],144914);var j=e.i(39771),A=e.i(967593),T=e.i(646956),I=e.i(167532);e.s(["SwapDetailsEstimatedDurationItemFragment",()=>N],75342);let N=(0,v.graphql)("\n    fragment SwapDetailsEstimatedDurationItem on SwapRouteResult {\n      ... on SwapRoute {\n        estimatedDurationMs\n      }\n    }\n  ",[]);function _(e){let r,i,s,a,o,u=(0,n.c)(14),{swapRoute:p}=e,y=(0,l.readFragment)(N,p),f=(0,I.useTranslations)("wallet.SwapDetailsEstimatedDurationItem");if(!y||"SwapRoute"!==y.__typename){let e;return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(F,{}),u[0]=e):e=u[0],e}let x=(0,h.bn)(y.estimatedDurationMs).div(1e3),g=d.SpaceBetween;u[1]!==f?(r=f("estimatedDuration"),u[1]=f,u[2]=r):r=u[2],u[3]!==r?(i=(0,t.jsx)(m.TextBody,{children:r}),u[3]=r,u[4]=i):i=u[4];let v=j.FlexCenter;u[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(T.Schedule,{fill:"text-secondary",size:20}),u[5]=s):s=u[5];let C=x.isZero()?(0,t.jsx)(A.Tooltip,{content:f("instantTooltip"),children:(0,t.jsx)(m.TextBody,{children:f("instant")})}):(0,t.jsxs)(m.TextBody,{className:"font-mono",children:[(0,t.jsx)(c.NumberDisplay,{display:"quantity",value:x}),"s"]});return u[6]!==v||u[7]!==s||u[8]!==C?(a=(0,t.jsxs)(v,{className:"gap-1.5",children:[s,C]}),u[6]=v,u[7]=s,u[8]=C,u[9]=a):a=u[9],u[10]!==g||u[11]!==i||u[12]!==a?(o=(0,t.jsxs)(g,{children:[i,a]}),u[10]=g,u[11]=i,u[12]=a,u[13]=o):o=u[13],o}let F=()=>{let e,r,i,s,a=(0,n.c)(7),l=(0,I.useTranslations)("wallet.SwapDetailsEstimatedDurationItem");return a[0]!==l?(e=l("estimatedDuration"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(m.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsxs)(j.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)(T.Schedule,{fill:"text-secondary",size:20}),(0,t.jsx)(m.TextBodySkeleton,{className:"w-[50px]"})]}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(d.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s};e.s(["SwapDetailsGasFeeItem",()=>D],693886);var E=e.i(823634),k=e.i(703405);e.s(["SwapDetailsGasFeeItemFragment",()=>M],37613);let M=(0,v.graphql)("\n  fragment SwapDetailsGasFeeItem on SwapRouteResult {\n    ... on SwapRoute {\n      costs {\n        costType\n        cost {\n          usd\n        }\n      }\n    }\n  }\n"),D=e=>{let r,i,s,a,o,u=(0,n.c)(11),{swapRoute:p}=e,h=(0,l.readFragment)(M,p),y=(0,I.useTranslations)("wallet.SwapDetailsGasFeeItem");if(!h||"SwapRoute"!==h.__typename){let e;return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(R,{}),u[0]=e):e=u[0],e}let f=k.BigNumber.sum(...h.costs.filter(B).map(P));return f.isZero()||f.isNaN()?null:(u[1]!==y?(r=y("gasFee"),u[1]=y,u[2]=r):r=u[2],u[3]!==r?(i=(0,t.jsx)(j.FlexCenter,{className:"gap-1",children:(0,t.jsx)(m.TextBody,{children:r})}),u[3]=r,u[4]=i):i=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(E.LocalGasStationFilled,{fill:"text-secondary",size:20}),u[5]=s):s=u[5],u[6]!==f?(a=(0,t.jsxs)(j.FlexCenter,{className:"gap-1.5",children:[s,(0,t.jsx)(m.TextBody,{asChild:!0,children:(0,t.jsx)(c.NumberDisplay,{display:"usd",value:f})})]}),u[6]=f,u[7]=a):a=u[7],u[8]!==i||u[9]!==a?(o=(0,t.jsxs)(d.SpaceBetween,{children:[i,a]}),u[8]=i,u[9]=a,u[10]=o):o=u[10],o)},R=()=>{let e,r,i,s,a=(0,n.c)(7),l=(0,I.useTranslations)("wallet.SwapDetailsGasFeeItem");return a[0]!==l?(e=l("gasFee"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(m.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsxs)(j.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)(E.LocalGasStationFilled,{fill:"text-secondary",size:20}),(0,t.jsx)(m.TextBodySkeleton,{className:"w-[50px]"})]}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(d.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s};function B(e){return"GAS"===e.costType}function P(e){return e.cost.usd}e.s(["SwapDetailsMarketplaceFeeItem",()=>O],431031);var L=e.i(794576);e.s(["SwapDetailsProviderFeeItemFragment",()=>q],914371);let q=(0,v.graphql)("\n    fragment SwapDetailsProviderFeeItem on SwapRouteResult {\n      ...useSwapCurrencies\n      ... on SwapRoute {\n        pricePerFromAsset {\n          usd\n          token {\n            chain {\n              arch\n            }\n          }\n        }\n        costs {\n          costType\n          cost {\n            usd\n          }\n        }\n      }\n    }\n  ",[C]);function O(e){let r,i,s,a,u,p,y,f,x,g=(0,n.c)(22),{swapRoute:v}=e,C=(0,l.readFragment)(q,v),w=(0,I.useTranslations)("wallet.SwapDetailsMarketplaceFeeItem");if(!C||"SwapRoute"!==C.__typename){let e;return g[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(V,{}),g[0]=e):e=g[0],e}let S=(0,h.bn)(C.pricePerFromAsset.usd),b=k.BigNumber.sum(...C.costs.filter(Q).map(z)),T=S.isZero()?(0,h.bn)(0):b.div(S);if(b.isZero()||b.isNaN())return null;let N="SVM"===C.pricePerFromAsset.token.chain.arch;return g[1]!==w?(r=w("openSeaFee"),g[1]=w,g[2]=r):r=g[2],g[3]!==r?(i=(0,t.jsx)(m.TextBody,{children:r}),g[3]=r,g[4]=i):i=g[4],g[5]!==N||g[6]!==w?(s=N&&(0,t.jsx)(A.Tooltip,{content:w("solanaOpenSeaFeeTooltip"),children:(0,t.jsx)(L.Info,{size:16})}),g[5]=N,g[6]=w,g[7]=s):s=g[7],g[8]!==i||g[9]!==s?(a=(0,t.jsxs)(j.FlexCenter,{className:"gap-1",children:[i,s]}),g[8]=i,g[9]=s,g[10]=a):a=g[10],g[11]!==b?(u=(0,t.jsxs)(m.TextBody,{className:"font-mono",color:"text-secondary",children:["(",(0,t.jsx)(c.NumberDisplay,{display:"usd",value:b}),")"]}),g[11]=b,g[12]=u):u=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(p={maximumFractionDigits:2},g[13]=p):p=g[13],g[14]!==T?(y=(0,t.jsx)(m.TextBody,{asChild:!0,children:(0,t.jsx)(c.NumberDisplay,{custom:p,display:"percent",value:T})}),g[14]=T,g[15]=y):y=g[15],g[16]!==u||g[17]!==y?(f=(0,t.jsxs)(o.Flex,{className:"gap-1.5",children:[u,y]}),g[16]=u,g[17]=y,g[18]=f):f=g[18],g[19]!==a||g[20]!==f?(x=(0,t.jsxs)(d.SpaceBetween,{children:[a,f]}),g[19]=a,g[20]=f,g[21]=x):x=g[21],x}function z(e){return e.cost.usd}function Q(e){return"MARKETPLACE"===e.costType}function V(){let e,r,i,s,a=(0,n.c)(7),l=(0,I.useTranslations)("wallet.SwapDetailsMarketplaceFeeItem");return a[0]!==l?(e=l("openSeaFee"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(m.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(m.TextBodySkeleton,{className:"w-[100px]"}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(d.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s}function W(e){let r,i,s,a=(0,n.c)(7),{children:l}=e,o=(0,I.useTranslations)("wallet.MaxSlippageTooltip");return a[0]!==o?(r=o("description"),a[0]=o,a[1]=r):r=a[1],a[2]!==r?(i=(0,t.jsx)("div",{className:"max-w-[250px]",children:r}),a[2]=r,a[3]=i):i=a[3],a[4]!==l||a[5]!==i?(s=(0,t.jsx)(A.Tooltip,{content:i,children:l}),a[4]=l,a[5]=i,a[6]=s):s=a[6],s}e.s(["SwapDetailsMaxSlippageItem",()=>G],681429),e.s(["MaxSlippageTooltip",()=>W],616702),e.s(["SwapDetailsMaxSlippageItemFragment",()=>U],624781);let U=(0,v.graphql)("\n    fragment SwapDetailsMaxSlippageItem on SwapQuote {\n      slippageTolerance\n    }\n  ",[]);function G(e){let r,i,s,a,o,u,p,y,f,x=(0,n.c)(23),{quote:g}=e,v=(0,l.readFragment)(U,g),C=(0,I.useTranslations)("wallet.SwapDetailsMaxSlippageItem");if(!v){let e;return x[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(H,{}),x[0]=e):e=x[0],e}let w=d.SpaceBetween;x[1]!==C?(r=C("maxSlippage"),x[1]=C,x[2]=r):r=x[2],x[3]!==r?(i=(0,t.jsx)(m.TextBody,{children:r}),x[3]=r,x[4]=i):i=x[4],x[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(W,{children:(0,t.jsx)(L.Info,{size:16})}),x[5]=s):s=x[5],x[6]!==i?(a=(0,t.jsxs)(j.FlexCenter,{className:"gap-1",children:[i,s]}),x[6]=i,x[7]=a):a=x[7];let S=j.FlexCenter,b=m.TextBody,A=c.NumberDisplay;x[8]===Symbol.for("react.memo_cache_sentinel")?(o={maximumFractionDigits:2},x[8]=o):o=x[8];let T=(0,h.bn)(v.slippageTolerance).div(100);return x[9]!==A||x[10]!==o||x[11]!==T?(u=(0,t.jsx)(A,{custom:o,display:"percent",value:T}),x[9]=A,x[10]=o,x[11]=T,x[12]=u):u=x[12],x[13]!==b||x[14]!==u?(p=(0,t.jsx)(b,{asChild:!0,children:u}),x[13]=b,x[14]=u,x[15]=p):p=x[15],x[16]!==S||x[17]!==p?(y=(0,t.jsx)(S,{className:"gap-1.5",children:p}),x[16]=S,x[17]=p,x[18]=y):y=x[18],x[19]!==w||x[20]!==y||x[21]!==a?(f=(0,t.jsxs)(w,{children:[a,y]}),x[19]=w,x[20]=y,x[21]=a,x[22]=f):f=x[22],f}let H=()=>{let e,r,i,s,a=(0,n.c)(7),l=(0,I.useTranslations)("wallet.SwapDetailsMaxSlippageItem");return a[0]!==l?(e=l("maxSlippage"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(m.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(m.TextBodySkeleton,{className:"w-[50px]"}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(d.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s};e.s(["SwapDetailsNetworkItem",()=>J,"SwapDetailsNetworkItemFragment",()=>X],328794);var Z=e.i(147850);e.i(257620);var $=e.i(722155),Y=e.i(257721),K=e.i(698722);let X=(0,v.graphql)("\n    fragment SwapDetailsNetworkItem on SwapRouteResult {\n      ...useSwapCurrencies\n    }\n  ",[C]);function J(e){let r,i,s,a,o,c,u=(0,n.c)(17),{swapRoute:p}=e;u[0]!==p?(r=(0,l.readFragment)(X,p),u[0]=p,u[1]=r):r=u[1];let h=r,y=(0,I.useTranslations)("wallet.SwapDetailsNetworkItem");u[2]!==h?(i={swapRoute:h},u[2]=h,u[3]=i):i=u[3];let{fromAsset:f,toAsset:x}=w(i),g=f&&x&&f.chainIdentifier!==x.chainIdentifier,{getName:v,getLogo:C}=(0,Z.useChains)();return u[4]!==y?(s=y("network"),u[4]=y,u[5]=s):s=u[5],u[6]!==s?(a=(0,t.jsx)(m.TextBody,{children:s}),u[6]=s,u[7]=a):a=u[7],u[8]!==f||u[9]!==C||u[10]!==v||u[11]!==g||u[12]!==x?(o=g?(0,t.jsxs)(j.FlexCenter,{className:"gap-2",children:[(0,t.jsxs)(j.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)(K.Avatar,{...C(f.chainIdentifier,{circle:!0}),size:20}),(0,t.jsx)(m.TextBody,{children:v(f.chainIdentifier)})]}),(0,t.jsx)(Y.ArrowRightAlt,{size:20}),(0,t.jsxs)(j.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)(K.Avatar,{...C(x.chainIdentifier,{circle:!0}),size:20}),(0,t.jsx)(m.TextBody,{children:v(x.chainIdentifier)})]})]}):f?(0,t.jsxs)(j.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)(K.Avatar,{...C(f.chainIdentifier,{circle:!0}),size:20}),(0,t.jsx)(m.TextBody,{children:v(f.chainIdentifier)})]}):(0,t.jsx)(m.TextBody,{children:$.EM_DASH}),u[8]=f,u[9]=C,u[10]=v,u[11]=g,u[12]=x,u[13]=o):o=u[13],u[14]!==a||u[15]!==o?(c=(0,t.jsxs)(d.SpaceBetween,{children:[a,o]}),u[14]=a,u[15]=o,u[16]=c):c=u[16],c}e.s(["SwapDetailsProviderFeeItem",()=>ee],695446);let ee=e=>{let r,i,s,a,u,p,y,f,x=(0,n.c)(22),{swapRoute:g}=e,v=(0,l.readFragment)(q,g),C=(0,I.useTranslations)("wallet.SwapDetailsProviderFeeItem"),{fromAsset:S,toAsset:b}=w({swapRoute:v}),T=S&&b&&S.chainIdentifier!==b.chainIdentifier;if(!v||"SwapRoute"!==v.__typename){let e;return x[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(et,{}),x[0]=e):e=x[0],e}let N=(0,h.bn)(v.pricePerFromAsset.usd),_=k.BigNumber.sum(...v.costs.filter(en).map(er)),F=N.isZero()?(0,h.bn)(0):_.div(N),E=d.SpaceBetween;x[1]!==C?(r=C("providerFee"),x[1]=C,x[2]=r):r=x[2],x[3]!==r?(i=(0,t.jsx)(m.TextBody,{children:r}),x[3]=r,x[4]=i):i=x[4],x[5]!==T||x[6]!==C?(s=T&&(0,t.jsx)(A.Tooltip,{content:C("providerFeeTooltip"),children:(0,t.jsx)(L.Info,{size:16})}),x[5]=T,x[6]=C,x[7]=s):s=x[7],x[8]!==i||x[9]!==s?(a=(0,t.jsxs)(j.FlexCenter,{className:"gap-1",children:[i,s]}),x[8]=i,x[9]=s,x[10]=a):a=x[10];let M=o.Flex,D=!_.isNaN()&&(0,t.jsxs)(m.TextBody,{className:"font-mono",color:"text-secondary",children:["(",(0,t.jsx)(c.NumberDisplay,{display:"usd",value:_}),")"]});return x[11]===Symbol.for("react.memo_cache_sentinel")?(u={maximumFractionDigits:2},x[11]=u):u=x[11],x[12]!==F?(p=(0,t.jsx)(m.TextBody,{asChild:!0,children:(0,t.jsx)(c.NumberDisplay,{custom:u,display:"percent",value:F})}),x[12]=F,x[13]=p):p=x[13],x[14]!==M||x[15]!==D||x[16]!==p?(y=(0,t.jsxs)(M,{className:"gap-1.5",children:[D,p]}),x[14]=M,x[15]=D,x[16]=p,x[17]=y):y=x[17],x[18]!==E||x[19]!==a||x[20]!==y?(f=(0,t.jsxs)(E,{children:[a,y]}),x[18]=E,x[19]=a,x[20]=y,x[21]=f):f=x[21],f},et=()=>{let e,r,i,s,a=(0,n.c)(7),l=(0,I.useTranslations)("wallet.SwapDetailsProviderFeeItem");return a[0]!==l?(e=l("providerFee"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(m.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(m.TextBodySkeleton,{className:"w-[100px]"}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(d.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s};function en(e){return"PROVIDER"===e.costType}function er(e){return e.cost.usd}},848538,e=>{"use strict";e.s(["getSwapProviderName",()=>n,"getSwapReceiptFailReasonMessage",()=>i]);let t={BETH:"BETH",JUPITER:"Jupiter",LIFI:"LI.FI",LOCAL_BUY_NFT:"Buy",LOCAL_MINT_NFT:"Mint",MAYAN:"Mayan",OPENSEA_UNI_V4_SWAP:"OpenSea",RELAY:"Relay",SWAPS_XYZ:"Swaps.xyz",UNRECOGNIZED:"Unknown",WETH:"WETH",ZERO_EX:"0x"},n=e=>t[e],r={AMOUNT_TOO_LOW_TO_REFUND:"The swap amount is too low to refund.",DEPOSITED_AMOUNT_TOO_LOW_TO_FILL:"The deposited amount was too low to complete the swap.",DEPOSIT_ADDRESS_MISMATCH:"The deposit address does not match the address you're trying to swap from.",DEPOSIT_CHAIN_MISMATCH:"The deposit chain does not match the chain you're trying to swap from.",DOUBLE_SPEND:"The transaction was rejected due to a double spend attempt.",INCORRECT_DEPOSIT_CURRENCY:"The deposited currency does not match the expected currency.",SLIPPAGE:"Max slippage exceeded.",SOLVER_CAPACITY_EXCEEDED:"The solver's capacity has been exceeded. Please try again later.",ORIGIN_TRANSACTION_FAILED:"The origin transaction failed. Please try again.",UNKNOWN:"An unknown error occurred.",UNSPECIFIED:"An unspecified error occurred."},i=e=>r[e]},910424,e=>{"use strict";e.s(["SwapDetails",()=>z,"SwapDetailsFragment",()=>O],910424);var t=e.i(705378),n=e.i(590268),r=e.i(528198),i=e.i(635341),s=e.i(589553),a=e.i(437153),l=e.i(965523),o=e.i(480103),c=e.i(606216),u=e.i(151536),d=e.i(929818),m=e.i(144914),p=e.i(75342),h=e.i(693886),y=e.i(37613),f=e.i(431031),x=e.i(681429),g=e.i(624781),v=e.i(328794),C=e.i(695446),w=e.i(914371),S=e.i(39771),b=e.i(258343),j=e.i(950293),A=e.i(167532),T=e.i(848538);let I=(0,r.graphql)("\n  fragment SwapDetailsProviderItem on SwapRouteResult {\n    ... on SwapRoute {\n      swapProvider\n    }\n  }\n"),N=e=>{let r,s,a,l,o,c=(0,n.c)(15),{swapRoute:u}=e,d=(0,i.readFragment)(I,u),m=(0,A.useTranslations)("wallet.SwapDetailsProviderItem");if(!d||"SwapRoute"!==d.__typename){let e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(_,{}),c[0]=e):e=c[0],e}let p=b.SpaceBetween;c[1]!==m?(r=m("route"),c[1]=m,c[2]=r):r=c[2],c[3]!==r?(s=(0,t.jsx)(j.TextBody,{children:r}),c[3]=r,c[4]=s):s=c[4];let h=S.FlexCenter,y=j.TextBody,f=(0,T.getSwapProviderName)(d.swapProvider);return c[5]!==y||c[6]!==f?(a=(0,t.jsx)(y,{className:"font-mono",color:"text-secondary",children:f}),c[5]=y,c[6]=f,c[7]=a):a=c[7],c[8]!==h||c[9]!==a?(l=(0,t.jsx)(h,{children:a}),c[8]=h,c[9]=a,c[10]=l):l=c[10],c[11]!==p||c[12]!==s||c[13]!==l?(o=(0,t.jsxs)(p,{children:[s,l]}),c[11]=p,c[12]=s,c[13]=l,c[14]=o):o=c[14],o},_=()=>{let e,r,i,s,a=(0,n.c)(7),l=(0,A.useTranslations)("wallet.SwapDetailsProviderItem");return a[0]!==l?(e=l("route"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(j.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(j.TextBodySkeleton,{className:"w-[80px]"}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(b.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s};var F=e.i(738480),E=e.i(967593),k=e.i(794576),M=e.i(465172),D=e.i(633810),R=e.i(214099),B=e.i(904976);let P=(0,r.graphql)("\n    fragment SwapDetailsSwapImpactItem on SwapRouteResult {\n      ...readSwapImpact\n    }\n  ",[B.readSwapImpactFragment]);function L(e){let r,s,a,l,o,c,u,d,m,p,h=(0,n.c)(24),{swapRoute:y}=e,f=(0,i.readFragment)(P,y),x=(0,A.useTranslations)("wallet.SwapDetailsSwapImpactItem");if(!f||"SwapRoute"!==f.__typename){let e;return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(q,{}),h[0]=e):e=h[0],e}let g=(0,D.readSwapImpact)(f);if(!g)return null;let v=(0,M.bn)(g.percent).lt(R.SWAP_IMPACT_WARNING_THRESHOLD);h[1]!==x?(r=x("swapImpact"),h[1]=x,h[2]=r):r=h[2],h[3]!==r?(s=(0,t.jsx)(j.TextBody,{children:r}),h[3]=r,h[4]=s):s=h[4],h[5]!==x?(a=x("swapImpactTooltip"),h[5]=x,h[6]=a):a=h[6],h[7]!==a?(l=(0,t.jsx)("div",{className:"max-w-[200px]",children:a}),h[7]=a,h[8]=l):l=h[8],h[9]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(k.Info,{size:16}),h[9]=o):o=h[9],h[10]!==l?(c=(0,t.jsx)(E.Tooltip,{content:l,children:o}),h[10]=l,h[11]=c):c=h[11],h[12]!==s||h[13]!==c?(u=(0,t.jsxs)(S.FlexCenter,{className:"gap-1",children:[s,c]}),h[12]=s,h[13]=c,h[14]=u):u=h[14];let C=j.TextBody,w=v?"error-1":"inherit",T=F.NumberDisplay;h[15]===Symbol.for("react.memo_cache_sentinel")?(d={maximumFractionDigits:2},h[15]=d):d=h[15];let I=(0,M.bn)(g.percent).div(100);return h[16]!==T||h[17]!==d||h[18]!==I?(m=(0,t.jsx)(T,{custom:d,display:"percent",value:I}),h[16]=T,h[17]=d,h[18]=I,h[19]=m):m=h[19],h[20]!==C||h[21]!==m||h[22]!==w?(p=(0,t.jsx)(C,{asChild:!0,color:w,children:m}),h[20]=C,h[21]=m,h[22]=w,h[23]=p):p=h[23],(0,t.jsxs)(b.SpaceBetween,{children:[u,(0,t.jsxs)(S.FlexCenter,{className:"gap-1.5",children:[(0,t.jsxs)(j.TextBody,{className:"font-mono",color:"text-secondary",children:["(",(0,t.jsx)(F.NumberDisplay,{display:"usd",value:g.usd}),")"]}),p]})]})}let q=()=>{let e,r,i,s,a=(0,n.c)(7),l=(0,A.useTranslations)("wallet.SwapDetailsSwapImpactItem");return a[0]!==l?(e=l("swapImpact"),a[0]=l,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(j.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(j.TextBodySkeleton,{className:"w-[120px]"}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(b.SpaceBetween,{children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s},O=(0,r.graphql)("\n    fragment SwapDetails on SwapQuote {\n      swapRoutes {\n        ...SwapDetailsCollapsedItem\n        ...SwapDetailsProviderItem\n        ...SwapDetailsProviderFeeItem\n        ...SwapDetailsGasFeeItem\n        ...SwapDetailsEstimatedDurationItem\n        ...SwapDetailsNetworkItem\n        ...SwapDetailsSwapImpactItem\n      }\n      ...SwapDetailsMaxSlippageItem\n    }\n  ",[d.SwapDetailsCollapsedItemFragment,I,w.SwapDetailsProviderFeeItemFragment,y.SwapDetailsGasFeeItemFragment,p.SwapDetailsEstimatedDurationItemFragment,g.SwapDetailsMaxSlippageItemFragment,v.SwapDetailsNetworkItemFragment,P]);function z(e){let r,d,p,y,g,w,S,b,j,A,T,I,_,F,E,k,M=(0,n.c)(38),{className:D,contentClassName:R,collapsed:B,setCollapsed:P}=e,{quote:q}=(0,c.useSwapContext)();if(M[0]!==q){var z;d=(r=(0,i.readFragment)(O,q))&&null!=(z=(0,o.head)(r.swapRoutes))?z:void 0,M[0]=q,M[1]=r,M[2]=d}else r=M[1],d=M[2];let Q=d;return M[3]!==D?(p=(0,a.classNames)("w-full gap-2 p-4",D),M[3]=D,M[4]=p):p=M[4],M[5]!==R?(y=(0,a.classNames)("gap-4 px-4 pb-4",R),M[5]=R,M[6]=y):y=M[6],M[7]!==Q?(g=(0,t.jsx)(N,{swapRoute:Q}),w=(0,t.jsx)(C.SwapDetailsProviderFeeItem,{swapRoute:Q}),S=(0,t.jsx)(f.SwapDetailsMarketplaceFeeItem,{swapRoute:Q}),b=(0,t.jsx)(h.SwapDetailsGasFeeItem,{swapRoute:Q}),j=(0,t.jsx)(m.SwapDetailsEstimatedDurationItem,{swapRoute:Q}),A=(0,t.jsx)(L,{swapRoute:Q}),M[7]=Q,M[8]=g,M[9]=w,M[10]=S,M[11]=b,M[12]=j,M[13]=A):(g=M[8],w=M[9],S=M[10],b=M[11],j=M[12],A=M[13]),M[14]!==r?(T=(0,t.jsx)(x.SwapDetailsMaxSlippageItem,{quote:r}),M[14]=r,M[15]=T):T=M[15],M[16]!==Q?(I=(0,t.jsx)(v.SwapDetailsNetworkItem,{swapRoute:Q}),M[16]=Q,M[17]=I):I=M[17],M[18]!==T||M[19]!==I||M[20]!==y||M[21]!==g||M[22]!==w||M[23]!==S||M[24]!==b||M[25]!==j||M[26]!==A?(_=(0,t.jsxs)(l.FlexColumn,{className:y,children:[g,w,S,b,j,A,T,I]}),M[18]=T,M[19]=I,M[20]=y,M[21]=g,M[22]=w,M[23]=S,M[24]=b,M[25]=j,M[26]=A,M[27]=_):_=M[27],M[28]!==P?(F=e=>P(!e),M[28]=P,M[29]=F):F=M[29],M[30]!==B||M[31]!==Q?(E=(0,t.jsx)(u.SwapDetailsCollapsedItem,{collapsed:B,swapRoute:Q}),M[30]=B,M[31]=Q,M[32]=E):E=M[32],M[33]!==_||M[34]!==F||M[35]!==E||M[36]!==p?(k=(0,t.jsx)(s.Collapsible,{className:p,content:_,onOpenChange:F,children:E}),M[33]=_,M[34]=F,M[35]=E,M[36]=p,M[37]=k):k=M[37],k}},431335,e=>{"use strict";e.s(["TransactionErrors",()=>o]);var t=e.i(705378),n=e.i(590268),r=e.i(39771),i=e.i(950293),s=e.i(794576),a=e.i(565673),l=e.i(606216);function o(){var e,o,c,u,d,m,p,h;let y,f,x,g,v,C,w,S=(0,n.c)(25),{formState:b}=(0,a.useFormContext)(),{actionsStatus:j}=(0,l.useSwapContext)(),{errors:A}=b,T=j.isLoading,I=null==(e=A.root)?void 0:e.swapError,N=null==(o=A.root)?void 0:o.swapImpact,_=null==(c=A.root)?void 0:c.gasError;if(S[0]!==A.fromCurrency||S[1]!==A.fromQuantity||S[2]!==A.recipient||S[3]!==A.toCurrency||S[4]!==A.toQuantity||S[5]!==_||S[6]!==T||S[7]!==I||S[8]!==N){let e=[];if(f=[],I&&("warning"===I.type?f.push(I.message):e.push(I.message)),_&&!T&&("warning"===_.type?f.push(_.message):e.push(_.message)),N&&("warning"===N.type?f.push(N.message):e.push(N.message)),null==(u=A.fromQuantity)?void 0:u.message){let t=A.fromQuantity;"Insufficient balance"===A.fromQuantity.message&&T||("warning"===t.type?f.push(A.fromQuantity.message):e.push(A.fromQuantity.message))}(null==(d=A.toQuantity)?void 0:d.message)&&("warning"===A.toQuantity.type?f.push(A.toQuantity.message):e.push(A.toQuantity.message)),(null==(m=A.fromCurrency)?void 0:m.message)&&e.push(A.fromCurrency.message),(null==(p=A.toCurrency)?void 0:p.message)&&e.push(A.toCurrency.message),(null==(h=A.recipient)?void 0:h.message)&&e.push(A.recipient.message),y=new Set(e),S[0]=A.fromCurrency,S[1]=A.fromQuantity,S[2]=A.recipient,S[3]=A.toCurrency,S[4]=A.toQuantity,S[5]=_,S[6]=T,S[7]=I,S[8]=N,S[9]=y,S[10]=f}else y=S[9],f=S[10];S[11]!==y?(x=[...y],S[11]=y,S[12]=x):x=S[12];let F=x;S[13]!==f?(g=new Set(f),S[13]=f,S[14]=g):g=S[14],S[15]!==g?(v=[...g],S[15]=g,S[16]=v):v=S[16];let E=v;e:{if(F.length>0){let e,n;S[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(r.FlexCenter,{className:"size-6 justify-center rounded-sm border border-error-1",children:(0,t.jsx)(s.Info,{fill:"error-1",size:16})}),S[17]=e):e=S[17],S[18]!==F[0]?(n=(0,t.jsxs)(t.Fragment,{children:[e,(0,t.jsx)(i.TextBody,{color:"error-1",size:"sm",children:F[0]})]}),S[18]=F[0],S[19]=n):n=S[19],C=n;break e}if(E.length>0){let e,n;S[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(r.FlexCenter,{className:"size-6 justify-center rounded-sm border border-warning",children:(0,t.jsx)(s.Info,{fill:"warning",size:16})}),S[20]=e):e=S[20],S[21]!==E[0]?(n=(0,t.jsxs)(t.Fragment,{children:[e,(0,t.jsx)(i.TextBody,{color:"warning",size:"sm",children:E[0]})]}),S[21]=E[0],S[22]=n):n=S[22],C=n;break e}C=null}let k=C;return S[23]!==k?(w=k?(0,t.jsx)(r.FlexCenter,{className:"gap-2",children:k}):null,S[23]=k,S[24]=w):w=S[24],w}},306224,818767,e=>{"use strict";e.s(["useCanPayGasWithPaymentToken",()=>n],306224);var t=e.i(606216);function n(){let{bundledExecution:e,userOperationsEnabled:n}=(0,t.useSwapContext)();return n&&(null==e?void 0:e.paymentTokens)&&e.paymentTokens.length>0}e.s(["useRequireCompatibleWallet",()=>c],818767);var r=e.i(590268),i=e.i(147850),s=e.i(248452),a=e.i(206849),l=e.i(901562),o=e.i(822529);function c(){let e,t,n=(0,r.c)(8),{getChain:c}=(0,i.useChains)(),{chainArch:u}=(0,s.useAccount)(),d=(0,l.useConnections)(),{connect:m}=(0,a.useConnect)(),p=(0,o.useConnectFlow)();n[0]!==u||n[1]!==m||n[2]!==p||n[3]!==d||n[4]!==c?(e=async e=>{if(!(null==e?void 0:e.restrictSwapsToSameChain))return!0;let t=c(e.chainIdentifier);if(!t)return!1;let n=t.arch;if(u===n)return!0;let r=d.find(e=>e.chainArch===n);if(r)try{return await m(r.connector),!0}catch(e){return!1}return p({chainArch:n}),!1},n[0]=u,n[1]=m,n[2]=p,n[3]=d,n[4]=c,n[5]=e):e=n[5];let h=e;return n[6]!==h?(t={requireCompatibleWallet:h},n[6]=h,n[7]=t):t=n[7],t}},60084,e=>{"use strict";e.s(["useCanLoadQuote",()=>r]);var t=e.i(465172),n=e.i(565673);function r(e){let r=(0,n.useFormContext)(),[i,s]=e?e(["fromQuantity","toCurrency"]):(0,n.useWatch)({control:r.control,name:["fromQuantity","toCurrency"]}),a=i?(0,t.bn)(i):void 0,l=!!a&&!a.isNaN()&&a.gt(0);return!!(s&&l)}},538203,370644,181360,567452,559380,388305,123379,e=>{"use strict";e.s(["CurrencySelectModal",()=>eb],538203);var t=e.i(705378),n=e.i(590268),r=e.i(437153),i=e.i(972483),s=e.i(956309),a=e.i(254842),l=e.i(965523),o=e.i(284296),c=e.i(999258),u=e.i(457628),d=e.i(230834),m=e.i(861690),p=e.i(734630),h=e.i(969498),y=e.i(167532),f=e.i(248452),x=e.i(147850),g=e.i(279853),v=e.i(155722),C=e.i(519078),w=e.i(165102),S=e.i(268288),b=e.i(967593),j=e.i(796579),A=e.i(565673),T=e.i(590726),I=e.i(698722),N=e.i(445857);let _=["ethereum","solana","abstract","arbitrum","base","polygon","ronin"];function F(e){let i,s,a,l,o,c,u=(0,n.c)(17),{direction:d,value:m,onSelectChain:p,className:f}=e,F=(0,y.useTranslations)("wallet.ChainSelect"),{chains:k,getLogo:M}=(0,x.useChains)(),[D,R]=(0,h.useState)(!1),[B,P]=(0,h.useState)(""),L=(0,T.useIsAbstractWalletAccount)(),{control:q}=(0,A.useFormContext)();u[0]!==q?(i={control:q,name:"fromCurrency"},u[0]=q,u[1]=i):i=u[1];let O=(0,A.useWatch)(i),z=k.find(e=>e.identifier===m),Q=(0,w.useIsLessThanMd)()?5:7,V=[..._.reduce((e,t)=>{let n=k.find(e=>e.identifier===t);return n&&e.push(n),e},[]),...k.filter(E)];z&&!_.includes(z.identifier)&&V.findIndex(e=>e.identifier===z.identifier)>=Q&&(V=V.filter(e=>e.identifier!==z.identifier)).splice(Q-1,0,z);let W=V.slice(0,Q),U=V.slice(Q),G=e=>L?"abstract"!==e.identifier:"to"===d&&O.chainIdentifier!==e.identifier&&!e.swapsSupported,H="all"===m;u[2]!==f?(s=(0,r.classNames)("flex gap-2",f),u[2]=f,u[3]=s):s=u[3],u[4]!==p?(a=()=>p("all"),u[4]=p,u[5]=a):a=u[5],u[6]!==F?(l=F("all"),u[6]=F,u[7]=l):l=u[7],u[8]!==H||u[9]!==a||u[10]!==l?(o=(0,t.jsx)(S.SwitchPill,{checked:H,className:"h-9 grow rounded-md",onClick:a,value:"all",children:l}),u[8]=H,u[9]=a,u[10]=l,u[11]=o):o=u[11];let Z=W.map(e=>(0,t.jsx)(b.Tooltip,{content:G(e)?F("swapsNotSupported"):e.name,children:(0,t.jsx)("span",{className:"grow",children:(0,t.jsx)(S.SwitchPill,{checked:m===e.identifier,className:"h-9 w-full rounded-md",disabled:G(e),onClick:()=>p(e.identifier),value:e.identifier,children:(0,t.jsx)("div",{className:(0,r.classNames)("relative inset-shadow-border size-[18px] rounded-full"),children:(0,t.jsx)(I.Avatar,{...M(e.identifier,{circle:!0}),size:18})})},e.networkId)})},e.networkId)),$=U.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Media,{greaterThanOrEqual:"md",children:(0,t.jsx)(v.FloatingCombobox,{content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.FloatingComboboxInput,{onValueChange:P,placeholder:F("placeholder"),value:B}),(0,t.jsxs)(v.FloatingComboboxList,{children:[(0,t.jsx)(v.FloatingComboboxEmpty,{children:F("noResultsFound")}),U.filter(e=>e.name.toLowerCase().includes(B.toLowerCase())).map(e=>(0,t.jsx)(b.Tooltip,{content:F("swapsNotSupported"),disabled:!G(e),children:(0,t.jsx)("span",{children:(0,t.jsxs)(v.FloatingComboboxItem,{disabled:G(e),onSelect:()=>p(e.identifier),value:e.identifier,children:[(0,t.jsx)(v.FloatingComboboxItemAvatar,{...M(e.identifier,{circle:!0}),size:20}),(0,t.jsx)(v.FloatingComboboxItemContent,{children:(0,t.jsx)(v.FloatingComboboxItemTitle,{children:e.name})})]},e.networkId)})},e.networkId))]})]}),overflowLabel:F("overflowLabel"),overrides:{Popover:{align:"end",portal:!1,className:"max-h-[338px]"}},shouldFilter:!1,children:(0,t.jsx)(S.SwitchPill,{className:"h-9 grow rounded-md",children:(0,t.jsx)(j.MoreHoriz,{size:20})})})}),(0,t.jsx)(w.Media,{lessThan:"md",children:(0,t.jsx)(g.BottomSheet,{content:(0,t.jsx)(g.BottomSheetBody,{className:"py-2",children:U.map(e=>(0,t.jsxs)(N.Item,{className:"py-2",disabled:G(e),onClick:()=>{p(e.identifier),R(!1)},variant:"unstyled",children:[(0,t.jsx)(C.ItemAvatar,{...M(e.identifier,{circle:!0})}),(0,t.jsx)(C.ItemContent,{children:(0,t.jsx)(C.ItemTitle,{children:e.name})})]},e.networkId))}),nested:!0,onOpenChange:R,open:D,children:(0,t.jsx)(S.SwitchPill,{className:"h-9 grow rounded-md",children:(0,t.jsx)(j.MoreHoriz,{size:20})})})})]}):null;return u[12]!==s||u[13]!==o||u[14]!==Z||u[15]!==$?(c=(0,t.jsxs)("div",{className:s,children:[o,Z,$]}),u[12]=s,u[13]=o,u[14]=Z,u[15]=$,u[16]=c):c=u[16],c}function E(e){return!_.includes(e.identifier)}var k=e.i(57219),M=e.i(528198),D=e.i(333799),R=e.i(695698),B=e.i(950293);e.s(["withSuspense",()=>P],370644);let P=function(e,n){let{ssr:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){var i,s;let a=null!=(s=null!=(i=r.fallback)?i:"function"==typeof n?(0,h.createElement)(n,r):n)?s:null;return(0,t.jsx)(h.Suspense,{fallback:a,children:(0,t.jsx)(e,{...r})},r.suspenseKey)}};e.s(["CurrencyBalanceItem",()=>X,"CurrencyBalanceItemSkeleton",()=>J],388305);var L=e.i(581147),q=e.i(635341),O=e.i(194153),z=e.i(738480),Q=e.i(310578),V=e.i(209959),W=e.i(648091),U=e.i(769958),G=e.i(117105);e.s(["CurrencyBalanceItemFragment",()=>H],181360);let H=(0,M.graphql)("\n    fragment CurrencyBalanceItem on CurrencyBalanceV2 {\n      id\n      address\n      quantity\n      usdValue\n      gainStats {\n        gain\n        returnPercentage\n      }\n      asset {\n        chainIdentifier\n        contractAddress\n        name\n        usdPrice\n        symbol\n        imageUrl\n        isVerified\n        stats {\n          marketCapUsd\n          oneDay {\n            priceChange\n          }\n        }\n        ...currencyV2Url\n      }\n    }\n  ",[L.currencyV2UrlFragment]);e.s(["BALANCES_LIST_PAGE_SIZE",()=>$,"BALANCE_ITEM_SIZE",()=>Z],567452);let Z={md:40,sm:28},$=20;e.s(["BALANCE_ITEM_CLASSNAMES",()=>Y],559380);let Y="-mx-2 w-[calc(100%+16px)] grow rounded-md";var K=e.i(143692);function X(e){var i,l,o,c,u;let d,m,p,h,f,x,g,v,C,w,S,j,A,T,I,N,_,F,E,k,M,D,B,P,Q,$,X,J=(0,n.c)(77),{ownership:ee,showCurrencyUsdValue:et,withLink:en,showChainBadge:er,onClick:ei,size:es,variant:ea,className:el,wallet:eo}=e,ec=void 0!==er&&er,eu=void 0===es?"md":es,ed=void 0===ea?"24h":ea,em=(0,y.useTranslations)("wallet.CurrencyBalanceItem"),{renderLink:ep,onClick:eh}=(0,G.useNavigation)();if(J[0]!==el||J[1]!==ei||J[2]!==ee||J[3]!==ec||J[4]!==eu||J[5]!==eo){let e,n;f=(x=(0,q.readFragment)(H,ee)).asset,N=(0,L.getCurrencyUrl)(f);let i="sm"===eu;h=Z[eu];let l=i?"p-1.5":"p-2",o=i?"xs":"sm";J[22]!==i||J[23]!==eo?(e=eo&&(0,t.jsx)(K.WalletBadge,{size:i?"sm":"md",wallets:[eo]}),J[22]=i,J[23]=eo,J[24]=e):e=J[24];let c=(0,t.jsxs)(a.Flex,{className:"items-center gap-1",children:[(0,t.jsx)(z.NumberDisplay,{display:"standard",suffix:f.symbol,value:x.quantity}),e]});J[25]!==o||J[26]!==c?(n=(0,t.jsx)(R.ListItemDescription,{size:o,children:c}),J[25]=o,J[26]=c,J[27]=n):n=J[27],g=n,p=R.ListItem,J[28]!==el||J[29]!==l?(C=(0,r.classNames)(Y,l,el),J[28]=el,J[29]=l,J[30]=C):C=J[30],w=!0,S=ei,m=O.CenterAligned,v="size-10",d=R.ListItemAvatar,j=ec?(0,t.jsx)(U.CurrencyItemChainBadge,{identifier:f.chainIdentifier,size:i?"xs":"md"}):void 0,A="bg-bg-additional-1",T=!0,I=(0,s.getCurrencyKey)(f),J[0]=el,J[1]=ei,J[2]=ee,J[3]=ec,J[4]=eu,J[5]=eo,J[6]=d,J[7]=m,J[8]=p,J[9]=h,J[10]=f,J[11]=x,J[12]=g,J[13]=v,J[14]=C,J[15]=w,J[16]=S,J[17]=j,J[18]=A,J[19]=T,J[20]=I,J[21]=N}else d=J[6],m=J[7],p=J[8],h=J[9],f=J[10],x=J[11],g=J[12],v=J[13],C=J[14],w=J[15],S=J[16],j=J[17],A=J[18],T=J[19],I=J[20],N=J[21];let ey=null!=(i=f.imageUrl)?i:void 0;J[31]!==d||J[32]!==h||J[33]!==ey||J[34]!==j||J[35]!==A||J[36]!==T||J[37]!==I?(_=(0,t.jsx)(d,{badge:j,className:A,rounded:T,seed:I,size:h,src:ey}),J[31]=d,J[32]=h,J[33]=ey,J[34]=j,J[35]=A,J[36]=T,J[37]=I,J[38]=_):_=J[38],J[39]!==m||J[40]!==v||J[41]!==_?(F=(0,t.jsx)(m,{className:v,children:_}),J[39]=m,J[40]=v,J[41]=_,J[42]=F):F=J[42],J[43]!==f.name?(E=(0,t.jsx)(R.ListItemTitle,{children:f.name}),J[43]=f.name,J[44]=E):E=J[44],J[45]!==f.isVerified||J[46]!==em?(k=f.isVerified&&(0,t.jsx)(b.Tooltip,{content:em("verifiedTooltip"),children:(0,t.jsx)(W.Verified,{className:"size-4 shrink-0"})}),J[45]=f.isVerified,J[46]=em,J[47]=k):k=J[47],J[48]!==E||J[49]!==k?(M=(0,t.jsxs)(a.Flex,{className:"items-center gap-1",children:[E,k]}),J[48]=E,J[49]=k,J[50]=M):M=J[50];let ef="quantity"!==ed&&g;J[51]!==M||J[52]!==ef?(D=(0,t.jsxs)(R.ListItemContent,{children:[M,ef]}),J[51]=M,J[52]=ef,J[53]=D):D=J[53];let ex=void 0!==et&&et?f.usdPrice:x.usdValue;J[54]!==ex?(B=(0,t.jsx)(R.ListItemTitle,{children:(0,t.jsx)(z.NumberDisplay,{display:"usd",value:ex})}),J[54]=ex,J[55]=B):B=J[55];let eg="quantity"===ed&&g;J[56]!==f.stats||J[57]!==em||J[58]!==ed?(P="24h"===ed&&(null==(o=f.stats)||null==(l=o.oneDay)?void 0:l.priceChange)!==void 0&&(null==(u=f.stats)||null==(c=u.oneDay)?void 0:c.priceChange)!==null&&(0,t.jsx)(b.Tooltip,{content:em("priceChangeTooltip"),children:(0,t.jsx)(R.ListItemDescription,{children:(0,t.jsx)(V.StatChange,{change:Number(f.stats.oneDay.priceChange)})})}),J[56]=f.stats,J[57]=em,J[58]=ed,J[59]=P):P=J[59],J[60]!==B||J[61]!==eg||J[62]!==P?(Q=(0,t.jsxs)(R.ListItemSide,{className:"items-end",children:[B,eg,P]}),J[60]=B,J[61]=eg,J[62]=P,J[63]=Q):Q=J[63],J[64]!==p||J[65]!==C||J[66]!==w||J[67]!==S||J[68]!==F||J[69]!==D||J[70]!==Q?($=(0,t.jsxs)(p,{className:C,interactive:w,onClick:S,children:[F,D,Q]}),J[64]=p,J[65]=C,J[66]=w,J[67]=S,J[68]=F,J[69]=D,J[70]=Q,J[71]=$):$=J[71];let ev=$;return void 0!==en&&en?(J[72]!==ep||J[73]!==ev||J[74]!==eh||J[75]!==N?(X=(0,t.jsx)(ep,{className:"w-full",href:N,onClick:eh,children:ev}),J[72]=ep,J[73]=ev,J[74]=eh,J[75]=N,J[76]=X):X=J[76],X):ev}function J(){let e,i,s,l,o,c,u=(0,n.c)(6);return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.classNames)(Y,"p-2"),i=(0,t.jsx)(Q.SkeletonCircle,{className:"size-10"}),u[0]=e,u[1]=i):(e=u[0],i=u[1]),u[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(a.Flex,{className:"h-6 items-center",children:(0,t.jsx)(Q.SkeletonLine,{className:"h-4 w-[120px]"})}),u[2]=s):s=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)(R.ListItemContent,{children:[s,(0,t.jsx)(R.ListItemDescription,{children:(0,t.jsx)(Q.SkeletonLine,{className:"h-[14px] w-[80px]"})})]}),u[3]=l):l=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(a.Flex,{className:"h-6 items-center",children:(0,t.jsx)(Q.SkeletonLine,{className:"h-4 w-[80px]"})}),u[4]=o):o=u[4],u[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsxs)(R.ListItem,{className:e,children:[i,l,(0,t.jsxs)(R.ListItemSide,{className:"items-end",children:[o,(0,t.jsx)(a.Flex,{className:"h-4 items-center",children:(0,t.jsx)(Q.SkeletonLine,{className:"h-[14px] w-[50px]"})})]})]}),u[5]=c):c=u[5],c}function ee(e){let r,i,s=(0,n.c)(4),{count:a}=e,l=void 0===a?10:a;return s[0]!==l?(r=Array(l).fill(null).map(et),s[0]=l,s[1]=r):r=s[1],s[2]!==r?(i=(0,t.jsx)(t.Fragment,{children:r}),s[2]=r,s[3]=i):i=s[3],i}function et(e,n){return(0,t.jsx)(J,{},n)}let en=(0,M.graphql)("\n    query OwnedCurrenciesQuery($address: Address!, $useTokenGrouping: Boolean) {\n      currencyOwnershipsV2(addresses: [$address], useTokenGrouping: $useTokenGrouping) {\n        items {\n          id\n          __typename\n          ... on CurrencyBalanceV2 {\n            ...CurrencyBalanceItem\n            usdValue\n            asset {\n              contractAddress\n              chainIdentifier\n              name\n              symbol\n              tokenGroup {\n                slug\n              }\n              ...ContextCurrencyV2\n            }\n          }\n        }\n      }\n    }\n  ",[H,k.ContextCurrencyV2Fragment]),er=P(function(e){let{selectedChain:n,searchValue:r,onSelectCurrency:i,fetching:a,limitToTokenGroupSlug:o}=e,c=(0,y.useTranslations)("wallet.OwnedCurrencies"),{address:u}=(0,f.useAccount)(),[{data:d,fetching:m}]=(0,D.useQuery)({query:en,variables:{address:null!=u?u:"",useTokenGrouping:!1},pause:!u}),p=(0,h.useMemo)(()=>{var e;return(null==d||null==(e=d.currencyOwnershipsV2)?void 0:e.items)?d.currencyOwnershipsV2.items.filter(e=>"CurrencyBalanceV2"===e.__typename):[]},[d]),x=(0,h.useMemo)(()=>p.filter(e=>{var t;if("all"!==n&&e.asset.chainIdentifier!==n||o&&(null==(t=e.asset.tokenGroup)?void 0:t.slug)!==o)return!1;if(r){let t=r.toLowerCase();return e.asset.contractAddress.toLowerCase()===t||e.asset.name.toLowerCase().includes(t)||e.asset.symbol.toLowerCase().includes(t)}return!0}).sort((e,t)=>{let n=Number(e.usdValue)||0;return(Number(t.usdValue)||0)-n}),[p,n,o,r]),g=(0,h.useCallback)(async e=>{i((0,s.readCurrencyV2Fragment)(e.asset))},[i]);return(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[(0,t.jsx)(B.TextBody,{children:c("yourTokens")}),(0,t.jsx)(R.List,{className:"bg-transparent",showBorder:!1,children:(null!=a?a:m)?(0,t.jsx)(ee,{}):0===x.length?(0,t.jsx)(B.TextBody,{className:"pb-5",children:c(u?"noTokensFound":"connectToView")}):x.map(e=>(0,t.jsx)(X,{onClick:()=>g(e),ownership:e,showChainBadge:!0,variant:"24h"},e.id))})]})},(0,t.jsx)(function(){let e,r,i,s,a=(0,n.c)(7),o=(0,y.useTranslations)("wallet.OwnedCurrencies");return a[0]!==o?(e=o("yourTokens"),a[0]=o,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(B.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(R.List,{className:"bg-transparent",showBorder:!1,children:(0,t.jsx)(ee,{count:2})}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s},{}));var ei=e.i(767502),es=e.i(149431);function ea(e){let r,i,a,l,o,c,u,d,m=(0,n.c)(27),{currency:p,onClick:h,variant:f,balance:x}=e,g=(0,y.useTranslations)("wallet.CurrencyItem"),v="holdings"===(void 0===f?"market":f)&&x&&"0"!==x.quantity;if(m[0]!==p.chainIdentifier?(r=(0,t.jsx)(U.CurrencyItemChainBadge,{identifier:p.chainIdentifier}),m[0]=p.chainIdentifier,m[1]=r):r=m[1],m[2]!==p?(i=(0,s.getCurrencyKey)(p),m[2]=p,m[3]=i):i=m[3],m[4]!==p.imageUrl||m[5]!==r||m[6]!==i?(a=(0,t.jsx)(C.ItemAvatar,{badge:r,className:"bg-bg-additional-1",rounded:!0,seed:i,size:42,src:p.imageUrl}),m[4]=p.imageUrl,m[5]=r,m[6]=i,m[7]=a):a=m[7],m[8]!==p.name?(l=(0,t.jsx)(C.ItemTitle,{children:p.name}),m[8]=p.name,m[9]=l):l=m[9],m[10]!==p.symbol?(o=(0,t.jsx)(C.ItemDescription,{children:p.symbol}),m[10]=p.symbol,m[11]=o):o=m[11],m[12]!==l||m[13]!==o?(c=(0,t.jsxs)(C.ItemContent,{children:[l,o]}),m[12]=l,m[13]=o,m[14]=c):c=m[14],m[15]!==x||m[16]!==p.stats||m[17]!==p.symbol||m[18]!==p.usdPrice||m[19]!==v||m[20]!==g){var w;u=(0,t.jsx)(C.ItemSide,{className:"items-end",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.ItemTitle,{children:(0,t.jsx)(es.AnimatedNumber,{display:"usd",value:x.usdValue})}),(0,t.jsx)(C.ItemDescription,{className:"font-mono",children:(0,t.jsx)(es.AnimatedNumber,{display:"standard",suffix:p.symbol,value:x.quantity})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.ItemTitle,{children:(0,t.jsx)(z.NumberDisplay,{display:"usd",value:p.usdPrice})}),(null==(w=p.stats)?void 0:w.marketCapUsd)&&(0,t.jsx)(b.Tooltip,{content:g("marketCap"),children:(0,t.jsxs)(C.ItemDescription,{className:"font-mono",children:[(0,t.jsx)(es.AnimatedNumber,{display:"usd",value:p.stats.marketCapUsd})," ",g("mc")]})})]})}),m[15]=x,m[16]=p.stats,m[17]=p.symbol,m[18]=p.usdPrice,m[19]=v,m[20]=g,m[21]=u}else u=m[21];return m[22]!==h||m[23]!==a||m[24]!==c||m[25]!==u?(d=(0,t.jsxs)(N.Item,{className:"!rounded-lg border-0 p-2",onClick:h,children:[a,c,u]}),m[22]=h,m[23]=a,m[24]=c,m[25]=u,m[26]=d):d=m[26],d}let el=(0,M.graphql)("\n    query PrioritizedCurrencies($chains: [ChainIdentifier!]) {\n      prioritizedCurrencies(chains: $chains) {\n        ...ContextCurrency\n      }\n    }\n  ",[ei.ContextCurrencyFragment]),eo=P(e=>{let{selectedChain:n,onSelectCurrency:r}=e,i=(0,y.useTranslations)("wallet.PrioritizedCurrencies"),[{data:a}]=(0,D.useQuery)({query:el,variables:{chains:"all"!==n?[n]:void 0}}),o=null==a?void 0:a.prioritizedCurrencies.map(e=>(0,s.readCurrencyFragment)(e));return o&&0!==o.length?(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[(0,t.jsx)(B.TextBody,{children:i("popularTokens")}),(0,t.jsx)(R.List,{className:"-mx-2 bg-transparent",showBorder:!1,children:o.map(e=>(0,t.jsx)(ea,{currency:e,onClick:()=>r(e)},(0,s.getCurrencyKey)(e)))})]}):null},(0,t.jsx)(function(){let e,r,i,s,a=(0,n.c)(7),o=(0,y.useTranslations)("wallet.PrioritizedCurrencies");return a[0]!==o?(e=o("popularTokens"),a[0]=o,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(B.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(R.List,{className:"-mx-2 bg-transparent",showBorder:!1,children:(0,t.jsx)(ee,{count:3})}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s},{}));var ec=e.i(521593);let eu=(0,M.graphql)("\n    query RecentlyTradedCurrencies($address: Address!, $limit: Int) {\n      recentlyTradedCurrenciesV2(address: $address, limit: $limit) {\n        ...ContextCurrencyV2\n      }\n    }\n  ",[k.ContextCurrencyV2Fragment]),ed=P(e=>{let{onSelectCurrency:n,showHoldings:r}=e,i=(0,y.useTranslations)("wallet.RecentlyTradedCurrencies"),{address:a}=(0,f.useAccount)(),{getBalanceOfCurrency:o}=(0,ec.useBalances)(),[{data:c}]=(0,D.useQuery)({query:eu,variables:{address:null!=a?a:"",limit:10},pause:!a}),u=null==c?void 0:c.recentlyTradedCurrenciesV2.map(e=>(0,s.readCurrencyV2Fragment)(e));return u&&0!==u.length?(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[(0,t.jsx)(B.TextBody,{children:i("recentlyTraded")}),(0,t.jsx)(R.List,{className:"-mx-2 bg-transparent",showBorder:!1,children:u.map(e=>{let i=r&&e.chainIdentifier&&e.contractAddress?o({chainIdentifier:e.chainIdentifier,contractAddress:e.contractAddress}):void 0;return(0,t.jsx)(ea,{balance:i?{quantity:i.quantity,usdValue:i.usdValue}:void 0,currency:e,onClick:()=>n(e),variant:r?"holdings":"market"},(0,s.getCurrencyKey)(e))})})]}):null},(0,t.jsx)(function(){let e,r,i,s,a=(0,n.c)(7),o=(0,y.useTranslations)("wallet.RecentlyTradedCurrencies");return a[0]!==o?(e=o("recentlyTraded"),a[0]=o,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(B.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(R.List,{className:"-mx-2 bg-transparent",showBorder:!1,children:(0,t.jsx)(ee,{count:3})}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s},{}));var em=e.i(230690);let ep=(0,M.graphql)("\n    query CurrenciesByTokenGroup(\n      $slug: String!\n    ) {\n      tokenGroupV2(slug: $slug) {\n        currencies {\n          ...ContextCurrencyV2\n        }\n      }\n    }\n  ",[k.ContextCurrencyV2Fragment]),eh=e=>{let r,i,a,o,c,u,d,m,p,h,f=(0,n.c)(33),{searchValue:x,onSelectCurrency:g,selectedChain:v,tokenGroupSlug:C}=e,w=(0,y.useTranslations)("wallet.TokenGroupCurrencies");f[0]!==C?(r={slug:C},f[0]=C,f[1]=r):r=f[1];let{currencies:S,fetching:b}=(e=>{var t,r,i,s;let a,l,o,c,u,d=(0,n.c)(14),{slug:m}=e,p=null!=m?m:"";d[0]!==p?(a={slug:p},d[0]=p,d[1]=a):a=d[1];let h=!m;d[2]!==a||d[3]!==h?(l={query:ep,variables:a,pause:h,context:em.NETWORK_ONLY_OPERATION_CONTEXT},d[2]=a,d[3]=h,d[4]=l):l=d[4];let[y,f]=(0,D.useQuery)(l),{data:x,error:g,fetching:v}=y;return d[5]!==(null==x||null==(t=x.tokenGroupV2)?void 0:t.currencies)?(o=null!=(s=null==x||null==(r=x.tokenGroupV2)?void 0:r.currencies)?s:[],d[5]=null==x||null==(i=x.tokenGroupV2)?void 0:i.currencies,d[6]=o):o=d[6],d[7]!==f?(c=()=>f({requestPolicy:"network-only"}),d[7]=f,d[8]=c):c=d[8],d[9]!==g||d[10]!==v||d[11]!==o||d[12]!==c?(u={currencies:o,error:g,fetching:v,refetch:c},d[9]=g,d[10]=v,d[11]=o,d[12]=c,d[13]=u):u=d[13],u})(r);if(f[2]!==S||f[3]!==b||f[4]!==g||f[5]!==x||f[6]!==v||f[7]!==w){let e,n,r;f[15]!==v?(e=e=>"all"===v||e.chainIdentifier===v,f[15]=v,f[16]=e):e=f[16],f[17]!==x?(n=e=>!x||e.contractAddress.toLowerCase()===x.toLowerCase()||e.name.toLowerCase().includes(x.toLowerCase())||e.symbol.toLowerCase().includes(x.toLowerCase()),f[17]=x,f[18]=n):n=f[18];let p=S.map(ey).filter(e).filter(n);a=l.FlexColumn,d="gap-2.5",f[19]!==w?(r=w("tokenGroupCurrencies"),f[19]=w,f[20]=r):r=f[20],f[21]!==r?(m=(0,t.jsx)(B.TextBody,{children:r}),f[21]=r,f[22]=m):m=f[22],i=R.List,o="-mx-2 bg-transparent",c=!1,u=b?(0,t.jsx)(ee,{}):0===p.length?(0,t.jsx)(B.TextBody,{className:"mx-2 pb-5",children:w("noCurrenciesFound")}):p.map(e=>(0,t.jsx)(ea,{currency:e,onClick:()=>g(e)},(0,s.getCurrencyKey)(e))),f[2]=S,f[3]=b,f[4]=g,f[5]=x,f[6]=v,f[7]=w,f[8]=i,f[9]=a,f[10]=o,f[11]=c,f[12]=u,f[13]=d,f[14]=m}else i=f[8],a=f[9],o=f[10],c=f[11],u=f[12],d=f[13],m=f[14];return f[23]!==i||f[24]!==o||f[25]!==c||f[26]!==u?(p=(0,t.jsx)(i,{className:o,showBorder:c,children:u}),f[23]=i,f[24]=o,f[25]=c,f[26]=u,f[27]=p):p=f[27],f[28]!==a||f[29]!==d||f[30]!==m||f[31]!==p?(h=(0,t.jsxs)(a,{className:d,children:[m,p]}),f[28]=a,f[29]=d,f[30]=m,f[31]=p,f[32]=h):h=f[32],h};function ey(e){return(0,s.readCurrencyV2Fragment)(e)}let ef=(0,M.graphql)("\n    query topCurrencies(\n      $filter: CurrenciesFilter!\n      $limit: Int!\n      $sort: CurrenciesSort!\n    ) {\n      topCurrenciesV2(filter: $filter, limit: $limit, sort: $sort) {\n        items {\n          __typename\n          ... on CurrencyV2 {\n            name\n            symbol\n            imageUrl\n            chain {\n              identifier\n            }\n            contractAddress\n            usdPrice\n            decimals\n            isSwapDisabled\n            ...ContextCurrencyV2\n          }\n        }\n      }\n    }\n  ",[k.ContextCurrencyV2Fragment]);function ex(e){return(0,s.readCurrencyV2Fragment)(e)}function eg(e){return"CurrencyV2"===e.__typename}let ev=P(function(e){let r,i,a,o,c,u,d,m,p,h,f=(0,n.c)(28),{selectedChain:x,onSelectCurrency:g,fetching:v,removeSwapDisabledCurrencies:C,searchCurrencies:w,limitToTokenGroupSlug:S}=e,b=(0,y.useTranslations)("wallet.TopCurrencies"),j=(0,T.useIsAbstractWalletAccount)();f[0]!==x?(r="all"===x?void 0:[x],f[0]=x,f[1]=r):r=f[1];let A=r;if(j){let e;f[2]===Symbol.for("react.memo_cache_sentinel")?(e=["abstract"],f[2]=e):e=f[2],A=e}let I=!!C||null;f[3]!==A||f[4]!==I?(i={chains:A,swappable:I},f[3]=A,f[4]=I,f[5]=i):i=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(a={by:"ONE_DAY_VOLUME",direction:"DESC"},f[6]=a):a=f[6],f[7]!==i?(o={filter:i,sort:a},f[7]=i,f[8]=o):o=f[8];let{currencies:N,fetching:_}=(e=>{let t,r,i,s,a,l=(0,n.c)(15),{filter:o,pause:c,sort:u}=e;l[0]!==o||l[1]!==u?(t={filter:o,sort:u,limit:50},l[0]=o,l[1]=u,l[2]=t):t=l[2],l[3]!==c||l[4]!==t?(r={query:ef,variables:t,pause:c,context:em.NETWORK_ONLY_OPERATION_CONTEXT},l[3]=c,l[4]=t,l[5]=r):r=l[5];let[d,m]=(0,D.useQuery)(r),{data:p,error:h,fetching:y}=d;if(l[6]!==(null==p?void 0:p.topCurrenciesV2.items)){var f;i=null!=(f=null==p?void 0:p.topCurrenciesV2.items)?f:[],l[6]=null==p?void 0:p.topCurrenciesV2.items,l[7]=i}else i=l[7];return l[8]!==m?(s=()=>m({requestPolicy:"network-only"}),l[8]=m,l[9]=s):s=l[9],l[10]!==h||l[11]!==y||l[12]!==i||l[13]!==s?(a={currencies:i,error:h,fetching:y,refetch:s},l[10]=h,l[11]=y,l[12]=i,l[13]=s,l[14]=a):a=l[14],a})(o);if(f[9]!==N||f[10]!==S){let e;f[12]!==S?(e=e=>{var t;return!S||(null==(t=e.tokenGroup)?void 0:t.slug)===S},f[12]=S,f[13]=e):e=f[13],c=N.filter(eg).map(ex).filter(e),f[9]=N,f[10]=S,f[11]=c}else c=f[11];let F=c,E=w||F,k=v||_;return f[14]!==b?(u=b("trendingTokens"),f[14]=b,f[15]=u):u=f[15],f[16]!==u?(d=(0,t.jsx)(B.TextBody,{children:u}),f[16]=u,f[17]=d):d=f[17],f[18]!==k||f[19]!==E||f[20]!==g||f[21]!==b?(m=k?(0,t.jsx)(ee,{}):0===E.length?(0,t.jsx)(B.TextBody,{className:"mx-2 pb-5",children:b("noCurrenciesFound")}):E.map(e=>(0,t.jsx)(ea,{currency:e,onClick:()=>g(e)},(0,s.getCurrencyKey)(e))),f[18]=k,f[19]=E,f[20]=g,f[21]=b,f[22]=m):m=f[22],f[23]!==m?(p=(0,t.jsx)(R.List,{className:"-mx-2 bg-transparent",showBorder:!1,children:m}),f[23]=m,f[24]=p):p=f[24],f[25]!==p||f[26]!==d?(h=(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[d,p]}),f[25]=p,f[26]=d,f[27]=h):h=f[27],h},(0,t.jsx)(function(){let e,r,i,s,a=(0,n.c)(7),o=(0,y.useTranslations)("wallet.TopCurrencies");return a[0]!==o?(e=o("trendingTokens"),a[0]=o,a[1]=e):e=a[1],a[2]!==e?(r=(0,t.jsx)(B.TextBody,{children:e}),a[2]=e,a[3]=r):r=a[3],a[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(R.List,{className:"-mx-2 bg-transparent",showBorder:!1,children:(0,t.jsx)(ee,{})}),a[4]=i):i=a[4],a[5]!==r?(s=(0,t.jsxs)(l.FlexColumn,{className:"gap-2.5",children:[r,i]}),a[5]=r,a[6]=s):s=a[6],s},{})),eC=(0,M.graphql)("\n    query currenciesByQuery($query: String!, $limit: Int!, $chain: ChainIdentifier) {\n      currenciesByQuery(query: $query, limit: $limit, allowlistOnly: false, chain: $chain) {\n        name\n        symbol\n        imageUrl\n        chain {\n          identifier\n        }\n        contractAddress\n        usdPrice\n        decimals\n        isSwapDisabled\n        ...ContextCurrency\n      }\n    }\n  ",[ei.ContextCurrencyFragment]),ew=e=>{var i;let s,x,g,v,C,w,S,b,j,A,T,I,N,_,E,k,M,R,B,P,L=(0,n.c)(64),{chain:q,direction:O,onSelectCurrency:z,removeSwapDisabledCurrencies:Q,className:V,onClose:W,limitToChain:U,limitToTokenGroupSlug:G}=e,H=(0,y.useTranslations)("wallet.CurrencySelectContent"),[Z,$]=(0,h.useState)(null!=(i=null!=U?U:q)?i:"all"),Y=null!=U?U:Z,[K,X]=(0,h.useState)("");L[0]!==K?(s=K.trim(),L[0]=K,L[1]=s):s=L[1];let[J]=(0,d.useDebounceValue)(s,500),{address:ee}=(0,f.useAccount)(),et=!!G;L[2]!==J||L[3]!==Y||L[4]!==et?(x={query:J,chain:Y,pause:et},L[2]=J,L[3]=Y,L[4]=et,L[5]=x):x=L[5];let{currencies:en,fetching:ei}=(e=>{let t,r,i,s,a,l=(0,n.c)(15),{query:o,chain:c,pause:u}=e,d=c&&"all"!==c?c:void 0;l[0]!==o||l[1]!==d?(t={query:o,limit:100,chain:d},l[0]=o,l[1]=d,l[2]=t):t=l[2];let m=!o||u;l[3]!==t||l[4]!==m?(r={query:eC,variables:t,pause:m,context:em.NETWORK_ONLY_OPERATION_CONTEXT},l[3]=t,l[4]=m,l[5]=r):r=l[5];let[p,h]=(0,D.useQuery)(r),{data:y,error:f,fetching:x}=p;if(l[6]!==(null==y?void 0:y.currenciesByQuery)){var g;i=null!=(g=null==y?void 0:y.currenciesByQuery)?g:[],l[6]=null==y?void 0:y.currenciesByQuery,l[7]=i}else i=l[7];return l[8]!==h?(s=()=>h({requestPolicy:"network-only"}),l[8]=h,l[9]=s):s=l[9],l[10]!==f||l[11]!==x||l[12]!==i||l[13]!==s?(a={currencies:i,error:f,fetching:x,refetch:s},l[10]=f,l[11]=x,l[12]=i,l[13]=s,l[14]=a):a=l[14],a})(x);return L[6]!==en?(v=en.map(eS),L[6]=en,L[7]=v):v=L[7],g=v,L[8]!==V?(C=(0,r.classNames)("h-full overflow-hidden",V),L[8]=V,L[9]=C):C=L[9],L[10]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(m.Close,{fill:"text-secondary",size:22}),L[10]=w):w=L[10],L[11]!==W?(S=(0,t.jsx)(u.UnstyledButton,{onClick:W,children:w}),L[11]=W,L[12]=S):S=L[12],L[13]===Symbol.for("react.memo_cache_sentinel")?(j=e=>X(e.target.value),b={Input:{className:"!text-md"}},L[13]=b,L[14]=j):(b=L[13],j=L[14]),L[15]!==H?(A=H("searchPlaceholder"),L[15]=H,L[16]=A):A=L[16],L[17]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)(p.Search,{fill:"text-secondary",size:22}),L[17]=T):T=L[17],L[18]!==K||L[19]!==A||L[20]!==S?(I=(0,t.jsx)(a.Flex,{className:"px-4 py-3",children:(0,t.jsx)(o.Input,{className:"gap-3.5 font-sans",endEnhancer:S,onChange:j,overrides:b,placeholder:A,size:"sm",startEnhancer:T,value:K,variant:"ghost"})}),L[18]=K,L[19]=A,L[20]=S,L[21]=I):I=L[21],L[22]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(c.Separator,{}),L[22]=N):N=L[22],L[23]!==O||L[24]!==U||L[25]!==Z?(_=!U&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F,{className:"flex flex-wrap p-4",direction:O,onSelectChain:$,value:Z}),(0,t.jsx)(c.Separator,{})]}),L[23]=O,L[24]=U,L[25]=Z,L[26]=_):_=L[26],L[27]!==ee||L[28]!==O||L[29]!==Y||L[30]!==G||L[31]!==z||L[32]!==K.length?(E=ee&&0===K.length&&!G&&"all"===Y&&"from"!==O&&(0,t.jsx)(ed,{onSelectCurrency:z,showHoldings:!1}),L[27]=ee,L[28]=O,L[29]=Y,L[30]=G,L[31]=z,L[32]=K.length,L[33]=E):E=L[33],L[34]!==O||L[35]!==Y||L[36]!==ei||L[37]!==G||L[38]!==z||L[39]!==K?(k="from"===O&&(0,t.jsx)(er,{fetching:ei,limitToTokenGroupSlug:G,onSelectCurrency:z,searchValue:K,selectedChain:Y}),L[34]=O,L[35]=Y,L[36]=ei,L[37]=G,L[38]=z,L[39]=K,L[40]=k):k=L[40],L[41]!==Y||L[42]!==G||L[43]!==z||L[44]!==K.length?(M="all"!==Y&&!G&&0===K.length&&(0,t.jsx)(eo,{onSelectCurrency:z,selectedChain:Y}),L[41]=Y,L[42]=G,L[43]=z,L[44]=K.length,L[45]=M):M=L[45],L[46]!==Y||L[47]!==ei||L[48]!==G||L[49]!==z||L[50]!==Q||L[51]!==g||L[52]!==K?(R=G?(0,t.jsx)(eh,{onSelectCurrency:z,searchValue:K,selectedChain:Y,tokenGroupSlug:G}):(0,t.jsx)(ev,{fetching:ei,limitToTokenGroupSlug:G,onSelectCurrency:z,removeSwapDisabledCurrencies:Q,searchCurrencies:K?g:void 0,selectedChain:Y}),L[46]=Y,L[47]=ei,L[48]=G,L[49]=z,L[50]=Q,L[51]=g,L[52]=K,L[53]=R):R=L[53],L[54]!==E||L[55]!==k||L[56]!==M||L[57]!==R?(B=(0,t.jsxs)(l.FlexColumn,{className:"scrollbar-hidden flex-1 gap-4 overflow-y-scroll p-4 pb-3",children:[E,k,M,R]}),L[54]=E,L[55]=k,L[56]=M,L[57]=R,L[58]=B):B=L[58],L[59]!==I||L[60]!==_||L[61]!==B||L[62]!==C?(P=(0,t.jsxs)(l.FlexColumn,{className:C,children:[I,N,_,B]}),L[59]=I,L[60]=_,L[61]=B,L[62]=C,L[63]=P):P=L[63],P};function eS(e){return(0,s.readCurrencyFragment)(e)}let eb=e=>{let s,a,l,o,c,u,d,m,p=(0,n.c)(17);return p[0]!==e?({open:l,onOpenChange:a,className:s,...o}=e,p[0]=e,p[1]=s,p[2]=a,p[3]=l,p[4]=o):(s=p[1],a=p[2],l=p[3],o=p[4]),p[5]!==s?(c=(0,r.classNames)("max-h-[55vh]",s),p[5]=s,p[6]=c):c=p[6],p[7]!==a?(u=()=>null==a?void 0:a(!1),p[7]=a,p[8]=u):u=p[8],p[9]!==o||p[10]!==c||p[11]!==u?(d=(0,t.jsx)(ew,{className:c,onClose:u,...o}),p[9]=o,p[10]=c,p[11]=u,p[12]=d):d=p[12],p[13]!==a||p[14]!==l||p[15]!==d?(m=(0,t.jsx)(i.Modal,{className:"h-[55vh] overflow-hidden bg-bg-primary",content:d,onOpenChange:a,open:l,withCloseIcon:!1}),p[13]=a,p[14]=l,p[15]=d,p[16]=m):m=p[16],m};e.s(["CurrencySelectSheet",()=>ej],123379);let ej=e=>{let r,i,s,a,l,o,c,u=(0,n.c)(15);return u[0]!==e?({open:s,onOpenChange:i,container:r,...a}=e,u[0]=e,u[1]=r,u[2]=i,u[3]=s,u[4]=a):(r=u[1],i=u[2],s=u[3],a=u[4]),u[5]!==i?(l=()=>null==i?void 0:i(!1),u[5]=i,u[6]=l):l=u[6],u[7]!==a||u[8]!==l?(o=(0,t.jsx)(ew,{...a,onClose:l}),u[7]=a,u[8]=l,u[9]=o):o=u[9],u[10]!==r||u[11]!==i||u[12]!==s||u[13]!==o?(c=(0,t.jsx)(g.BottomSheet,{className:"h-full overflow-hidden",container:r,content:o,onOpenChange:i,open:s,withCloseIcon:!1}),u[10]=r,u[11]=i,u[12]=s,u[13]=o,u[14]=c):c=u[14],c}},600832,e=>{"use strict";e.s(["SwapToastContent",()=>o]);var t=e.i(705378),n=e.i(590268),r=e.i(508833),i=e.i(39771),s=e.i(738480),a=e.i(257721),l=e.i(465172);function o(e){let o,c,u,d,m,p,h,y,f,x,g=(0,n.c)(26),{route:v}=e;if(!v||"SwapRoute"!==v.__typename)return null;g[0]!==v.fromAsset?(o="Currency"===v.fromAsset.__typename?(0,t.jsx)(r.CurrencyLockup,{className:"w-auto",currency:v.fromAsset,children:(0,t.jsx)(r.CurrencyLockupAvatar,{className:"flex-none",size:24})}):null,g[0]=v.fromAsset,g[1]=o):o=g[1];let C="Currency"===v.fromAsset.__typename?v.fromAsset.symbol:"",w="Currency"===v.fromAsset.__typename?v.fromAsset.decimals:0;g[2]!==v.fromQuantity||g[3]!==w?(c=(0,l.bn)(v.fromQuantity,w),g[2]=v.fromQuantity,g[3]=w,g[4]=c):c=g[4],g[5]!==C||g[6]!==c?(u=(0,t.jsx)("div",{className:"min-w-[3ch]",children:(0,t.jsx)(s.NumberDisplay,{className:"block truncate",suffix:C,value:c})}),g[5]=C,g[6]=c,g[7]=u):u=g[7],g[8]!==o||g[9]!==u?(d=(0,t.jsxs)(i.FlexCenter,{className:"min-w-0 flex-1 justify-start gap-3",children:[o,u]}),g[8]=o,g[9]=u,g[10]=d):d=g[10],g[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(a.ArrowRightAlt,{className:"flex-none",size:20}),g[11]=m):m=g[11],g[12]!==v.toAsset?(p="Currency"===v.toAsset.__typename?(0,t.jsx)(r.CurrencyLockup,{className:"w-auto",currency:v.toAsset,children:(0,t.jsx)(r.CurrencyLockupAvatar,{className:"flex-none",size:24})}):null,g[12]=v.toAsset,g[13]=p):p=g[13];let S="Currency"===v.toAsset.__typename?v.toAsset.symbol:"",b="Currency"===v.toAsset.__typename?v.toAsset.decimals:0;return g[14]!==v.toQuantity||g[15]!==b?(h=(0,l.bn)(v.toQuantity,b),g[14]=v.toQuantity,g[15]=b,g[16]=h):h=g[16],g[17]!==h||g[18]!==S?(y=(0,t.jsx)("div",{className:"min-w-[3ch]",children:(0,t.jsx)(s.NumberDisplay,{className:"block truncate",suffix:S,value:h})}),g[17]=h,g[18]=S,g[19]=y):y=g[19],g[20]!==y||g[21]!==p?(f=(0,t.jsxs)(i.FlexCenter,{className:"min-w-0 flex-1 justify-start gap-3",children:[p,y]}),g[20]=y,g[21]=p,g[22]=f):f=g[22],g[23]!==f||g[24]!==d?(x=(0,t.jsxs)(i.FlexCenter,{className:"mt-1 min-w-0 gap-2 whitespace-nowrap py-1 pe-4",children:[d,m,f]}),g[23]=f,g[24]=d,g[25]=x):x=g[25],x}},399497,e=>{"use strict";e.s(["SwapVert",()=>s]);var t=e.i(705378),n=e.i(590268),r=e.i(790621),i=e.i(437153);function s(e){let s,a,l,o,c,u,d,m,p=(0,n.c)(15);p[0]!==e?({size:l,fill:o,fillAttribute:c,className:s,...a}=e,p[0]=e,p[1]=s,p[2]=a,p[3]=l,p[4]=o,p[5]=c):(s=p[1],a=p[2],l=p[3],o=p[4],c=p[5]);let h=void 0===l?24:l,y=void 0===o?"current":o,f=void 0===c?"currentColor":c;return p[6]!==s||p[7]!==y?(u=(0,i.classNames)((0,r.fillVariants)({fill:y}),s),p[6]=s,p[7]=y,p[8]=u):u=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M320-440v-287L217-624l-57-56 200-200 200 200-57 56-103-103v287h-80ZM600-80 400-280l57-56 103 103v-287h80v287l103-103 57 56L600-80Z"}),p[9]=d):d=p[9],p[10]!==f||p[11]!==a||p[12]!==h||p[13]!==u?(m=(0,t.jsx)("svg",{"aria-label":"Swap Vert",className:u,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...a,children:d}),p[10]=f,p[11]=a,p[12]=h,p[13]=u,p[14]=m):m=p[14],m}},918081,187935,42129,e=>{"use strict";e.s(["getFeeBufferAmount",()=>s],918081);var t=e.i(528198),n=e.i(465172);let r={},i=(0,t.graphql)("\n  query EstimateSolanaFeeBuffer {\n    estimateSolanaFeeBuffer\n  }\n");async function s(e,t,i,s){let o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4e5,u=arguments.length>5?arguments[5]:void 0;if(!(e&&t))return(0,n.bn)(0);let d="".concat(e.toLowerCase(),"FeeBuffer:").concat(t,":").concat(c),m=(e=>{try{let t=localStorage.getItem(e);if(!t)return null;let{value:n,expiry:r}=JSON.parse(t);if(Date.now()>r)return localStorage.removeItem(e),null;return n}catch(e){return null}})(d);if(m)return(0,n.bn)(m);if(d in r)return r[d];if("EVM"===e){if(!s)return(0,n.bn)(0);o=a(s,i,c)}else{if("SVM"!==e||!u)return(0,n.bn)(0);o=l(u)}return r[d]=o,o.then(e=>{var t=e.toString();try{let e={value:t,expiry:Date.now()+3e5};localStorage.setItem(d,JSON.stringify(e))}catch(e){}}).catch(()=>{}).finally(()=>{delete r[d]}),o}async function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e5;if(!t||t.lte(0))return(0,n.bn)(0);let i=(0,n.bn)(.005).times(r).times(2).div(4e5);try{let t=(await e.estimateFeesPerGas()).maxFeePerGas;return(!t||t<=BigInt(0))&&(t=await e.getGasPrice()),t<BigInt(1e8)&&(t=BigInt(1e8)),(0,n.bn)(t.toString()).times(r).times(2).div(1e18)}catch(e){return console.error("Error calculating EVM native gas buffer:",e),i}}async function l(e){let t=(0,n.bn)(.001).times(5);try{let{data:r,error:s}=await e.query(i,{});if(s||!(null==r?void 0:r.estimateSolanaFeeBuffer))return console.error("Error fetching Solana fee estimate:",s),t;return(0,n.bn)(r.estimateSolanaFeeBuffer).times(5)}catch(e){return console.error("Error calculating SVM native fee buffer:",e),t}}e.s(["CurrencyQuantityPresetButton",()=>g],187935);var o=e.i(705378),c=e.i(147850),u=e.i(738480),d=e.i(268288),m=e.i(967593),p=e.i(703405),h=e.i(969498),y=e.i(84060),f=e.i(167532);let x={ethereum:.005,base:1e-5,abstract:1e-5,arbitrum:1e-5,polygon:.005,optimism:1e-6,b3:1e-6,avalanche:1e-4,zora:1e-5,unichain:1e-6,solana:.0015};function g(e){let{balance:t,balanceMultiplier:r=1,quantity:i,onClick:s,requiresSvmFee:a=!0,getFeeBufferAmount:l,publicClient:g,gasLimit:v,disabled:C=!1}=e,w=(0,f.useTranslations)("wallet.CurrencyQuantityPresetButton"),{getNativeCurrency:S}=(0,c.useChains)(),b=(0,y.useClient)(),[j,A]=(0,h.useState)("0"),T=t?S(t.currency.chainIdentifier):void 0,I=(null==T?void 0:T.contractAddress)===(null==t?void 0:t.currency.contractAddress),{gas:N}=function(e){var t;let{chain:n,tokenAddress:r}=e;return n&&r?{gas:null!=(t=x[n])?t:1e-6}:{gas:0}}({chain:null==t?void 0:t.currency.chainIdentifier,tokenAddress:null==t?void 0:t.currency.contractAddress}),_=t?(0,n.bn)(t.quantity).times(r):(0,n.bn)(0),F=async()=>{let e=_;if(1===r&&I&&t){let r=(0,n.bn)(0);if(l&&("EVM"===t.currency.chain.arch||"SVM"===t.currency.chain.arch)&&t.quantity)try{let e=(0,n.bn)(t.quantity);r=await l(t.currency.chain.arch,t.currency.chain.identifier,e,null!=g?g:null,v,null!=b?b:null)}catch(e){console.error("Failed to get dynamic buffer, using static fallback:",e)}r.isZero()&&N>0&&(r=(0,n.bn)(N)),r.gt(0)&&(e=e.minus(r))}else I&&(e=e.minus(N));return(null==t?void 0:t.currency.chain.arch)==="SVM"&&I&&a&&(e=e.times((0,n.bn)(1).minus(.0085))),(null==t?void 0:t.currency.decimals)!==void 0&&(e=e.decimalPlaces(t.currency.decimals,p.BigNumber.ROUND_DOWN)),e.toString()};(0,h.useEffect)(()=>{F().then(A)},[t,r,N,I,l,g,v,b]);let E=void 0!==i&&(0,n.bn)(i).eq((0,n.bn)(j)),k=(0,h.useMemo)(()=>t?(0,n.bn)(j).lt(0)?w("insufficientBalance"):void 0:w("noToken"),[t,j,w]),M=!!k;return(0,o.jsx)(m.Tooltip,{content:k,disabled:!M,children:(0,o.jsx)("span",{children:(0,o.jsx)(d.SwitchPill,{checked:E,disabled:M||C,onClick:()=>{s(j)},onMouseEnter:()=>{if(1===r&&I&&l&&(null==t?void 0:t.quantity)){let e=(0,n.bn)(t.quantity);"EVM"===t.currency.chain.arch&&g?l(t.currency.chain.arch,t.currency.chain.identifier,e,g,v,null!=b?b:null).catch(e=>{}):"SVM"===t.currency.chain.arch&&l(t.currency.chain.arch,t.currency.chain.identifier,e,null,v,null!=b?b:null).catch(e=>{})}},children:1===r?w("max"):(0,o.jsx)(u.NumberDisplay,{display:"percent",value:r})})})})}e.s(["CurrencyQuantityUsdPresetButton",()=>C],42129);var v=e.i(590268);function C(e){let t,r,i,s,a,l,c,p,h=(0,v.c)(23),{currency:y,usdAmount:f,quantity:x,onClick:g,disabled:C}=e;e:{let e;if(!(null==y?void 0:y.usdPrice)||(0,n.bn)(y.usdPrice).lte(0)){t="0";break e}h[0]!==y.decimals||h[1]!==y.usdPrice||h[2]!==f?(e=(0,n.bn)(f).div(y.usdPrice).decimalPlaces(y.decimals).toString(),h[0]=y.decimals,h[1]=y.usdPrice,h[2]=f,h[3]=e):e=h[3],t=e}let w=t;t:{let e;if(!(x&&(null==y?void 0:y.usdPrice))){r=!1;break t}h[4]!==y.usdPrice||h[5]!==x||h[6]!==f?(e=(0,n.bn)(x).times(y.usdPrice).minus(f).abs().lt(.01),h[4]=y.usdPrice,h[5]=x,h[6]=f,h[7]=e):e=h[7],r=e}let S=r;n:{if(!y){i="Select a token";break n}if(!y.usdPrice||(0,n.bn)(y.usdPrice).lte(0)){i="USD price unavailable";break n}i=void 0}let b=i,j=!!b,A=j||void 0!==C&&C,T=!j;return h[8]!==g||h[9]!==w?(s=()=>{g(w)},h[8]=g,h[9]=w,h[10]=s):s=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(a={maximumFractionDigits:0},h[11]=a):a=h[11],h[12]!==f?(l=(0,o.jsx)(u.NumberDisplay,{custom:a,display:"usd",value:f}),h[12]=f,h[13]=l):l=h[13],h[14]!==S||h[15]!==A||h[16]!==s||h[17]!==l?(c=(0,o.jsx)("span",{children:(0,o.jsx)(d.SwitchPill,{checked:S,disabled:A,onClick:s,variant:"transparent",children:l})}),h[14]=S,h[15]=A,h[16]=s,h[17]=l,h[18]=c):c=h[18],h[19]!==b||h[20]!==T||h[21]!==c?(p=(0,o.jsx)(m.Tooltip,{content:b,disabled:T,children:c}),h[19]=b,h[20]=T,h[21]=c,h[22]=p):p=h[22],p}},463138,e=>{"use strict";e.s(["CurrencyQuantityInput",()=>V],463138);var t=e.i(705378),n=e.i(590268),r=e.i(208936),i=e.i(956309),s=e.i(147850),a=e.i(149431),l=e.i(437153),o=e.i(39771),c=e.i(965523),u=e.i(284296),d=e.i(738480),m=e.i(310578),p=e.i(258343),h=e.i(950293),y=e.i(28155),f=e.i(967593),x=e.i(457628),g=e.i(398821),v=e.i(399497),C=e.i(703405),w=e.i(465172),S=e.i(433704),b=e.i(969498),j=e.i(565673),A=e.i(471966),T=e.i(167532),I=e.i(98790),N=e.i(521593),_=e.i(918081),F=e.i(698722),E=e.i(450917),k=e.i(187935),M=e.i(42129),D=e.i(538203),R=e.i(123379),B=e.i(60084);function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=e;return null==n||("number"==typeof n&&(n=(0,w.bn)(n)),n.absoluteValue().lt(1))?n:n.decimalPlaces(t,C.BigNumber.ROUND_DOWN)}let L=(0,A.tv)({slots:{container:"group/input rounded-xl",content:"h-full justify-between p-4",typography:"!font-mono !font-medium"},variants:{size:{sm:{container:"h-auto",content:"gap-1",typography:"!text-heading-sm"},md:{container:"h-40",content:"gap-6",typography:"!text-heading-md"},lg:{container:"h-40",content:"gap-6",typography:"!text-heading-lg"}}},defaultVariants:{size:"md"}}),q=[.25,.5,.75,1],O=[100,200,500,1e3],z=/^\d*\.?\d*$/,Q=/\.?0+$/;function V(e){var n,r;let{currency:i,quantity:A,enableUsdInput:F=!1,onQuantityChange:V,onCurrencyChange:U,isDisabled:G,direction:H,container:Z,isLoading:$,isLoadingCurrency:Y,error:K,hasError:X,hasWarning:J,surface:ee="inline",placeholder:et="0",overrides:en,variant:er="default",usdValue:ei,isSwapContext:es=!1,disableCurrencySelection:ea=!1,enableBuyAmountInput:el=!1,limitToChain:eo,limitToTokenGroupSlug:ec,labelOverride:eu,hideUsdPresets:ed=!1,showPresetsOnHover:em=!1,size:ep="md"}=e,eh=L({size:ep}),ey=(0,T.useTranslations)("wallet.CurrencyQuantityInput"),[ef,ex]=(0,b.useState)(!1),eg="from"===H,[ev,eC]=(0,b.useState)(""),{getBalanceOfCurrency:ew}=(0,N.useBalances)(),eS=(0,s.useChains)(),eb=(0,j.useFormContext)(),ej=(0,j.useWatch)({control:eb.control,name:"isUsdInputMode"}),eA=(null==i?void 0:i.contractAddress)==="0x0000000000000000000000000000000000000000"||(null==i?void 0:i.contractAddress)==="11111111111111111111111111111111",[eT,eI]=(0,b.useState)(!1),eN=es?ej:eT,e_=es?e=>{if("function"==typeof e){var t;let n=null!=(t=eb.getValues("isUsdInputMode"))&&t;eb.setValue("isUsdInputMode",e(n))}else eb.setValue("isUsdInputMode",e)}:eI,[eF,eE]=(0,b.useState)(!1),ek=i?ew(i):void 0,eM=(null==i?void 0:i.chainIdentifier)?eS.getChain(i.chainIdentifier):void 0,eD=(0,I.usePublicClient)({chainId:null==eM?void 0:eM.networkId}),eR={open:ef,onOpenChange:ex,chain:void 0,limitToChain:eo,limitToTokenGroupSlug:ec,direction:H,onSelectCurrency:e=>{U(e),ex(!1)},removeSwapDisabledCurrencies:!0},{quantityValue:eB,usdTotalValue:eP}=function(e){let{currency:t,usdValue:n,quantity:r,direction:i,isLoading:s}=e,[a,l]=(0,b.useState)(void 0),[o,c]=(0,b.useState)(0),u=(0,B.useCanLoadQuote)(),d="from"===i,m=(0,b.useMemo)(()=>r&&(null==t?void 0:t.usdPrice)?(0,w.bn)(r).times(t.usdPrice).toNumber():0,[r,null==t?void 0:t.usdPrice]),p=n||m,h=s||!r&&u?a:r,y=s||!p&&u?o:p,f=(0,b.useMemo)(()=>{if(h)return d?h:P((0,w.bn)(h).toNumber())},[h,d]),x=(0,b.useMemo)(()=>d?y:P(y),[y,d]);return(0,b.useEffect)(()=>{r&&l(r),p&&c(p)},[r,p]),(0,b.useEffect)(()=>{u||(l(void 0),c(0))},[u]),{quantityValue:f,usdTotalValue:x}}({currency:i,usdValue:ei,quantity:A,direction:H,isLoading:$}),eL=e=>i&&(e.decimalPlaces()||0)>i.decimals?e.decimalPlaces(i.decimals,C.BigNumber.ROUND_DOWN):e,eq=e=>{if(!e){null==V||V(void 0),eC("");return}let t=eL(e);null==V||V(t.toString()),eN&&(null==i?void 0:i.usdPrice)?eC(t.times(i.usdPrice).toFixed(2).replace(Q,"")):eC(t.toString())};return(0,b.useEffect)(()=>{if((eg||el)&&i&&!eF){if(void 0===A||""===A)return void eC("");eN&&i.usdPrice?eC((0,w.bn)(A).times(i.usdPrice).toFixed(2).replace(Q,"")):eC(A)}},[eg,el,A,i,null==i?void 0:i.usdPrice,eN,eF]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.FlexColumn,{className:(0,l.classNames)(eh.container(),$&&"animate-pulse",G&&"opacity-40"),children:(0,t.jsxs)(c.FlexColumn,{className:eh.content(),children:[(0,t.jsxs)(p.SpaceBetween,{children:[el&&!eu?null:(0,t.jsx)(h.TextBody,{color:"text-secondary",size:"sm",children:null!=eu?eu:ey(eg?"sell":"buy")}),"sm"!==ep&&eg&&(0,t.jsx)(o.FlexCenter,{className:(0,l.classNames)("gap-2",em&&"transition-opacity duration-200 md:pointer-events-none md:opacity-0 md:group-hover/input:pointer-events-auto md:group-hover/input:opacity-100"),children:q.map(e=>(0,t.jsx)(k.CurrencyQuantityPresetButton,{balance:ek,balanceMultiplier:e,disabled:G,gasLimit:4e5,getFeeBufferAmount:_.getFeeBufferAmount,onClick:e=>{let t=(0,w.bn)(e);if(t.isNaN()||t.lte(0)){null==V||V(void 0);return}i?eq(t):null==V||V(e)},publicClient:eD,quantity:A},e))}),"sm"!==ep&&el&&!ed&&(0,t.jsx)(o.FlexCenter,{className:(0,l.classNames)("gap-2",em&&"transition-opacity duration-200 md:pointer-events-none md:opacity-0 md:group-hover/input:pointer-events-auto md:group-hover/input:opacity-100"),children:O.map(e=>(0,t.jsx)(M.CurrencyQuantityUsdPresetButton,{currency:i,disabled:G,onClick:e=>{if(void 0===e||""===e){null==V||V(void 0);return}i?eq((0,w.bn)(e)):null==V||V(e)},quantity:A,usdAmount:e},e))})]}),(0,t.jsxs)(p.SpaceBetween,{className:"h-9 items-center gap-[13px]",children:[eg||el?(0,t.jsx)(u.Input,{className:(0,l.classNames)("leading-7"),disabled:G,onBlur:()=>eE(!1),onChange:e=>{let t=e.target.value;if(eC(t),V){if(!t)return void eq(void 0);if(z.test(t))try{let e=(0,w.bn)(t);if(e.lt(0))return;if(eN&&(null==i?void 0:i.usdPrice)){let t=!(null==i?void 0:i.usdPrice)||(0,w.bn)(i.usdPrice).lte(0)?null:e.div(i.usdPrice);if(t){let e=eL(t);null==V||V(e.toString())}}else{let t=i?eL(e):e;null==V||V(t.toString())}}catch(e){console.error("Invalid number input:",e)}}},onFocus:()=>eE(!0),onWheel:e=>e.preventDefault(),overrides:{Input:{className:(0,l.classNames)(eh.typography(),X&&"text-error-1")},Container:{className:"h-7"}},placeholder:et,size:"md",startEnhancer:(0,t.jsx)(h.TextBody,{className:(0,l.classNames)(eh.typography(),X&&"text-error-1"),children:eN?"$":void 0}),step:1e-18,type:"number",value:ev,variant:"ghost",...null==en?void 0:en.Input}):(0,t.jsx)(y.TextOverflowTooltip,{className:"pr-3",children:(0,t.jsx)(h.TextBody,{className:(0,l.classNames)(eh.typography(),"transition-opacity duration-1000",(!A||"0"===A)&&"opacity-75",X&&"text-error-1",J&&!X&&"text-warning"),children:eN?(0,t.jsx)(a.AnimatedNumber,{display:"usd",value:eP}):(0,t.jsx)(a.AnimatedNumber,{display:"full",value:eB})})}),(0,t.jsx)(S.motion.div,{layout:"position",children:(0,t.jsx)(f.Tooltip,{content:ey("nativeCurrencyOnlyTooltip"),disabled:!(ea&&eA),children:(0,t.jsx)("span",{children:(0,t.jsx)(E.Button,{className:"w-max px-2.5",disabled:Y||ea,onClick:()=>ex(!0),variant:"frosted"===er?"frosted":"secondary",children:(0,t.jsxs)(o.FlexCenter,{className:"gap-1",children:[Y?(0,t.jsx)(m.Skeleton,{className:"w-[70px]"}):i?(0,t.jsx)(W,{currency:i}):(0,t.jsx)(h.TextBody,{size:"sm",weight:"semibold",children:ey("selectToken")}),!ea&&(0,t.jsx)(g.ExpandMore,{size:20})]})})})})})]}),(0,t.jsxs)(p.SpaceBetween,{className:"h-6 items-center",children:[(0,t.jsx)(o.FlexCenter,{children:K?(0,t.jsx)(h.TextBody,{color:"error-1",size:"sm",children:K}):(0,t.jsxs)(o.FlexCenter,{className:"gap-1",children:[(0,t.jsx)(h.TextBody,{className:(0,l.classNames)("font-mono","transition-opacity duration-1000"),color:"text-secondary",size:"sm",children:eN?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.AnimatedNumber,{display:"standard",value:eB}),"",null==i?void 0:i.symbol]}):(0,t.jsx)(a.AnimatedNumber,{display:"usd",value:eP})}),(eg||el)&&i&&F&&(0,t.jsx)(x.UnstyledButton,{onClick:()=>e_(e=>!e),children:(0,t.jsx)(v.SwapVert,{fill:"text-secondary",size:20})})]})}),(0,t.jsx)(S.motion.div,{layout:"position",children:(0,t.jsx)(h.TextBody,{className:(0,l.classNames)("font-mono",X&&"text-error-1"),color:"text-secondary",size:"sm",children:Y?(0,t.jsx)(m.Skeleton,{className:"w-[70px]"}):eN&&(null==i?void 0:i.usdPrice)?(0,t.jsx)(a.AnimatedNumber,{display:"usd",value:(0,w.bn)(null!=(n=null==ek?void 0:ek.quantity)?n:0).times(i.usdPrice).toNumber()}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.NumberDisplay,{value:null!=(r=null==ek?void 0:ek.quantity)?r:0}),"",null==i?void 0:i.symbol]})})})]})]})}),"sheet"===ee?(0,t.jsx)(R.CurrencySelectSheet,{container:Z,...eR}):(0,t.jsx)(D.CurrencySelectModal,{...eR})]})}function W(e){let s,a,l,c,u,d=(0,n.c)(13),{currency:m}=e;return d[0]!==m.chain?(s=(0,t.jsx)(r.ChainBadge,{chain:m.chain,size:"xs"}),d[0]=m.chain,d[1]=s):s=d[1],d[2]!==m?(a=(0,i.getCurrencyKey)(m),d[2]=m,d[3]=a):a=d[3],d[4]!==m.imageUrl||d[5]!==s||d[6]!==a?(l=(0,t.jsx)(F.Avatar,{"aria-hidden":"true",badge:s,border:!0,className:"bg-white",rounded:!0,seed:a,size:24,src:m.imageUrl}),d[4]=m.imageUrl,d[5]=s,d[6]=a,d[7]=l):l=d[7],d[8]!==m.symbol?(c=(0,t.jsx)(h.TextBody,{size:"sm",weight:"semibold",children:m.symbol}),d[8]=m.symbol,d[9]=c):c=d[9],d[10]!==l||d[11]!==c?(u=(0,t.jsxs)(o.FlexCenter,{className:"gap-2",children:[l,c]}),d[10]=l,d[11]=c,d[12]=u):u=d[12],u}},43526,731198,e=>{"use strict";e.s(["BuyModePanel",()=>p],43526);var t=e.i(705378),n=e.i(590268),r=e.i(437153),i=e.i(39771),s=e.i(965523),a=e.i(276015),l=e.i(565673),o=e.i(167532),c=e.i(450917),u=e.i(534838),d=e.i(606216),m=e.i(463138);function p(e){let p,h,y,f,x,g,v,C,w,S,b,j,A,T=(0,n.c)(46),{control:I,displayToQuantity:N,enableUsdInput:_,onChangeFromCurrency:F,onChangeToCurrency:E,onToggleMode:k,surface:M,limitToTokenGroupSlug:D}=e,{container:R,isLoadingQuote:B,isLoadingInitialFromCurrency:P,isLoadingInitialToCurrency:L,quote:q,actionsStatus:O}=(0,d.useSwapContext)(),z=O.isLoading,Q=(0,o.useTranslations)("CurrencyTransactionPanel");T[0]!==I?(p={control:I},T[0]=I,T[1]=p):p=T[1];let{errors:V}=(0,l.useFormState)(p),W=(0,u.useNeedsCompatibleWallet)();T[2]===Symbol.for("react.memo_cache_sentinel")?(h=["fromCurrency","fromQuantity"],T[2]=h):h=T[2],T[3]!==I?(y={control:I,name:h},T[3]=I,T[4]=y):y=T[4];let[U,G]=(0,l.useWatch)(y),H=(null==U?void 0:U.restrictSwapsToSameChain)&&(null==U?void 0:U.chainIdentifier)?U.chainIdentifier:void 0,Z=null==q?void 0:q.swapRoutes[0];e:{if((null==Z?void 0:Z.__typename)==="SwapRoute"){f=Number(Z.pricePerFromAsset.usd);break e}f=void 0}let $=f;t:{if((null==Z?void 0:Z.__typename)==="SwapRoute"){x=Number(Z.pricePerToAsset.usd);break t}x=void 0}let Y=x;return T[5]!==R||T[6]!==I||T[7]!==_||T[8]!==V.fromQuantity||T[9]!==G||T[10]!==$||T[11]!==P||T[12]!==B||T[13]!==z||T[14]!==W||T[15]!==F||T[16]!==M||T[17]!==Q?(g=e=>{let{field:n}=e;return(0,t.jsx)(l.Controller,{control:I,name:"fromCurrency",render:e=>{var r;let{field:i}=e;return(0,t.jsx)(m.CurrencyQuantityInput,{container:R,currency:i.value,direction:"from",disableCurrencySelection:W||z,enableUsdInput:_,hasError:!!(!z&&V.fromQuantity&&"Insufficient balance"===V.fromQuantity.message),hasWarning:(null==(r=V.fromQuantity)?void 0:r.type)==="warning",isDisabled:W||z,isLoading:B,isLoadingCurrency:P,isSwapContext:!0,labelOverride:Q("payWith"),onCurrencyChange:async e=>{!1!==await (null==F?void 0:F(e,i.value))&&i.onChange(e)},onQuantityChange:e=>{n.onChange(e)},quantity:G,showPresetsOnHover:!0,size:"lg",surface:M,usdValue:$})}})},T[5]=R,T[6]=I,T[7]=_,T[8]=V.fromQuantity,T[9]=G,T[10]=$,T[11]=P,T[12]=B,T[13]=z,T[14]=W,T[15]=F,T[16]=M,T[17]=Q,T[18]=g):g=T[18],T[19]!==I||T[20]!==g?(v=(0,t.jsx)(s.FlexColumn,{className:"relative z-[9] rounded-xl border border-border-1 bg-bg-primary backdrop-blur-xl",children:(0,t.jsx)(l.Controller,{control:I,name:"fromQuantity",render:g})}),T[19]=I,T[20]=g,T[21]=v):v=T[21],T[22]===Symbol.for("react.memo_cache_sentinel")?(C=(0,r.classNames)("flex items-center justify-center","size-8 rounded-lg p-1.5","-translate-y-1/2 -translate-x-1/2 absolute top-1/2 left-1/2"),T[22]=C):C=T[22],T[23]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(a.ArrowDownward,{size:20}),T[23]=w):w=T[23],T[24]!==k?(S=(0,t.jsx)(i.FlexCenter,{className:"relative z-[10] h-0 py-1.5",children:(0,t.jsx)(c.Button,{className:C,onClick:k,variant:"secondary",children:w})}),T[24]=k,T[25]=S):S=T[25],T[26]!==R||T[27]!==N||T[28]!==_||T[29]!==V.toQuantity||T[30]!==L||T[31]!==B||T[32]!==H||T[33]!==D||T[34]!==E||T[35]!==M||T[36]!==Q||T[37]!==Y?(b=e=>{var n;let{field:r}=e;return(0,t.jsx)(m.CurrencyQuantityInput,{container:R,currency:r.value,direction:"to",disableCurrencySelection:!D,enableUsdInput:_,hasError:!!(V.toQuantity&&"warning"!==V.toQuantity.type),hasWarning:(null==(n=V.toQuantity)?void 0:n.type)==="warning",hideUsdPresets:!0,isLoading:B,isLoadingCurrency:L,isSwapContext:!0,labelOverride:Q("receive"),limitToChain:H,limitToTokenGroupSlug:D,onCurrencyChange:async e=>{!1!==await (null==E?void 0:E(e,r.value))&&r.onChange(e)},quantity:N,size:"sm",surface:M,usdValue:Y})},T[26]=R,T[27]=N,T[28]=_,T[29]=V.toQuantity,T[30]=L,T[31]=B,T[32]=H,T[33]=D,T[34]=E,T[35]=M,T[36]=Q,T[37]=Y,T[38]=b):b=T[38],T[39]!==I||T[40]!==b?(j=(0,t.jsx)(s.FlexColumn,{className:"relative z-[9] rounded-xl border border-border-1 bg-bg-primary backdrop-blur-xl",children:(0,t.jsx)(l.Controller,{control:I,name:"toCurrency",render:b})}),T[39]=I,T[40]=b,T[41]=j):j=T[41],T[42]!==S||T[43]!==j||T[44]!==v?(A=(0,t.jsxs)(s.FlexColumn,{children:[v,S,j]}),T[42]=S,T[43]=j,T[44]=v,T[45]=A):A=T[45],A}e.s(["CurrencyTransactionPanelContext",()=>y,"useCurrencyTransactionPanelContext",()=>f],731198);var h=e.i(969498);let y=(0,h.createContext)({transactionMode:"sell",onToggleMode:()=>{}}),f=()=>(0,h.useContext)(y)},131262,763029,e=>{"use strict";e.s(["SwapConfiguration",()=>B],131262);var t=e.i(705378),n=e.i(590268),r=e.i(147850),i=e.i(279853),s=e.i(567089),a=e.i(437153),l=e.i(254842),o=e.i(39771),c=e.i(165102),u=e.i(863622),d=e.i(310578),m=e.i(950293),p=e.i(661772),h=e.i(480103),y=e.i(969498),f=e.i(565673),x=e.i(450917),g=e.i(606216),v=e.i(209633),C=e.i(560448),w=e.i(967593),S=e.i(167532);function b(e){let r,i,s=(0,n.c)(7),{supported:a,required:l}=e,c=(0,S.useTranslations)("wallet.CustomDestinationWalletToggle"),{control:u}=(0,f.useFormContext)();return s[0]!==l||s[1]!==a||s[2]!==c?(r=e=>{let{field:n}=e;return(0,t.jsx)(w.Tooltip,{content:l?c("requiredTooltip"):c("unsupportedTooltip"),disabled:a&&!l,children:(0,t.jsxs)(o.FlexCenter,{className:"ml-1 h-8 justify-between",children:[(0,t.jsx)(v.Label,{className:"whitespace-nowrap",htmlFor:"customDestinationWalletEnabled",size:"sm",weight:"regular",children:c("label")}),(0,t.jsx)(C.Switch,{checked:n.value,disabled:!a||l,id:"customDestinationWalletEnabled",onCheckedChange:n.onChange,size:"sm"})]})})},s[0]=l,s[1]=a,s[2]=c,s[3]=r):r=s[3],s[4]!==u||s[5]!==r?(i=(0,t.jsx)(f.Controller,{control:u,defaultValue:!1,name:"customDestinationWalletEnabled",render:r}),s[4]=u,s[5]=r,s[6]=i):i=s[6],i}var j=e.i(965523),A=e.i(284296),T=e.i(268288),I=e.i(230834),N=e.i(794576),_=e.i(726001);e.s(["USD_INPUT_MODE_PREFERENCE_LOCAL_STORAGE_KEY",()=>F,"getAutoSlippageStorageKey",()=>M,"getDefaultSlippage",()=>E,"getMaxSlippageStorageKey",()=>k],763029);let F="opensea-wallet-swap-usd-input-preference",E=e=>1,k=e=>"opensea-wallet-swap-max-slippage-v2-".concat("SVM"===e?"solana":"evm"),M=e=>"".concat("opensea-wallet-swap-auto-slippage","-").concat("SVM"===e?"solana":"evm");var D=e.i(616702);function R(){let e,r,i,s,a,l,c=(0,n.c)(18),u=(0,S.useTranslations)("wallet.MaxSlippageInput"),{control:d}=(0,f.useFormContext)();c[0]!==d?(e={control:d},c[0]=d,c[1]=e):e=c[1];let{errors:p}=(0,f.useFormState)(e),{isAutoSlippageEnabled:h,toggleAutoSlippage:y}=(0,g.useSwapContext)();c[2]!==d?(r={control:d,name:"maxSlippage"},c[2]=d,c[3]=r):r=c[3];let x=(0,f.useWatch)(r),v=(0,_.useChainArch)();c[4]!==v?(i=E(v),c[4]=v,c[5]=i):i=c[5];let C=i;c[6]!==v?(s=k(v),c[6]=v,c[7]=s):s=c[7];let[,w]=(0,I.useLocalStorage)(s,C);return c[8]!==p.maxSlippage||c[9]!==h||c[10]!==x||c[11]!==w||c[12]!==u||c[13]!==y?(a=e=>{var n;let{field:r}=e;return(0,t.jsxs)(j.FlexColumn,{className:"ml-1 gap-1",children:[(0,t.jsxs)(o.FlexCenter,{className:"items-center justify-between gap-4",children:[(0,t.jsx)(D.MaxSlippageTooltip,{children:(0,t.jsx)("span",{children:(0,t.jsxs)(o.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)(m.TextBody,{className:"whitespace-nowrap",children:u("label")}),(0,t.jsx)(N.Info,{fill:"text-secondary",size:16})]})})}),(0,t.jsx)(A.Input,{className:"gap-2.5",endEnhancer:"%",max:100,onChange:e=>{h&&y();let t=e.target.value?Number.parseFloat(e.target.value):void 0;r.onChange(t),void 0!==t&&w(t)},size:"sm",startEnhancer:(0,t.jsx)(T.SwitchPill,{checked:h,onClick:y,variant:"primary",children:u("auto")}),step:.01,type:"number",value:x})]}),(null==(n=p.maxSlippage)?void 0:n.message)&&(0,t.jsx)(m.TextBody,{className:"w-full break-words",color:"error-1",size:"xs",children:p.maxSlippage.message})]})},c[8]=p.maxSlippage,c[9]=h,c[10]=x,c[11]=w,c[12]=u,c[13]=y,c[14]=a):a=c[14],c[15]!==d||c[16]!==a?(l=(0,t.jsx)(f.Controller,{control:d,name:"maxSlippage",render:a}),c[15]=d,c[16]=a,c[17]=l):l=c[17],l}function B(e){let v,C,w,S,j,A,T,I,N,_,F,E,k,M,D,B,P,L,q,O,z=(0,n.c)(55),{className:Q}=e,{control:V}=(0,f.useFormContext)();z[0]!==V?(v={control:V},z[0]=V,z[1]=v):v=z[1];let{errors:W}=(0,f.useFormState)(v),{isAutoSlippageEnabled:U,isLoadingInitialToCurrency:G}=(0,g.useSwapContext)();z[2]!==V?(C={control:V,name:"maxSlippage"},z[2]=V,z[3]=C):C=z[3];let H=(0,f.useWatch)(C),[Z,$]=(0,y.useState)(!1),[Y,K]=(0,y.useState)(!1),X=function(){let e,t,r,i,s,a=(0,n.c)(8);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=new Set(["RELAY","LIFI","MAYAN"]),a[0]=e):e=a[0];let l=e,{quote:o}=(0,g.useSwapContext)();a[1]!==o?(t=o?(0,h.head)(o.swapRoutes):void 0,a[1]=o,a[2]=t):t=a[2];let c=t,{setValue:u,getValues:d}=(0,f.useFormContext)();e:{if(!c||"SwapRoute"!==c.__typename){r=!0;break e}r=l.has(c.swapProvider)}let m=r;return a[3]!==d||a[4]!==u||a[5]!==m?(i=()=>{let{customDestinationWalletEnabled:e}=d();u("customDestinationWalletEnabled",m&&e)},s=[m,u,d],a[3]=d,a[4]=u,a[5]=m,a[6]=i,a[7]=s):(i=a[6],s=a[7]),(0,y.useEffect)(i,s),m}(),J=function(){let e,t,i,s,a,l=(0,n.c)(8),{control:o,setValue:c}=(0,f.useFormContext)();l[0]!==o?(e={control:o,name:"fromCurrency"},l[0]=o,l[1]=e):e=l[1];let u=(0,f.useWatch)(e);l[2]!==o?(t={control:o,name:"toCurrency"},l[2]=o,l[3]=t):t=l[3];let d=(0,f.useWatch)(t),{getChain:m}=(0,r.useChains)(),{isLoadingInitialFromCurrency:p,isLoadingInitialToCurrency:h}=(0,g.useSwapContext)();null==d||d.chainIdentifier;e:{if(p||h){i=!1;break e}let e=m(u.chainIdentifier),t=(null==d?void 0:d.chainIdentifier)?m(d.chainIdentifier):void 0;i=!!e&&!!t&&e.arch!==t.arch}let x=i;return l[4]!==x||l[5]!==c?(s=()=>{x&&c("customDestinationWalletEnabled",!0)},a=[x,c],l[4]=x,l[5]=c,l[6]=s,l[7]=a):(s=l[6],a=l[7]),(0,y.useEffect)(s,a),x}(),ee=Z?"border border-border-1":"border border-transparent",et=W.maxSlippage&&"border-error-1";z[4]!==ee||z[5]!==et?(w=(0,a.classNames)("h-8 p-1",ee,et),z[4]=ee,z[5]=et,z[6]=w):w=z[6];let en=Z?"secondary":"ghost";z[7]!==U?(S=U?(0,t.jsx)(s.Chip,{children:"Auto"}):null,z[7]=U,z[8]=S):S=z[8],z[9]!==H?(j=(0,t.jsxs)(m.TextBody,{className:"font-mono",size:"xs",children:[H,"%"]}),z[9]=H,z[10]=j):j=z[10],z[11]!==S||z[12]!==j?(A=(0,t.jsxs)(o.FlexCenter,{className:"m-1.5 gap-2",children:[S,j]}),z[11]=S,z[12]=j,z[13]=A):A=z[13],z[14]!==w||z[15]!==en||z[16]!==A?(T=(0,t.jsx)(x.Button,{className:w,variant:en,children:A}),z[14]=w,z[15]=en,z[16]=A,z[17]=T):T=z[17];let er=T,ei=Y?"border border-border-1":"border border-transparent";z[18]!==ei?(I=(0,a.classNames)("h-8 w-8 p-1",ei),z[18]=ei,z[19]=I):I=z[19];let es=Y?"secondary":"ghost";z[20]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(o.FlexCenter,{children:(0,t.jsx)(p.Settings,{size:18})}),z[20]=N):N=z[20],z[21]!==I||z[22]!==es?(_=(0,t.jsx)(x.Button,{"aria-label":"Swap settings",className:I,variant:es,children:N}),z[21]=I,z[22]=es,z[23]=_):_=z[23];let ea=_;if(G){let e;return z[24]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(d.SkeletonLine,{className:"h-4.5 w-20"}),z[24]=e):e=z[24],e}return z[25]!==Q?(F=(0,a.classNames)("gap-1",Q),z[25]=Q,z[26]=F):F=z[26],z[27]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)(R,{}),z[27]=E):E=z[27],z[28]!==Z||z[29]!==er?(k=(0,t.jsx)(c.Media,{greaterThanOrEqual:"md",children:(0,t.jsx)(u.Popover,{align:"end",className:"w-[275px] rounded-lg p-2",content:E,onOpenChange:$,open:Z,portal:!0,children:er})}),z[28]=Z,z[29]=er,z[30]=k):k=z[30],z[31]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)(i.BottomSheetBody,{className:"px-4 py-6",children:(0,t.jsx)(R,{})}),z[31]=M):M=z[31],z[32]!==Z||z[33]!==er?(D=(0,t.jsx)(c.Media,{lessThan:"md",children:(0,t.jsx)(i.BottomSheet,{content:M,modal:!0,nested:!0,onOpenChange:$,open:Z,withCloseIcon:!1,children:er})}),z[32]=Z,z[33]=er,z[34]=D):D=z[34],z[35]!==J||z[36]!==X?(B=(0,t.jsx)(b,{required:J,supported:X}),z[35]=J,z[36]=X,z[37]=B):B=z[37],z[38]!==Y||z[39]!==ea||z[40]!==B?(P=(0,t.jsx)(c.Media,{greaterThanOrEqual:"md",children:(0,t.jsx)(u.Popover,{align:"end",className:"w-[275px] rounded-lg p-2",content:B,onOpenChange:K,open:Y,portal:!0,children:ea})}),z[38]=Y,z[39]=ea,z[40]=B,z[41]=P):P=z[41],z[42]!==J||z[43]!==X?(L=(0,t.jsx)(i.BottomSheetBody,{className:"px-4 py-6",children:(0,t.jsx)(b,{required:J,supported:X})}),z[42]=J,z[43]=X,z[44]=L):L=z[44],z[45]!==Y||z[46]!==ea||z[47]!==L?(q=(0,t.jsx)(c.Media,{lessThan:"md",children:(0,t.jsx)(i.BottomSheet,{content:L,modal:!0,nested:!0,onOpenChange:K,open:Y,withCloseIcon:!1,children:ea})}),z[45]=Y,z[46]=ea,z[47]=L,z[48]=q):q=z[48],z[49]!==F||z[50]!==k||z[51]!==D||z[52]!==P||z[53]!==q?(O=(0,t.jsxs)(l.Flex,{className:F,children:[k,D,P,q]}),z[49]=F,z[50]=k,z[51]=D,z[52]=P,z[53]=q,z[54]=O):O=z[54],O}},361708,76932,e=>{"use strict";e.s(["CurrencyTransactionPanel",()=>Z],361708);var t=e.i(705378),n=e.i(590268),r=e.i(147850);e.i(257620);var i=e.i(535374),s=e.i(965523),a=e.i(2795),l=e.i(950293),o=e.i(683269),c=e.i(465172),u=e.i(140501),d=e.i(969498),m=e.i(565673),p=e.i(167532),h=e.i(440071),y=e.i(69131),f=e.i(700213),x=e.i(175138),g=e.i(910424),v=e.i(431335),C=e.i(93645),w=e.i(306224),S=e.i(534838),b=e.i(818767),j=e.i(488485),A=e.i(606216),T=e.i(60084),I=e.i(248452),N=e.i(529652),_=e.i(206849),F=e.i(901562),E=e.i(521593),k=e.i(609900),M=e.i(538203),D=e.i(123379),R=e.i(600832),B=e.i(43526),P=e.i(731198),L=e.i(39771),q=e.i(258343),O=e.i(268288),z=e.i(131262);function Q(e){let r,i,s,a,l,o,c,u=(0,n.c)(21),{currentType:d,disabled:m,setCurrentType:h,onPerpetualClick:y,surface:f}=e,x=(0,p.useTranslations)("CurrencyTransactionPanelHeader");u[0]!==f||u[1]!==x?(r="deposit-modal"===f?{buy:x("deposit"),sell:x("withdraw")}:{buy:x("buy"),sell:x("sell")},u[0]=f,u[1]=x,u[2]=r):r=u[2];let g=r;u[3]!==g?(i=Object.keys(g),u[3]=g,u[4]=i):i=u[4];let v=i;return u[5]!==g||u[6]!==d||u[7]!==m||u[8]!==h||u[9]!==v?(s=v.map(e=>(0,t.jsx)(O.SwitchPill,{checked:e===d,disabled:m,onClick:()=>h(e),size:"lg",value:e,variant:"transparent",children:g[e]},e)),u[5]=g,u[6]=d,u[7]=m,u[8]=h,u[9]=v,u[10]=s):s=u[10],u[11]!==m||u[12]!==y||u[13]!==x?(a=y&&(0,t.jsx)(O.SwitchPill,{checked:!1,disabled:m,onClick:y,size:"lg",value:"perpetuals",variant:"transparent",children:x("perpetuals")}),u[11]=m,u[12]=y,u[13]=x,u[14]=a):a=u[14],u[15]!==s||u[16]!==a?(l=(0,t.jsxs)(L.FlexCenter,{className:"gap-2",children:[s,a]}),u[15]=s,u[16]=a,u[17]=l):l=u[17],u[18]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(z.SwapConfiguration,{}),u[18]=o):o=u[18],u[19]!==l?(c=(0,t.jsxs)(q.SpaceBetween,{children:[l,o]}),u[19]=l,u[20]=c):c=u[20],c}var V=e.i(437153),W=e.i(276015),U=e.i(450917),G=e.i(463138);function H(e){let r,i,a,l,o,c,u,d,h,y,f,x,g,v=(0,n.c)(47),{control:C,displayToQuantity:w,enableUsdInput:b,onChangeFromCurrency:j,onChangeToCurrency:T,onToggleMode:I,surface:N,limitToTokenGroupSlug:_}=e,{container:F,isLoadingQuote:E,isLoadingInitialFromCurrency:k,isLoadingInitialToCurrency:M,quote:D,actionsStatus:R}=(0,A.useSwapContext)(),B=R.isLoading,P=(0,p.useTranslations)("CurrencyTransactionPanel");v[0]!==C?(r={control:C},v[0]=C,v[1]=r):r=v[1];let{errors:q}=(0,m.useFormState)(r),O=(0,S.useNeedsCompatibleWallet)();v[2]===Symbol.for("react.memo_cache_sentinel")?(i=["fromQuantity","toCurrency"],v[2]=i):i=v[2],v[3]!==C?(a={control:C,name:i},v[3]=C,v[4]=a):a=v[4];let[z,Q]=(0,m.useWatch)(a),H=(null==Q?void 0:Q.restrictSwapsToSameChain)&&(null==Q?void 0:Q.chainIdentifier)?Q.chainIdentifier:void 0,Z=null==D?void 0:D.swapRoutes[0];e:{if((null==Z?void 0:Z.__typename)==="SwapRoute"){l=Number(Z.pricePerFromAsset.usd);break e}l=void 0}let $=l;t:{if((null==Z?void 0:Z.__typename)==="SwapRoute"){o=Number(Z.pricePerToAsset.usd);break t}o=void 0}let Y=o;return v[5]!==F||v[6]!==C||v[7]!==b||v[8]!==q.fromQuantity||v[9]!==z||v[10]!==$||v[11]!==k||v[12]!==E||v[13]!==B||v[14]!==H||v[15]!==_||v[16]!==O||v[17]!==j||v[18]!==N?(c=e=>{let{field:n}=e;return(0,t.jsx)(m.Controller,{control:C,name:"fromCurrency",render:e=>{var r;let{field:i}=e;return(0,t.jsx)(G.CurrencyQuantityInput,{container:F,currency:i.value,direction:"from",disableCurrencySelection:!_,enableUsdInput:b,hasError:!!(!B&&q.fromQuantity&&"Insufficient balance"===q.fromQuantity.message),hasWarning:(null==(r=q.fromQuantity)?void 0:r.type)==="warning",isDisabled:O||B,isLoading:E,isLoadingCurrency:k,isSwapContext:!0,limitToChain:H,limitToTokenGroupSlug:_,onCurrencyChange:async e=>{!1!==await (null==j?void 0:j(e,i.value))&&i.onChange(e)},onQuantityChange:e=>{n.onChange(e)},quantity:z,showPresetsOnHover:!0,size:"lg",surface:N,usdValue:$})}})},v[5]=F,v[6]=C,v[7]=b,v[8]=q.fromQuantity,v[9]=z,v[10]=$,v[11]=k,v[12]=E,v[13]=B,v[14]=H,v[15]=_,v[16]=O,v[17]=j,v[18]=N,v[19]=c):c=v[19],v[20]!==C||v[21]!==c?(u=(0,t.jsx)(s.FlexColumn,{className:"rounded-xl border border-border-1 bg-bg-primary backdrop-blur-xl",children:(0,t.jsx)(m.Controller,{control:C,name:"fromQuantity",render:c})}),v[20]=C,v[21]=c,v[22]=u):u=v[22],v[23]===Symbol.for("react.memo_cache_sentinel")?(d=(0,V.classNames)("flex items-center justify-center","size-8 rounded-lg p-1.5","-translate-y-1/2 -translate-x-1/2 absolute top-1/2 left-1/2"),v[23]=d):d=v[23],v[24]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(W.ArrowDownward,{size:20}),v[24]=h):h=v[24],v[25]!==I?(y=(0,t.jsx)(L.FlexCenter,{className:"relative z-[10] h-0 py-1.5",children:(0,t.jsx)(U.Button,{className:d,onClick:I,variant:"secondary",children:h})}),v[25]=I,v[26]=y):y=v[26],v[27]!==F||v[28]!==w||v[29]!==b||v[30]!==q.toQuantity||v[31]!==M||v[32]!==E||v[33]!==B||v[34]!==O||v[35]!==T||v[36]!==N||v[37]!==P||v[38]!==Y?(f=e=>{var n;let{field:r}=e;return(0,t.jsx)(G.CurrencyQuantityInput,{container:F,currency:r.value,direction:"to",disableCurrencySelection:O||B,enableUsdInput:b,hasError:!!(q.toQuantity&&"warning"!==q.toQuantity.type),hasWarning:(null==(n=q.toQuantity)?void 0:n.type)==="warning",hideUsdPresets:!0,isLoading:E,isLoadingCurrency:M,isSwapContext:!0,labelOverride:P("receive"),onCurrencyChange:async e=>{!1!==await (null==T?void 0:T(e,r.value))&&r.onChange(e)},quantity:w,size:"sm",surface:N,usdValue:Y})},v[27]=F,v[28]=w,v[29]=b,v[30]=q.toQuantity,v[31]=M,v[32]=E,v[33]=B,v[34]=O,v[35]=T,v[36]=N,v[37]=P,v[38]=Y,v[39]=f):f=v[39],v[40]!==C||v[41]!==f?(x=(0,t.jsx)(s.FlexColumn,{className:"rounded-xl border border-border-1 bg-bg-primary backdrop-blur-xl",children:(0,t.jsx)(m.Controller,{control:C,name:"toCurrency",render:f})}),v[40]=C,v[41]=f,v[42]=x):x=v[42],v[43]!==y||v[44]!==x||v[45]!==u?(g=(0,t.jsxs)(s.FlexColumn,{children:[u,y,x]}),v[43]=y,v[44]=x,v[45]=u,v[46]=g):g=v[46],g}function Z(e){var L,q;let O,z,V,W,U,G,Z,$,Y,K,X,J,ee,et,en,er,ei,es,ea,el,eo,ec,eu,ed,em,ep,eh,ey,ef=(0,n.c)(111),{enableUsdInput:ex,onChangeFromCurrency:eg,onChangeToCurrency:ev,buttonColor:eC,surface:ew,onCompleted:eS,onChangeMode:eb,onPerpetualClick:ej,showHeader:eA,disableToggleMode:eT}=e,eI=void 0!==ex&&ex,eN=void 0===ew?"inline":ew,e_=void 0===eA||eA,eF=void 0!==eT&&eT,{transactionMode:eE,onToggleMode:ek}=(0,P.useCurrencyTransactionPanelContext)(),{container:eM,quote:eD,hasQuoteError:eR,shouldShowConfirmationModal:eB,reset:eP,actionsStatus:eL}=(0,A.useSwapContext)(),eq=eL.isLoading,eO=(0,C.useTrackSwapEvent)(eD),[ez,eQ]=(0,d.useState)(!1),[eV,eW]=(0,d.useState)(!1),[eU,eG]=(0,d.useState)(),eH=(0,p.useTranslations)("CurrencyTransactionPanel"),{control:eZ,setValue:e$,setError:eY,clearErrors:eK}=(0,m.useFormContext)(),{chainArch:eX}=(0,I.useAccount)(),{getChain:eJ}=(0,r.useChains)(),e0=(0,F.useConnections)(),{connect:e1}=(0,_.useConnect)(),{requireCompatibleWallet:e2}=(0,b.useRequireCompatibleWallet)(),e3=(0,S.useNeedsCompatibleWallet)(),e5=(0,k.useFlag)("isSwapV2Enabled"),{hasGas:e4,gasSymbol:e6}=(0,j.useSwapGasCheck)(),e7=(0,N.useAddress)(),{addToast:e8,removeToast:e9,showSuccessMessage:te,showErrorMessage:tt}=(0,o.useToasts)(),{refreshBalances:tn}=(0,E.useBalances)(),tr=(0,i.useNumberFormatter)();ef[0]===Symbol.for("react.memo_cache_sentinel")?(O=["fromCurrency","toCurrency","toQuantity","customDestinationWalletEnabled"],ef[0]=O):O=ef[0],ef[1]!==eZ?(z={control:eZ,name:O},ef[1]=eZ,ef[2]=z):z=ef[2];let[ti,ts,ta,tl]=(0,m.useWatch)(z);e:{if(!e5||"sell"!==eE){V=void 0;break e}V=null==ti||null==(L=ti.tokenGroup)?void 0:L.slug}let to=V;t:{if(!e5||"buy"!==eE){W=void 0;break t}W=null==ts||null==(q=ts.tokenGroup)?void 0:q.slug}let tc=W,tu=(null==ti?void 0:ti.restrictSwapsToSameChain)&&(null==ti?void 0:ti.chainIdentifier)?ti.chainIdentifier:void 0,td=(null==ts?void 0:ts.restrictSwapsToSameChain)&&(null==ts?void 0:ts.chainIdentifier)?ts.chainIdentifier:void 0,tm="sheet"===eN,[tp,th]=(0,d.useState)(!0),ty=(0,T.useCanLoadQuote)(),[tf,tx]=(0,d.useState)(void 0);ef[3]!==ta?(G=()=>{let e=ta?(0,c.bn)(ta):void 0;e&&!e.isNaN()&&e.gt(0)&&tx(ta)},U=[ta],ef[3]=ta,ef[4]=U,ef[5]=G):(U=ef[4],G=ef[5]),(0,d.useEffect)(G,U),ef[6]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{tx(void 0)},ef[6]=Z):Z=ef[6],ef[7]!==eE?($=[eE],ef[7]=eE,ef[8]=$):$=ef[8],(0,d.useEffect)(Z,$),ef[9]!==tr||ef[10]!==eS||ef[11]!==eU||ef[12]!==tn||ef[13]!==e9||ef[14]!==eP||ef[15]!==tt||ef[16]!==te||ef[17]!==eH||ef[18]!==eO?(Y=e=>{e9(eU),eG(void 0),setTimeout(tn,1e3),"SUCCESS"===e.status?(eO("Swap Succeeded",{transaction:{hash:e.transactionIdentifier.hash,chain:e.transactionIdentifier.chain}}),te(eH("successMessage",{quantity:tr(e.toQuantity),symbol:e.toAsset.symbol}),{duration:3e3}),tx(void 0),eP()):"FAILED"===e.status&&tt(eH("failureMessage",{status:e.crossChainRefunded?eH("refunded"):eH("failed")}),{duration:3e3}),null==eS||eS(e)},ef[9]=tr,ef[10]=eS,ef[11]=eU,ef[12]=tn,ef[13]=e9,ef[14]=eP,ef[15]=tt,ef[16]=te,ef[17]=eH,ef[18]=eO,ef[19]=Y):Y=ef[19];let tg=Y;ef[20]!==e8||ef[21]!==(null==eD?void 0:eD.swapRoutes[0])||ef[22]!==eH?(K=()=>{let e=null==eD?void 0:eD.swapRoutes[0];eG(e8({title:(0,t.jsx)(l.TextBody,{weight:"semibold",children:eH("swapping")}),duration:1/0,icon:(0,t.jsx)(a.Spinner,{size:"xs"}),description:e?(0,t.jsx)(R.SwapToastContent,{route:e}):void 0}))},ef[20]=e8,ef[21]=null==eD?void 0:eD.swapRoutes[0],ef[22]=eH,ef[23]=K):K=ef[23];let tv=K;ef[24]!==eX||ef[25]!==e1||ef[26]!==e0||ef[27]!==eJ?(X=e=>{var t;let n=null==(t=eJ(e.chainIdentifier))?void 0:t.arch;if(n&&n!==eX){let e=e0.find(e=>e.chainArch===n);e&&e1(e.connector)}},ef[24]=eX,ef[25]=e1,ef[26]=e0,ef[27]=eJ,ef[28]=X):X=ef[28];let tC=X;ef[29]!==eg||ef[30]!==e2?(J=async(e,t)=>(null==eg||eg(e,t),await e2(e)),ef[29]=eg,ef[30]=e2,ef[31]=J):J=ef[31];let tw=J;ef[32]!==ev||ef[33]!==e2?(ee=async(e,t)=>(null==ev||ev(e,t),await e2(e)),ef[32]=ev,ef[33]=e2,ef[34]=ee):ee=ef[34];let tS=ee,tb=(0,w.useCanPayGasWithPaymentToken)();ef[35]!==e7||ef[36]!==tb||ef[37]!==eK||ef[38]!==e6||ef[39]!==e4||ef[40]!==eY||ef[41]!==eH?(et=()=>{e4||!e7||tb?eK("root.gasError"):eY("root.gasError",{message:eH("insufficientGas",{symbol:null!=e6?e6:""}),type:"critical"})},en=[e4,e7,e6,eY,eK,eH,tb],ef[35]=e7,ef[36]=tb,ef[37]=eK,ef[38]=e6,ef[39]=e4,ef[40]=eY,ef[41]=eH,ef[42]=et,ef[43]=en):(et=ef[42],en=ef[43]),(0,d.useEffect)(et,en),ef[44]!==eF||ef[45]!==eb||ef[46]!==ek||ef[47]!==eE?(er=e=>{eE===e||eF||(ek(e),null==eb||eb(e))},ef[44]=eF,ef[45]=eb,ef[46]=ek,ef[47]=eE,ef[48]=er):er=ef[48];let tj=er;return ef[49]!==tj||ef[50]!==eq||ef[51]!==ej||ef[52]!==e_||ef[53]!==eN||ef[54]!==eE?(ei=e_&&(0,t.jsx)(Q,{currentType:eE,disabled:eq,onPerpetualClick:ej,setCurrentType:tj,surface:eN}),ef[49]=tj,ef[50]=eq,ef[51]=ej,ef[52]=e_,ef[53]=eN,ef[54]=eE,ef[55]=ei):ei=ef[55],ef[56]!==eZ||ef[57]!==eI||ef[58]!==tw||ef[59]!==tS||ef[60]!==tj||ef[61]!==to||ef[62]!==tc||ef[63]!==tf||ef[64]!==eN||ef[65]!==ta||ef[66]!==eE?(es="sell"===eE?(0,t.jsx)(H,{control:eZ,displayToQuantity:null!=tf?tf:ta,enableUsdInput:eI,limitToTokenGroupSlug:to,onChangeFromCurrency:tw,onChangeToCurrency:tS,onToggleMode:()=>tj("buy"),surface:eN}):(0,t.jsx)(B.BuyModePanel,{control:eZ,displayToQuantity:null!=tf?tf:ta,enableUsdInput:eI,limitToTokenGroupSlug:tc,onChangeFromCurrency:tw,onChangeToCurrency:tS,onToggleMode:()=>tj("sell"),surface:eN}),ef[56]=eZ,ef[57]=eI,ef[58]=tw,ef[59]=tS,ef[60]=tj,ef[61]=to,ef[62]=tc,ef[63]=tf,ef[64]=eN,ef[65]=ta,ef[66]=eE,ef[67]=es):es=ef[67],ef[68]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,t.jsx)(v.TransactionErrors,{}),ef[68]=ea):ea=ef[68],ef[69]!==tl||ef[70]!==e3?(el=tl&&!e3&&(0,t.jsx)(s.FlexColumn,{className:"rounded-xl border border-frosted-2 bg-frosted-1 p-4 backdrop-blur-xl",children:(0,t.jsx)(x.SwapDestination,{className:"p-0"})}),ef[69]=tl,ef[70]=e3,ef[71]=el):el=ef[71],ef[72]===Symbol.for("react.memo_cache_sentinel")?(eo=(0,t.jsx)(h.PaymentTokenSelector,{className:"py-3"}),ef[72]=eo):eo=ef[72],ef[73]!==eC||ef[74]!==tg||ef[75]!==tv||ef[76]!==eN||ef[77]!==eE?(ec=(0,t.jsx)(y.SwapActions,{buttonColor:eC,className:"p-0",isSwapV2Module:!0,onCompleted:tg,onTransactionStart:tv,surface:eN,transactionMode:eE}),ef[73]=eC,ef[74]=tg,ef[75]=tv,ef[76]=eN,ef[77]=eE,ef[78]=ec):ec=ef[78],ef[79]!==ty||ef[80]!==tp||ef[81]!==eR?(eu=ty&&!eR&&(0,t.jsx)(s.FlexColumn,{className:"rounded-xl border border-frosted-2 bg-frosted-1 p-4 backdrop-blur-xl",children:(0,t.jsx)(g.SwapDetails,{className:"p-0",collapsed:tp,contentClassName:"px-0",setCollapsed:th})}),ef[79]=ty,ef[80]=tp,ef[81]=eR,ef[82]=eu):eu=ef[82],ef[83]!==ei||ef[84]!==es||ef[85]!==el||ef[86]!==ec||ef[87]!==eu?(ed=(0,t.jsx)(s.FlexColumn,{className:"relative gap-3","data-testid":"swap-module",children:(0,t.jsxs)(u.LayoutGroup,{children:[ei,es,ea,el,eo,ec,eu]})}),ef[83]=ei,ef[84]=es,ef[85]=el,ef[86]=ec,ef[87]=eu,ef[88]=ed):ed=ef[88],ef[89]!==tC||ef[90]!==eM||ef[91]!==ez||ef[92]!==tm||ef[93]!==td||ef[94]!==to||ef[95]!==e$?(em=tm?(0,t.jsx)(D.CurrencySelectSheet,{chain:void 0,container:eM,direction:"from",limitToChain:td,limitToTokenGroupSlug:to,onOpenChange:eQ,onSelectCurrency:e=>{e$("fromCurrency",e),eQ(!1),tC(e)},open:ez,removeSwapDisabledCurrencies:!0}):(0,t.jsx)(M.CurrencySelectModal,{chain:void 0,direction:"from",limitToChain:td,limitToTokenGroupSlug:to,onOpenChange:eQ,onSelectCurrency:e=>{e$("fromCurrency",e),eQ(!1),tC(e)},open:ez,removeSwapDisabledCurrencies:!0}),ef[89]=tC,ef[90]=eM,ef[91]=ez,ef[92]=tm,ef[93]=td,ef[94]=to,ef[95]=e$,ef[96]=em):em=ef[96],ef[97]!==eM||ef[98]!==eV||ef[99]!==tm||ef[100]!==tu||ef[101]!==tc||ef[102]!==e$?(ep=tm?(0,t.jsx)(D.CurrencySelectSheet,{chain:void 0,container:eM,direction:"to",limitToChain:tu,limitToTokenGroupSlug:tc,onOpenChange:eW,onSelectCurrency:e=>{e$("toCurrency",e),eW(!1)},open:eV,removeSwapDisabledCurrencies:!0}):(0,t.jsx)(M.CurrencySelectModal,{chain:void 0,direction:"to",limitToChain:tu,limitToTokenGroupSlug:tc,onOpenChange:eW,onSelectCurrency:e=>{e$("toCurrency",e),eW(!1)},open:eV,removeSwapDisabledCurrencies:!0}),ef[97]=eM,ef[98]=eV,ef[99]=tm,ef[100]=tu,ef[101]=tc,ef[102]=e$,ef[103]=ep):ep=ef[103],ef[104]!==eB?(eh=(0,t.jsx)(f.SwapConfirmationModal,{open:eB}),ef[104]=eB,ef[105]=eh):eh=ef[105],ef[106]!==ed||ef[107]!==em||ef[108]!==ep||ef[109]!==eh?(ey=(0,t.jsxs)(t.Fragment,{children:[ed,em,ep,eh]}),ef[106]=ed,ef[107]=em,ef[108]=ep,ef[109]=eh,ef[110]=ey):ey=ef[110],ey}function $(e){var r;let i,s,a,l=(0,n.c)(10),{children:o}=e,c=(0,m.useFormContext)(),{reset:u,actionsStatus:d}=(0,A.useSwapContext)(),p=d.isLoading,h=null!=(r=(0,m.useWatch)({control:c.control,name:"transactionMode"}))?r:"sell";l[0]!==p||l[1]!==c||l[2]!==u?(i=e=>{if(p)return;let{fromCurrency:t,toCurrency:n}=c.getValues();n&&(c.setValue("fromCurrency",n),c.setValue("toCurrency",t)),c.setValue("transactionMode",e),u()},l[0]=p,l[1]=c,l[2]=u,l[3]=i):i=l[3];let y=i;return l[4]!==y||l[5]!==h?(s={transactionMode:h,onToggleMode:y},l[4]=y,l[5]=h,l[6]=s):s=l[6],l[7]!==o||l[8]!==s?(a=(0,t.jsx)(P.CurrencyTransactionPanelContext.Provider,{value:s,children:o}),l[7]=o,l[8]=s,l[9]=a):a=l[9],a}e.s(["CurrencyTransactionPanelProvider",()=>$],76932)},21994,e=>{"use strict";e.s(["SwapForm",()=>a]);var t=e.i(705378),n=e.i(590268),r=e.i(42580),i=e.i(565673),s=e.i(606216);let a=e=>{let a,l,o=(0,n.c)(6),{children:c}=e,{onSubmit:u}=(0,s.useSwapContext)(),{handleSubmit:d}=(0,i.useFormContext)();return o[0]!==d||o[1]!==u?(a=d(u),o[0]=d,o[1]=u,o[2]=a):a=o[2],o[3]!==c||o[4]!==a?(l=(0,t.jsx)(r.Form,{onSubmit:a,children:c}),o[3]=c,o[4]=a,o[5]=l):l=o[5],l}},822675,523994,e=>{"use strict";e.s(["SwapHeader",()=>o],822675);var t=e.i(705378),n=e.i(590268),r=e.i(39771),i=e.i(339694),s=e.i(967593),a=e.i(167532),l=e.i(131262);let o=()=>{let e,o,c,u,d,m,p,h,y,f=(0,n.c)(19),x=(0,a.useTranslations)("wallet.SwapHeader");return f[0]!==x?(e=x("swapTab"),f[0]=x,f[1]=e):e=f[1],f[2]!==e?(o=(0,t.jsx)(i.ToggleButtonGroupItem,{value:"swap",children:e}),f[2]=e,f[3]=o):o=f[3],f[4]!==x?(c=x("comingSoon"),f[4]=x,f[5]=c):c=f[5],f[6]!==x?(u=x("buyTab"),f[6]=x,f[7]=u):u=f[7],f[8]!==u?(d=(0,t.jsx)("span",{children:(0,t.jsx)(i.ToggleButtonGroupItem,{disabled:!0,value:"buy",children:u})}),f[8]=u,f[9]=d):d=f[9],f[10]!==c||f[11]!==d?(m=(0,t.jsx)(s.Tooltip,{content:c,children:d}),f[10]=c,f[11]=d,f[12]=m):m=f[12],f[13]!==o||f[14]!==m?(p=(0,t.jsxs)(i.ToggleButtonGroup,{size:"md",value:"swap",variant:"secondary",children:[o,m]}),f[13]=o,f[14]=m,f[15]=p):p=f[15],f[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(l.SwapConfiguration,{}),f[16]=h):h=f[16],f[17]!==p?(y=(0,t.jsxs)(r.FlexCenter,{className:"w-full justify-between p-4",children:[p,h]}),f[17]=p,f[18]=y):y=f[18],y};e.s(["SwapImpact",()=>y],523994);var c=e.i(437153),u=e.i(738480),d=e.i(258343),m=e.i(950293),p=e.i(794576),h=e.i(465172);function y(e){let i,l,o,y,f,x,g,v,C,w,S,b,j,A=(0,n.c)(28),{className:T,percent:I,usd:N}=e,_=(0,a.useTranslations)("wallet.SwapImpact");return A[0]!==T?(i=(0,c.classNames)("w-full items-center gap-1 p-4",T),A[0]=T,A[1]=i):i=A[1],A[2]!==_?(l=_("swapImpact"),A[2]=_,A[3]=l):l=A[3],A[4]!==l?(o=(0,t.jsx)(m.TextBody,{children:l}),A[4]=l,A[5]=o):o=A[5],A[6]!==_?(y=_("swapImpactTooltip"),A[6]=_,A[7]=y):y=A[7],A[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(m.TextBody,{color:"text-secondary",children:(0,t.jsx)(p.Info,{size:16})}),A[8]=f):f=A[8],A[9]!==y?(x=(0,t.jsx)(s.Tooltip,{content:y,children:f}),A[9]=y,A[10]=x):x=A[10],A[11]!==o||A[12]!==x?(g=(0,t.jsxs)(r.FlexCenter,{className:"gap-1.5",children:[o,x]}),A[11]=o,A[12]=x,A[13]=g):g=A[13],A[14]!==N?(v=(0,t.jsxs)(m.TextBody,{className:"font-mono",color:"text-secondary",children:["(",(0,t.jsx)(u.NumberDisplay,{display:"usd",value:N}),")"]}),A[14]=N,A[15]=v):v=A[15],A[16]===Symbol.for("react.memo_cache_sentinel")?(C={maximumFractionDigits:2},A[16]=C):C=A[16],A[17]!==I?(w=(0,h.bn)(I).div(100),A[17]=I,A[18]=w):w=A[18],A[19]!==w?(S=(0,t.jsx)(m.TextBody,{asChild:!0,color:"error-1",children:(0,t.jsx)(u.NumberDisplay,{custom:C,display:"percent",value:w})}),A[19]=w,A[20]=S):S=A[20],A[21]!==S||A[22]!==v?(b=(0,t.jsxs)(r.FlexCenter,{className:"gap-1.5",children:[v,S]}),A[21]=S,A[22]=v,A[23]=b):b=A[23],A[24]!==i||A[25]!==b||A[26]!==g?(j=(0,t.jsxs)(d.SpaceBetween,{className:i,children:[g,b]}),A[24]=i,A[25]=b,A[26]=g,A[27]=j):j=A[27],j}},714991,e=>{"use strict";e.s(["SwapModule",()=>K],714991);var t=e.i(705378),n=e.i(590268),r=e.i(437153),i=e.i(965523),s=e.i(999258),a=e.i(2795),l=e.i(950293),o=e.i(683269),c=e.i(465172),u=e.i(969498),d=e.i(565673),m=e.i(167532),p=e.i(600832),h=e.i(521593),y=e.i(137010),f=e.i(534838),x=e.i(633810),g=e.i(606216),v=e.i(60084),C=e.i(214099),w=e.i(440071),S=e.i(69131),b=e.i(700213),j=e.i(175138),A=e.i(910424),T=e.i(21994),I=e.i(822675),N=e.i(523994),_=e.i(147850),F=e.i(39771),E=e.i(276015),k=e.i(140501),M=e.i(450917),D=e.i(463138),R=e.i(248452),B=e.i(529652),P=e.i(206849),L=e.i(901562),q=e.i(306224),O=e.i(818767),z=e.i(488485);let Q=e=>{var a,l,o,u;let p,h,y,x,v,C,w,S,b,j,A,T,I,N,Q,V,W,U,G,H=(0,n.c)(78),{surface:Z,onChangeFromCurrency:$,onChangeToQuantity:Y,onChangeToCurrency:K,autoFocusFromCurrency:X,enableUsdInput:J}=e,ee=void 0===X||X,et=void 0!==J&&J,{isLoadingQuote:en,container:er,actions:ei,isLoadingInitialToCurrency:es,isLoadingInitialFromCurrency:ea,quote:el,isCurrencySelectionDisabled:eo,actionsStatus:ec}=(0,g.useSwapContext)(),eu=(0,m.useTranslations)("wallet.SwapPanel"),{hasGas:ed,gasSymbol:em}=(0,z.useSwapGasCheck)(),{getChain:ep}=(0,_.useChains)(),{chainArch:eh}=(0,R.useAccount)(),ey=(0,L.useConnections)(),{connect:ef}=(0,P.useConnect)(),{requireCompatibleWallet:ex}=(0,O.useRequireCompatibleWallet)(),{control:eg,setValue:ev}=(0,d.useFormContext)();H[0]!==eg?(p={control:eg},H[0]=eg,H[1]=p):p=H[1];let{errors:eC}=(0,d.useFormState)(p),ew=(0,f.useNeedsCompatibleWallet)();H[2]===Symbol.for("react.memo_cache_sentinel")?(h=["fromCurrency","fromQuantity","toCurrency","toQuantity"],H[2]=h):h=H[2],H[3]!==eg?(y={control:eg,name:h},H[3]=eg,H[4]=y):y=H[4];let[eS,eb,ej,eA]=(0,d.useWatch)(y),eT=(null==ej?void 0:ej.restrictSwapsToSameChain)&&(null==ej?void 0:ej.chainIdentifier)?ej.chainIdentifier:void 0,eI=(null==eS?void 0:eS.restrictSwapsToSameChain)&&(null==eS?void 0:eS.chainIdentifier)?eS.chainIdentifier:void 0,eN=null==el?void 0:el.swapRoutes[0];e:{if((null==eN?void 0:eN.__typename)==="SwapRoute"){x=eN.pricePerFromAsset.usd;break e}x=void 0}let e_=x;t:{if((null==eN?void 0:eN.__typename)==="SwapRoute"){v=eN.pricePerToAsset.usd;break t}v=void 0}let eF=v,eE=(0,B.useAddress)(),ek=(0,q.useCanPayGasWithPaymentToken)();H[5]!==ec.isLoading||H[6]!==eE||H[7]!==ek||H[8]!==(null==(a=eC.fromQuantity)?void 0:a.message)||H[9]!==em||H[10]!==ed||H[11]!==eu?(C=()=>{var e;let t=ec.isLoading,n=null==(e=eC.fromQuantity)?void 0:e.message,r=ed||!eE||ek?void 0:eu("insufficientGas",{symbol:null!=em?em:""});if("Insufficient balance"!==n||!t)return r&&t||null!=n?n:r},H[5]=ec.isLoading,H[6]=eE,H[7]=ek,H[8]=null==(o=eC.fromQuantity)?void 0:o.message,H[9]=em,H[10]=ed,H[11]=eu,H[12]=C):C=H[12];let eM=C;H[13]!==eh||H[14]!==ef||H[15]!==ey||H[16]!==ep?(w=e=>{var t;let n=null==(t=ep(e.chainIdentifier))?void 0:t.arch;if(n&&n!==eh){let e=ey.find(e=>e.chainArch===n);e&&ef(e.connector)}},H[13]=eh,H[14]=ef,H[15]=ey,H[16]=ep,H[17]=w):w=H[17];let eD=w;H[18]!==ei||H[19]!==ec.isLoading||H[20]!==ec.isPending||H[21]!==ee||H[22]!==eD||H[23]!==er||H[24]!==eg||H[25]!==et||H[26]!==eb||H[27]!==e_||H[28]!==eM||H[29]!==eo||H[30]!==ea||H[31]!==eT||H[32]!==ew||H[33]!==$||H[34]!==ex||H[35]!==Z?(S=e=>{let{field:n}=e;return(0,t.jsx)(d.Controller,{control:eg,name:"fromCurrency",render:e=>{let{field:r}=e;return(0,t.jsx)(D.CurrencyQuantityInput,{container:er,currency:r.value,direction:"from",disableCurrencySelection:eo||ew,enableUsdInput:et,error:(()=>{let e=n.value?(0,c.bn)(n.value):void 0;return e&&!e.isNaN()&&e.gt(0)})()&&0===ei.length?eM():void 0,isDisabled:ec.isPending||ec.isLoading||ew,isLoadingCurrency:ea,isSwapContext:!0,limitToChain:eT,onCurrencyChange:async e=>{!1!==await (null==$?void 0:$(e,r.value))&&(eD(e),await ex(e)&&r.onChange(e))},onQuantityChange:e=>{n.onChange(e)},overrides:{Input:{autoFocus:ee}},quantity:eb,surface:Z,usdValue:e_})}})},H[18]=ei,H[19]=ec.isLoading,H[20]=ec.isPending,H[21]=ee,H[22]=eD,H[23]=er,H[24]=eg,H[25]=et,H[26]=eb,H[27]=e_,H[28]=eM,H[29]=eo,H[30]=ea,H[31]=eT,H[32]=ew,H[33]=$,H[34]=ex,H[35]=Z,H[36]=S):S=H[36],H[37]!==eg||H[38]!==S?(b=(0,t.jsx)(d.Controller,{control:eg,name:"fromQuantity",render:S}),H[37]=eg,H[38]=S,H[39]=b):b=H[39],H[40]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)(s.Separator,{className:"flex-1",variant:"solid"}),H[40]=j):j=H[40],H[41]===Symbol.for("react.memo_cache_sentinel")?(A=(0,r.classNames)("flex items-center justify-center","size-8 rounded-full p-1.5"),H[41]=A):A=H[41];let eR=!ej;return H[42]!==eS||H[43]!==$||H[44]!==K||H[45]!==ev||H[46]!==ej?(T=()=>{ej&&(ev("fromCurrency",ej),null==$||$(ej,eS),ev("toCurrency",eS),null==K||K(eS,ej),ev("fromQuantity",void 0,{shouldValidate:!0}),ev("toQuantity",void 0,{shouldValidate:!0}))},H[42]=eS,H[43]=$,H[44]=K,H[45]=ev,H[46]=ej,H[47]=T):T=H[47],H[48]===Symbol.for("react.memo_cache_sentinel")?(I=(0,t.jsx)(E.ArrowDownward,{size:20}),H[48]=I):I=H[48],H[49]!==eR||H[50]!==T?(N=(0,t.jsx)(M.Button,{className:A,disabled:eR,onClick:T,variant:"secondary",children:I}),H[49]=eR,H[50]=T,H[51]=N):N=H[51],H[52]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,t.jsx)(s.Separator,{className:"flex-1",variant:"solid"}),H[52]=Q):Q=H[52],H[53]!==N?(V=(0,t.jsxs)(F.FlexCenter,{children:[j,N,Q]}),H[53]=N,H[54]=V):V=H[54],H[55]!==ec.isLoading||H[56]!==ec.isPending||H[57]!==er||H[58]!==(null==(l=eC.toQuantity)?void 0:l.message)||H[59]!==eo||H[60]!==es||H[61]!==en||H[62]!==eI||H[63]!==ew||H[64]!==K||H[65]!==Y||H[66]!==ex||H[67]!==Z||H[68]!==eA||H[69]!==eF?(W=e=>{var n;let{field:r}=e;return(0,t.jsx)(D.CurrencyQuantityInput,{container:er,currency:r.value,direction:"to",disableCurrencySelection:eo||ew,error:null==(n=eC.toQuantity)?void 0:n.message,isDisabled:ec.isPending||ec.isLoading||ew,isLoading:en,isLoadingCurrency:es,isSwapContext:!0,limitToChain:eI,onCurrencyChange:async e=>{!1!==await (null==K?void 0:K(e,r.value))&&await ex(e)&&r.onChange(e)},onQuantityChange:e=>{null==Y||Y(e,eA)},quantity:eA,surface:Z,usdValue:eF})},H[55]=ec.isLoading,H[56]=ec.isPending,H[57]=er,H[58]=null==(u=eC.toQuantity)?void 0:u.message,H[59]=eo,H[60]=es,H[61]=en,H[62]=eI,H[63]=ew,H[64]=K,H[65]=Y,H[66]=ex,H[67]=Z,H[68]=eA,H[69]=eF,H[70]=W):W=H[70],H[71]!==eg||H[72]!==W?(U=(0,t.jsx)(d.Controller,{control:eg,name:"toCurrency",render:W}),H[71]=eg,H[72]=W,H[73]=U):U=H[73],H[74]!==b||H[75]!==V||H[76]!==U?(G=(0,t.jsx)(i.FlexColumn,{className:"relative",children:(0,t.jsxs)(k.LayoutGroup,{children:[b,V,U]})}),H[74]=b,H[75]=V,H[76]=U,H[77]=G):G=H[77],G};var V=e.i(589553),W=e.i(254842),U=e.i(558272);function G(e){let r,s,a,o=(0,n.c)(7),{title:c,description:u}=e;return o[0]!==c?(r=(0,t.jsx)(l.TextBody,{size:"xs",weight:"semibold",children:c}),o[0]=c,o[1]=r):r=o[1],o[2]!==u?(s=(0,t.jsx)(l.TextBody,{color:"text-secondary",size:"xs",children:u}),o[2]=u,o[3]=s):s=o[3],o[4]!==r||o[5]!==s?(a=(0,t.jsxs)(i.FlexColumn,{className:"gap-1 pt-3",children:[r,s]}),o[4]=r,o[5]=s,o[6]=a):a=o[6],a}function H(e){let r,i,s,a,o,c=(0,n.c)(15),{warnings:u,symbol:d}=e,p=(0,m.useTranslations)("wallet.SwapWarning");if(0===u.length)return null;if(c[0]!==p||c[1]!==u){let e;c[3]!==p?(e=e=>(0,t.jsx)(G,{description:p("".concat(e,".description")),title:p("".concat(e,".title"))},e),c[3]=p,c[4]=e):e=c[4],r=u.map(e),c[0]=p,c[1]=u,c[2]=r}else r=c[2];return c[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("div",{className:"rounded-sm border border-legendary bg-caution-transparent-1 p-0.5",children:(0,t.jsx)(U.ErrorIcon,{fill:"caution",size:16})}),c[5]=i):i=c[5],c[6]!==d||c[7]!==p||c[8]!==u.length?(s=p("title",{count:u.length,symbol:d}),c[6]=d,c[7]=p,c[8]=u.length,c[9]=s):s=c[9],c[10]!==s?(a=(0,t.jsxs)(W.Flex,{className:"items-center gap-2",children:[i,(0,t.jsx)(l.TextBody,{size:"sm",children:s})]}),c[10]=s,c[11]=a):a=c[11],c[12]!==r||c[13]!==a?(o=(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(V.Collapsible,{className:"w-full",content:r,children:a})}),c[12]=r,c[13]=a,c[14]=o):o=c[14],o}function Z(){let e,r,a,l,o,c,u=(0,n.c)(15),{control:m}=(0,d.useFormContext)();u[0]===Symbol.for("react.memo_cache_sentinel")?(e=["fromCurrency","toCurrency"],u[0]=e):e=u[0],u[1]!==m?(r={control:m,name:e},u[1]=m,u[2]=r):r=u[2];let[p,h]=(0,d.useWatch)(r),y=!!h&&p.contractAddress===h.contractAddress&&p.chainIdentifier===h.chainIdentifier,f=h&&h.warnings.length>0;if(!(p.warnings.length>0||f))return null;let x=p.symbol;return u[3]!==p.warnings?(a=p.warnings.map(Y),u[3]=p.warnings,u[4]=a):a=u[4],u[5]!==p.symbol||u[6]!==a?(l=(0,t.jsx)(H,{symbol:x,warnings:a}),u[5]=p.symbol,u[6]=a,u[7]=l):l=u[7],u[8]!==h||u[9]!==f||u[10]!==y?(o=!y&&f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-4",children:(0,t.jsx)(s.Separator,{})}),(0,t.jsx)(H,{symbol:h.symbol,warnings:h.warnings.map($)})]}),u[8]=h,u[9]=f,u[10]=y,u[11]=o):o=u[11],u[12]!==l||u[13]!==o?(c=(0,t.jsxs)(i.FlexColumn,{className:"mt-4 rounded-md border border-border-1 bg-bg-app",children:[l,o]}),u[12]=l,u[13]=o,u[14]=c):c=u[14],c}function $(e){return e.featureId}function Y(e){return e.featureId}function K(e){var _,F;let E,k,M,D,R,B,P,L,q,O,z,V,W,U,G,H,$,Y,K,X,J,ee,et,en,er,ei=(0,n.c)(61);ei[0]!==e?({onCompleted:k,surface:D,buttonColor:E,...M}=e,ei[0]=e,ei[1]=E,ei[2]=k,ei[3]=M,ei[4]=D):(E=ei[1],k=ei[2],M=ei[3],D=ei[4]);let es=void 0===D?"inline":D,{control:ea}=(0,d.useFormContext)(),{addToast:el,removeToast:eo}=(0,o.useToasts)();ei[5]===Symbol.for("react.memo_cache_sentinel")?(R=["customDestinationWalletEnabled","fromCurrency"],ei[5]=R):R=ei[5],ei[6]!==ea?(B={control:ea,name:R},ei[6]=ea,ei[7]=B):B=ei[7];let[ec,eu]=(0,d.useWatch)(B),ed=(0,m.useTranslations)("wallet.SwapModule"),{hasQuoteError:em,reset:ep,quote:eh,shouldShowConfirmationModal:ey}=(0,g.useSwapContext)(),{refreshBalances:ef}=(0,h.useBalances)(),[ex,eg]=(0,u.useState)();ei[8]!==k||ei[9]!==ex||ei[10]!==ef||ei[11]!==eo||ei[12]!==ep?(P=e=>{eo(ex),eg(void 0),k(e),ep(),setTimeout(ef,1e3)},ei[8]=k,ei[9]=ex,ei[10]=ef,ei[11]=eo,ei[12]=ep,ei[13]=P):P=ei[13];let ev=P;ei[14]!==el||ei[15]!==(null==eh?void 0:eh.swapRoutes[0])||ei[16]!==ed?(L=()=>{let e=null==eh?void 0:eh.swapRoutes[0];eg(el({title:(0,t.jsx)(l.TextBody,{weight:"semibold",children:ed("swapping")}),duration:1/0,icon:(0,t.jsx)(a.Spinner,{size:"xs"}),description:e?(0,t.jsx)(p.SwapToastContent,{route:e}):void 0}))},ei[14]=el,ei[15]=null==eh?void 0:eh.swapRoutes[0],ei[16]=ed,ei[17]=L):L=ei[17];let eC=L,ew=(0,v.useCanLoadQuote)(),eS=(0,f.useNeedsCompatibleWallet)();ei[18]!==eh?(O=(q=eh?(0,x.readSwapImpactFromQuote)(eh):void 0)&&(0,c.bn)(q.percent).lt(C.SWAP_IMPACT_WARNING_THRESHOLD),ei[18]=eh,ei[19]=q,ei[20]=O):(q=ei[19],O=ei[20]);let eb=O,[ej,eA]=(0,u.useState)(!0),{flags:eT}=(0,u.useContext)(y.FlagContext),eI=!!eT.usdSwapInputEnabled,eN=null!=(_=eT.usdSwapInputDisabledTokens)?_:[];e:{if(!eI){z=!1;break e}if(!eu){z=eI;break e}let e="".concat(eu.chainIdentifier,":").concat(eu.contractAddress);z=!eN.includes(e)}let e_=z;ei[21]===Symbol.for("react.memo_cache_sentinel")?(V=(0,r.classNames)("rounded-xl border border-border-1 bg-bg-primary shadow-xs"),ei[21]=V):V=ei[21],ei[22]!==es?(W="inline"===es&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.SwapHeader,{}),(0,t.jsx)(s.Separator,{variant:"solid"})]}),ei[22]=es,ei[23]=W):W=ei[23];let eF=null!=(F=M.enableUsdInput)?F:e_;return ei[24]!==es||ei[25]!==M||ei[26]!==eF?(U=(0,t.jsx)(Q,{surface:es,...M,enableUsdInput:eF}),ei[24]=es,ei[25]=M,ei[26]=eF,ei[27]=U):U=ei[27],ei[28]===Symbol.for("react.memo_cache_sentinel")?(G=(0,t.jsx)(s.Separator,{variant:"solid"}),ei[28]=G):G=ei[28],ei[29]!==ec||ei[30]!==eS?(H=ec&&!eS&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.SwapDestination,{}),(0,t.jsx)(s.Separator,{variant:"solid"})]}),ei[29]=ec,ei[30]=eS,ei[31]=H):H=ei[31],ei[32]!==ew||ei[33]!==ej||ei[34]!==em?($=ew&&!em&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.SwapDetails,{collapsed:ej,setCollapsed:eA}),(0,t.jsx)(s.Separator,{variant:"solid"})]}),ei[32]=ew,ei[33]=ej,ei[34]=em,ei[35]=$):$=ei[35],ei[36]!==ej||ei[37]!==eb||ei[38]!==q?(Y=eb&&ej&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.SwapImpact,{percent:q.percent,usd:q.usd}),(0,t.jsx)(s.Separator,{variant:"solid"})]}),ei[36]=ej,ei[37]=eb,ei[38]=q,ei[39]=Y):Y=ei[39],ei[40]===Symbol.for("react.memo_cache_sentinel")?(K=(0,t.jsx)(w.PaymentTokenSelector,{className:"py-3"}),ei[40]=K):K=ei[40],ei[41]!==E||ei[42]!==ev||ei[43]!==eC||ei[44]!==es?(X=(0,t.jsx)(S.SwapActions,{buttonColor:E,onCompleted:ev,onTransactionStart:eC,surface:es}),ei[41]=E,ei[42]=ev,ei[43]=eC,ei[44]=es,ei[45]=X):X=ei[45],ei[46]!==U||ei[47]!==H||ei[48]!==$||ei[49]!==Y||ei[50]!==X||ei[51]!==W?(J=(0,t.jsxs)(i.FlexColumn,{className:V,"data-testid":"swap-module",children:[W,U,G,H,$,Y,K,X]}),ei[46]=U,ei[47]=H,ei[48]=$,ei[49]=Y,ei[50]=X,ei[51]=W,ei[52]=J):J=ei[52],ei[53]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,t.jsx)(Z,{}),ei[53]=ee):ee=ei[53],ei[54]!==J?(et=(0,t.jsxs)(T.SwapForm,{children:[J,ee]}),ei[54]=J,ei[55]=et):et=ei[55],ei[56]!==ey?(en=(0,t.jsx)(b.SwapConfirmationModal,{open:ey}),ei[56]=ey,ei[57]=en):en=ei[57],ei[58]!==et||ei[59]!==en?(er=(0,t.jsxs)(t.Fragment,{children:[et,en]}),ei[58]=et,ei[59]=en,ei[60]=er):er=ei[60],er}},64391,e=>{"use strict";e.s(["useCurrencyByContract",()=>l]);var t=e.i(590268),n=e.i(57219),r=e.i(528198),i=e.i(333799),s=e.i(230690);let a=(0,r.graphql)("\n    query currencyByContract($contract: ContractIdentifierInput!) {\n      currencyV2(contract: $contract) {\n        ...ContextCurrencyV2\n      }\n    }\n  ",[n.ContextCurrencyV2Fragment]),l=e=>{var n;let r,l,o,c,u=(0,t.c)(12),{contract:d,pause:m}=e;u[0]!==d?(r={contract:d},u[0]=d,u[1]=r):r=u[1],u[2]!==m||u[3]!==r?(l={query:a,variables:r,pause:m,context:s.NETWORK_ONLY_OPERATION_CONTEXT},u[2]=m,u[3]=r,u[4]=l):l=u[4];let[p,h]=(0,i.useQuery)(l),{data:y,error:f,fetching:x}=p,g=null!=(n=null==y?void 0:y.currencyV2)?n:null;return u[5]!==h?(o=()=>h({requestPolicy:"network-only"}),u[5]=h,u[6]=o):o=u[6],u[7]!==f||u[8]!==x||u[9]!==g||u[10]!==o?(c={currency:g,error:f,fetching:x,refetch:o},u[7]=f,u[8]=x,u[9]=g,u[10]=o,u[11]=c):c=u[11],c}},888178,719529,e=>{"use strict";e.s(["SwapProvider",()=>ee],888178);var t=e.i(705378),n=e.i(590268),r=e.i(984466),i=e.i(956309),s=e.i(81810),a=e.i(147850),l=e.i(847720),o=e.i(528198),c=e.i(333799),u=e.i(230834),d=e.i(437464),m=e.i(465172),p=e.i(913433),h=e.i(969498),y=e.i(565673),f=e.i(167532),x=e.i(332238),g=e.i(534087),v=e.i(64391),C=e.i(210920),w=e.i(630068),S=e.i(191003),b=e.i(529652),j=e.i(726001);e.s(["useChainIdentifier",()=>T],719529);var A=e.i(894420);function T(){let e,t=(0,n.c)(4),r=(0,A.useChainId)(),i=(0,j.useChainArch)(),{getChainIdentifier:s}=(0,a.useChains)();return t[0]!==i||t[1]!==r||t[2]!==s?(e=r?s(r,i):void 0,t[0]=i,t[1]=r,t[2]=s,t[3]=e):e=t[3],e}var I=e.i(521593),N=e.i(363205),_=e.i(214099),F=e.i(910424),E=e.i(763029),k=e.i(259476),M=e.i(227440),D=e.i(606216),R=e.i(323783),B=e.i(767502),P=e.i(57219),L=e.i(84060),q=e.i(440788);let O=(0,o.graphql)("\n    query useSwapReceipt(\n      $transactionIdentifiers: [TransactionIdentifierSwapProvider!]\n      $swapQuote: SwapAssetQuoteInput!\n      $relayRequestId: String\n      $bundledExecution: SwapBundledExecutionInput\n    ) {\n      swapReceipt(\n        transactionIdentifiers: $transactionIdentifiers\n        swapQuote: $swapQuote\n        relayRequestId: $relayRequestId\n        bundledExecution: $bundledExecution\n      ) {\n        status\n        failReason\n        crossChainRefunded\n        assetReceipts {\n          fromAsset {\n            ... on Currency {\n              ...ContextCurrency\n            }\n          }\n          fromAssetV2: fromAsset {\n            ... on CurrencyV2 {\n              ...ContextCurrencyV2\n            }\n          }\n          fromQuantity\n          toAsset {\n            ... on Currency {\n              ...ContextCurrency\n            }\n          }\n          toAssetV2: toAsset {\n            ... on CurrencyV2 {\n              ...ContextCurrencyV2\n            }\n          }\n          toQuantity\n        }\n        failedAssetReceipts {\n          fromAsset {\n            ... on Currency {\n              ...ContextCurrency\n            }\n          }\n          fromAssetV2: fromAsset {\n            ... on CurrencyV2 {\n              ...ContextCurrencyV2\n            }\n          }\n          fromQuantity\n          toAsset {\n            ... on Currency {\n              ...ContextCurrency\n            }\n          }\n          toAssetV2: toAsset {\n            ... on CurrencyV2 {\n              ...ContextCurrencyV2\n            }\n          }\n          toQuantity\n        }\n      }\n    }\n  ",[B.ContextCurrencyFragment,P.ContextCurrencyV2Fragment]);var z=e.i(88343),Q=e.i(290583),V=e.i(264711),W=e.i(681280);let U=Q.z.object({contractAddress:Q.z.string(),usdPrice:Q.z.string(),restrictSwapsToNativeTokens:Q.z.boolean().nullable(),restrictSwapsToSameChain:Q.z.boolean().nullable(),symbol:Q.z.string(),name:Q.z.string(),imageUrl:Q.z.string().nullable(),decimals:Q.z.int(),isSwapDisabled:Q.z.boolean(),warnings:Q.z.array(Q.z.object({featureId:Q.z.enum(z.CurrencyWarningFeatureId)})),chainIdentifier:Q.z.string(),stats:Q.z.object({marketCapUsd:Q.z.number().nullable(),oneDay:Q.z.object({priceChange:Q.z.number().nullable()})}).nullable()}),G=Q.z.object({fromCurrencyBalance:Q.z.float64().optional(),fromCurrency:U,fromQuantity:Q.z.string().optional(),toCurrency:U,toQuantity:Q.z.string().optional(),transactionMode:Q.z.enum(["buy","sell"]).optional(),recipient:W.addressSchema,customDestinationWalletEnabled:Q.z.boolean(),isUsdInputMode:Q.z.boolean().default(!1),maxSlippage:Q.z.float64().superRefine((e,t)=>{var n;if(e>100)return void t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Slippage must be less than 100"});if(e<0)return void t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Slippage must be greater than 0"});let r=e.toString();r.includes(".")&&(null==(n=r.split(".")[1])?void 0:n.length)>2&&t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Slippage must have less than 2 decimals"})})}).superRefine((e,t)=>{let{fromQuantity:n}=e;if(void 0!==n&&""!==n){let e=(0,m.bn)(n);(e.isNaN()||e.lte(0))&&t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Quantity must be greater than 0",path:["fromQuantity"]})}}).superRefine((e,t)=>{let{fromCurrencyBalance:n,fromQuantity:r}=e;"number"==typeof n&&void 0!==r&&""!==r&&(0,m.bn)(r).gt(n)&&t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Insufficient balance",path:["fromQuantity"]})}).superRefine((e,t)=>{let{fromCurrency:n,fromQuantity:r}=e;if(void 0!==r&&""!==r){let e=(0,m.bn)(r);if(!e.isNaN()){let r=e.decimalPlaces();null!==r&&r>n.decimals&&t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Invalid decimal places",path:["fromQuantity"]})}}}).superRefine((e,t)=>{let{recipient:n,customDestinationWalletEnabled:r}=e;r&&!(n.resolvedAddress&&(0,V.isAddress)(n.resolvedAddress))&&t.addIssue({code:Q.z.ZodIssueCode.custom,message:"Please enter a valid recipient address",path:["recipient.resolvedAddress"]})});var H=e.i(633810),Z=e.i(904976);let $=new Set(["SwapRouteNotFound","SwapRouteAssetNotFound","SwapRouteInsufficientFundsError","SwapRouteInsufficientLiquidityError","SwapRouteSwapImpactTooHigh","SwapRouteUnsupportedChainError","SwapRouteInvalidAddressError","SwapRouteUnsupportedCurrencyError","SwapRouteTemporarilyRestrictedError","SwapRouteSwapOutputTooSmallToCoverFees"]),Y=e=>"Currency"===e.__typename||"CurrencyV2"===e.__typename,K=(0,o.graphql)("\n    query useSwapQuote(\n      $fromAssets: [AssetQuantityInput!]!\n      $toAssets: [AssetQuantityInput!]!\n      $address: Address!\n      $slippageTolerance: Float\n      $recipient: Address\n      $requestId: UUID\n    ) {\n      tokenSwap(\n        fromAssets: $fromAssets\n        toAssets: $toAssets\n        address: $address\n        slippageTolerance: $slippageTolerance\n        recipient: $recipient\n        requestId: $requestId\n      ) {\n        quote {\n          slippageTolerance\n          swapRoutes {\n            __typename\n            ... on SwapRoute {\n              swapProvider\n              toQuantity\n              fromQuantity\n              toAsset {\n                __typename\n                ... on Currency {\n                  contractAddress\n                  chainIdentifier\n                  symbol\n                  decimals\n                  warnings {\n                    featureId\n                  }\n                  ...CurrencyLockup\n                }\n                ... on CurrencyV2 {\n                  contractAddress\n                  chainIdentifier\n                  symbol\n                  decimals\n                  warnings {\n                    featureId\n                  }\n                  ...CurrencyV2Lockup\n                }\n              }\n              fromAsset {\n                __typename\n                ... on Currency {\n                  contractAddress\n                  chainIdentifier\n                  symbol\n                  decimals\n                  warnings {\n                    featureId\n                  }\n                  ...CurrencyLockup\n                }\n                ... on CurrencyV2 {\n                  contractAddress\n                  chainIdentifier\n                  symbol\n                  decimals\n                  warnings {\n                    featureId\n                  }\n                  ...CurrencyV2Lockup\n                }\n              }\n              pricePerFromAsset {\n                usd\n              }\n              pricePerToAsset {\n                usd\n              }\n              ...readSwapImpact\n            }\n          }\n          ...SwapDetails\n          ...useTrackSwapEvent\n          ...useSwapGasCheckFragment\n        }\n        swapActions {\n          bundledExecution {\n            token\n            paymentTokens {\n              contractAddress\n              chainIdentifier\n              symbol\n              decimals\n              name\n              imageUrl\n            }\n          }\n          errors {\n            __typename\n          }\n          actions {\n            ...ActionTimeline\n          }\n        }\n      }\n    }\n  ",[F.SwapDetailsFragment,s.CurrencyLockupFragment,s.CurrencyV2LockupFragment,k.useTrackSwapEventFragment,R.useSwapGasCheckFragment,Z.readSwapImpactFragment,x.ActionTimelineFragment]),X={suspense:!1},J={isPending:!1,isLoading:!1,isDone:!1};function ee(e){var s,a,l,o,x,A,T,F,k,R,B,P,z;let{children:Q,initialFromCurrency:V,initialToCurrency:W,isLoadingInitialFromCurrency:U,isLoadingInitialToCurrency:Z,isNFTStrategyCurrencySelectionDisabled:ee=!1,defaultToUsdInput:en=!1,initialTransactionMode:er="sell",source:ei,surface:es,swapComponent:ea}=e,el=(0,f.useTranslations)("wallet.SwapProvider"),eo=(0,b.useAddress)(),{isUserOperationsEnabled:ec}=(0,w.useUserOperationsEnabled)(eo),[eu,ed]=(0,u.useLocalStorage)(E.USD_INPUT_MODE_PREFERENCE_LOCAL_STORAGE_KEY,void 0),[em,ep]=(0,h.useState)(U||!!V),[eh,ey]=(0,h.useState)(Z||!!W),[ef,ex]=(0,h.useState)(!1),{currency:eg}=(0,v.useCurrencyByContract)({contract:{chain:null==V?void 0:V.chainIdentifier,address:null==V?void 0:V.contractAddress},pause:!V||U||!em}),{currency:ev}=(0,v.useCurrencyByContract)({contract:{chain:null==W?void 0:W.chainIdentifier,address:null==W?void 0:W.contractAddress},pause:!W||Z||!eh}),eC=et({isUsdInputMode:eu||en,transactionMode:er}),ew=(0,y.useForm)({defaultValues:eC,mode:"onChange",resolver:(0,r.zodResolver)(G)});(0,h.useEffect)(()=>{eg&&(ew.setValue("fromCurrency",(0,i.readCurrencyV2Fragment)(eg)),ep(!1)),ev&&(ew.setValue("toCurrency",(0,i.readCurrencyV2Fragment)(ev)),ey(!1))},[eg,ew,ev,ep,ey]);let[eS,eb]=(0,h.useState)(),[ej,eA,eT,eI,eN,e_,eF,eE]=(0,y.useWatch)({control:ew.control,name:["fromCurrency","fromQuantity","toCurrency","toQuantity","maxSlippage","recipient.resolvedAddress","customDestinationWalletEnabled","transactionMode"]}),ek=(0,h.useRef)(0);(0,h.useEffect)(()=>{ek.current=Date.now(),eb(void 0);let e=ew.getValues();ew.reset({...e,fromQuantity:void 0,toQuantity:void 0},{keepErrors:!1,keepDirty:!1,keepTouched:!1})},[eE,ew]);let eM=(0,y.useWatch)({control:ew.control,name:"isUsdInputMode"}),eD=(0,h.useRef)(void 0);(0,h.useEffect)(()=>{let e=eD.current;!1===e&&!0===eM&&ed(!0),!0===e&&!1===eM&&ed(void 0),eD.current=eM},[eM,ed]);let eR=(0,j.useChainArch)(),[eB,eP]=(0,u.useLocalStorage)((0,E.getAutoSlippageStorageKey)(eR),!0),[eL,eq]=(0,h.useState)(null==eB||eB);(0,h.useEffect)(()=>{N.FlowActions.setFlowField("fromCurrency",ej),N.FlowActions.setFlowField("toCurrency",eT),N.FlowActions.setFlowField("fromAmount",eA),N.FlowActions.setFlowField("toAmount",eI),N.FlowActions.setFlowField("maxSlippage",eN),N.FlowActions.setFlowField("autoSlippage",eL),N.FlowActions.setFlowField("swapComponent",ea)},[ej,eT,eA,eI,eN,eL,ea]);let{getOrFetchBalance:eO}=(0,I.useBalances)(),[ez,eQ]=(0,h.useState)(null),eV=(0,h.useRef)({address:ej.contractAddress,chain:ej.chainIdentifier});(0,h.useEffect)(()=>{let e={address:ej.contractAddress,chain:ej.chainIdentifier};(eV.current.address!==e.address||eV.current.chain!==e.chain)&&eQ(null),eV.current=e,(async()=>{try{let n=await eO({address:e.address,chain:e.chain});if(eV.current.address===e.address&&eV.current.chain===e.chain){var t;eQ(null!=(t=null==n?void 0:n.quantity)?t:null)}}catch(e){console.error("[SwapProvider] Failed to fetch balance:",e)}})()},[ej.contractAddress,ej.chainIdentifier,eO]),(0,C.useSyncFormFields)({fields:[{name:"fromCurrencyBalance",value:(0,m.bn)(null!=ez?ez:0).toNumber()},{name:"fromQuantity",value:eA}],setValue:ew.setValue});let[eW]=(0,u.useDebounceValue)(eA,200),eU=(0,h.useCallback)(e=>"solana"===e?"11111111111111111111111111111111":"0x0000000000000000000000000000000000000000",[]),eG=eU(ej.chainIdentifier),[eH,eZ]=(0,h.useState)(0),e$=(0,h.useMemo)(()=>(0,p.generateUUID)(),[ej.contractAddress,ej.chainIdentifier,null==eT?void 0:eT.contractAddress,null==eT?void 0:eT.chainIdentifier,eW,eH]),eY=(0,h.useMemo)(()=>({fromAssets:[{asset:(0,i.currencyToAssetIdentifier)(ej),quantity:null!=eW?eW:"0"}],toAssets:[{asset:(0,i.currencyToAssetIdentifier)(null!=eT?eT:{})}],address:null!=eo?eo:eG,recipient:eF?e_:eo,slippageTolerance:eL?void 0:null!=eN?eN:(0,E.getDefaultSlippage)(eR),requestId:e$}),[ej,eT,eW,eo,e_,eF,eG,eL,eN,eR,e$]),eK=(0,h.useMemo)(()=>{let e=void 0!==eW&&""!==eW&&(0,m.bn)(eW).gt(0);return!(eT&&e)},[eT,eW]),eX=(0,h.useMemo)(()=>void 0!==eW&&""!==eW&&(0,m.bn)(eW).gt(0),[eW]),[{data:eJ,fetching:e0,error:e1},e2]=(0,c.useQuery)({query:K,variables:eY,pause:eK,context:X},{throwOnError:!1});(0,h.useEffect)(()=>{if(!eX){let e=ew.getFieldState("toQuantity").error;(null==e?void 0:e.message)==="Cannot swap to the same token on the same chain"&&ew.clearErrors("toQuantity");return}if(ej.chainIdentifier===(null==eT?void 0:eT.chainIdentifier)&&ej.contractAddress===eT.contractAddress)ew.setError("toQuantity",{message:"Cannot swap to the same token on the same chain"});else{let e=ew.getFieldState("toQuantity").error;(null==e?void 0:e.message)==="Cannot swap to the same token on the same chain"&&ew.clearErrors("toQuantity")}},[ej,eT,ew,eX]),(0,h.useEffect)(()=>{e7([])},[(0,i.getCurrencyKey)(ej),eT?(0,i.getCurrencyKey)(eT):void 0,e_,eF]),(0,h.useEffect)(()=>{e_&&eA&&e2({requestPolicy:"network-only"})},[e_,e2]),(0,h.useEffect)(()=>{if(null==eJ?void 0:eJ.tokenSwap){if(Date.now()<ek.current||!eA||""===eA)return;let e=eJ.tokenSwap.quote.swapRoutes;if(0===e.length)return void ew.setError("root.swapError",{message:el("noRouteFound"),type:"critical"});let t=e[0];switch(t.__typename){case"SwapRoute":{let e=t.fromAsset,n=t.toAsset;if(!(Y(e)&&Y(n)))throw Error("Expected swap route assets to be currencies");let r=(e,t)=>{if(!e||""===e){let e=eU(t);return e.startsWith("0x")?e.toLowerCase():e}return e.startsWith("0x")?e.toLowerCase():e},i=r(e.contractAddress,null==ej?void 0:ej.chainIdentifier),s=r(n.contractAddress,null==eT?void 0:eT.chainIdentifier),a=r(null==ej?void 0:ej.contractAddress,null==ej?void 0:ej.chainIdentifier),l=r(null==eT?void 0:eT.contractAddress,null==eT?void 0:eT.chainIdentifier);if(i!==a||s!==l)return;ew.clearErrors("root.swapError");let o=(0,m.bn)(t.toQuantity,n.decimals).toString();void 0!==eI&&(0,m.bn)(eI).isEqualTo(o)||ew.setValue("toQuantity",o,{shouldValidate:!0});let c=(0,m.bn)(t.pricePerFromAsset.usd).toNumber(),u=(0,m.bn)(t.pricePerToAsset.usd).toNumber();u<.8*c&&c-u>1&&ew.setError("toQuantity",{message:el("lowOutputAmount")});let d=(0,H.readSwapImpact)(t);if(d&&(0,m.bn)(d.percent).lt(_.SWAP_IMPACT_WARNING_THRESHOLD)){let e=Math.abs((0,m.bn)(d.percent).toNumber()),t=Math.abs((0,m.bn)(d.usd).toNumber());ew.setError("root.swapImpact",{message:el("highSwapImpact",{percent:e.toFixed(2),usd:t.toFixed(2)}),type:"warning"})}else ew.clearErrors("root.swapImpact");return}case"SwapRouteSwapOutputTooSmallToCoverFees":ew.setError("toQuantity",{message:el("outputTooLowForFees"),type:"warning"});return;case"SwapRouteNotFound":case"SwapRouteAssetNotFound":ew.setError("root.swapError",{message:el("noRouteFound"),type:"critical"});return;case"SwapRouteInsufficientFundsError":ew.setError("fromQuantity",{message:el("insufficientFunds"),type:"critical"});return;case"SwapRouteInsufficientLiquidityError":ew.setError("root.swapError",{message:el("insufficientLiquidity"),type:"critical"});return;case"SwapRouteSwapImpactTooHigh":ew.setError("toQuantity",{message:el("priceImpactTooHigh"),type:"warning"});return;case"SwapRouteUnsupportedChainError":ew.setError("root.swapError",{message:el("unsupportedChain"),type:"critical"});return;case"SwapRouteInvalidAddressError":ew.setError("recipient",{message:el("invalidAddress"),type:"critical"});return;case"SwapRouteUnsupportedCurrencyError":ew.setError("toCurrency",{message:el("tokenNotSupported"),type:"critical"});return;case"SwapRouteTemporarilyRestrictedError":ew.setError("root.swapError",{message:el("routeTemporarilyUnavailable"),type:"warning"});return;default:ew.setError("root.swapError",{message:el("unknownError"),type:"critical"});return}}},[null==eJ?void 0:eJ.tokenSwap,ew,el,ej,eT,eU]);let e3=e0||!!eW&&eW!==eA,[e5,e4]=(0,h.useState)(null),[e6,e7]=(0,h.useState)([]),[e8,e9]=(0,h.useState)(J),[te,tt]=(0,h.useState)(void 0),tn=(0,h.useRef)(void 0),tr=(0,h.useRef)(void 0),ti=(0,h.useCallback)(e=>{tr.current=e},[]),ts=(0,h.useCallback)(()=>{var e;return null==(e=tr.current)?void 0:e.call(tr)},[]),ta=(0,h.useCallback)(e=>{var t;let n=null==e?void 0:e.tokenSwap.swapActions;e7(null!=(t=null==n?void 0:n.actions)?t:[]),(null==n?void 0:n.errors)&&n.errors.length>0&&ew.setError("root.swapError",{message:el("unknownError"),type:"critical"})},[ew,el]),tl=(0,h.useCallback)(async()=>{e3||ta(eJ)},[e3,ta,eJ]),{walletAccountType:to}=(0,S.useWalletAccountType)(),[tc,tu]=(0,h.useState)(!1),td=(0,h.useCallback)(async()=>{let{fromCurrency:e,toCurrency:t}=ew.getValues();if("smart_contract_wallet"!==to||e.chainIdentifier===(null==t?void 0:t.chainIdentifier))return await tl();tu(!0)},[tl,to,ew]);(0,h.useEffect)(()=>{if(eL){var e,t,n;ew.setValue("maxSlippage",null!=(n=null==eJ||null==(t=eJ.tokenSwap)||null==(e=t.quote)?void 0:e.slippageTolerance)?n:(0,E.getDefaultSlippage)(eR),{shouldValidate:!0})}},[eL,null==eJ||null==(a=eJ.tokenSwap)||null==(s=a.quote)?void 0:s.slippageTolerance,eR,ew]);let tm=(0,h.useCallback)(e=>{let t=e.swapRoutes[0];if(!t||"SwapRoute"!==t.__typename)return!1;let n=t.fromAsset,r=t.toAsset;if(!(Y(n)&&Y(r))||!eA||""===eA)return!1;let s=(0,i.areCurrenciesEqual)(ej,n)&&eT&&(0,i.areCurrenciesEqual)(eT,r);if(!eW)return!1;let a=(0,m.bn)(t.fromQuantity,n.decimals),l=(0,m.bn)(eW).multipliedBy(.05),o=a.minus(eW).abs().lte(l);return s&&void 0!==eA&&""!==eA&&(0,m.bn)(eA).gt(0)&&o},[eW,ej,eT,eA]);(0,h.useEffect)(()=>{e3||e1?e1?(eb(void 0),ew.setError("toQuantity",{message:"Unknown error: Failed to find route"})):eb(void 0):(null==eJ?void 0:eJ.tokenSwap)&&tm(eJ.tokenSwap.quote)?eb(eJ.tokenSwap.quote):eb(void 0)},[null==eJ?void 0:eJ.tokenSwap,e1,tm,e3,ew]);let tp=function(e){let t,r=(0,n.c)(6),i=void 0===e?"sell":e,{source:s,surface:a,swapComponent:l}=(0,D.useSwapContext)(),o=(0,M.useTrackEvent)();return r[0]!==s||r[1]!==a||r[2]!==l||r[3]!==o||r[4]!==i?(t=e=>{var t,n;let{errorType:r,errorMessage:c,debouncedFromQuantity:u,fromCurrency:d,toCurrency:m,maxSlippage:p,isUsdInputMode:h,provider:y}=e;if(!m)return;let f=null==u?void 0:u.toString(),x=d.chainIdentifier!==m.chainIdentifier,g={fromCurrency:{symbol:d.symbol,contractAddress:d.contractAddress,chain:d.chainIdentifier},toCurrency:{symbol:m.symbol,contractAddress:m.contractAddress,chain:m.chainIdentifier},errorType:r,isCrossChain:x,source:s,transactionMode:i,typedSide:"from",surface:a,swapComponent:l};f&&(g.typedAmount=f),void 0!==p&&(g.maxSlippage=p),c&&(g.errorMessage=c),(null==(t=d.stats)?void 0:t.marketCapUsd)!==void 0&&(g.fromCurrencyMarketCapUsd=d.stats.marketCapUsd),(null==(n=m.stats)?void 0:n.marketCapUsd)!==void 0&&(g.toCurrencyMarketCapUsd=m.stats.marketCapUsd),void 0!==h&&(g.isUsdInputMode=h),void 0!==y&&(g.provider=y),o("Swap Quote Error",g)},r[0]=s,r[1]=a,r[2]=l,r[3]=o,r[4]=i,r[5]=t):t=r[5],t}(eE),th=function(e){let t,r=(0,n.c)(6),i=void 0===e?"sell":e,{source:s,surface:a,swapComponent:l}=(0,D.useSwapContext)(),o=(0,M.useTrackEvent)();return r[0]!==s||r[1]!==a||r[2]!==l||r[3]!==o||r[4]!==i?(t=e=>{var t,n;let{debouncedFromQuantity:r,fromCurrency:c,toCurrency:u,maxSlippage:d,isUsdInputMode:m,provider:p}=e;if(!u)return;let h=null==r?void 0:r.toString(),y=c.chainIdentifier!==u.chainIdentifier,f={fromCurrency:{symbol:c.symbol,contractAddress:c.contractAddress,chain:c.chainIdentifier},toCurrency:{symbol:u.symbol,contractAddress:u.contractAddress,chain:u.chainIdentifier},isCrossChain:y,source:s,transactionMode:i,typedSide:"from",surface:a,swapComponent:l};h&&(f.typedAmount=h),void 0!==d&&(f.maxSlippage=d),(null==(t=c.stats)?void 0:t.marketCapUsd)!==void 0&&(f.fromCurrencyMarketCapUsd=c.stats.marketCapUsd),(null==(n=u.stats)?void 0:n.marketCapUsd)!==void 0&&(f.toCurrencyMarketCapUsd=u.stats.marketCapUsd),void 0!==m&&(f.isUsdInputMode=m),void 0!==p&&(f.provider=p),o("Swap Quote Success",f)},r[0]=s,r[1]=a,r[2]=l,r[3]=o,r[4]=i,r[5]=t):t=r[5],t}(eE),ty=function(e){let t,r=(0,n.c)(6),i=void 0===e?"sell":e,{source:s,surface:a,swapComponent:l}=(0,D.useSwapContext)(),o=(0,M.useTrackEvent)();return r[0]!==s||r[1]!==a||r[2]!==l||r[3]!==o||r[4]!==i?(t=e=>{let{validationType:t,debouncedFromQuantity:n,fromCurrency:r,toCurrency:c,maxSlippage:u}=e;if(!c)return;let d=null==n?void 0:n.toString(),m=r.chainIdentifier!==c.chainIdentifier,p={fromCurrency:{symbol:r.symbol,contractAddress:r.contractAddress,chain:r.chainIdentifier},toCurrency:{symbol:c.symbol,contractAddress:c.contractAddress,chain:c.chainIdentifier},transactionMode:i,typedSide:"from",validationType:t,isCrossChain:m,source:s,surface:a,swapComponent:l};d&&(p.typedAmount=d),void 0!==u&&(p.maxSlippage=u),o("Swap Validation Error",p)},r[0]=s,r[1]=a,r[2]=l,r[3]=o,r[4]=i,r[5]=t):t=r[5],t}(eE),tf=(0,h.useRef)(!1),tx=(0,h.useRef)(0),tg=(0,h.useRef)(-1),tv=(0,h.useRef)(-1),tC=(0,h.useRef)(void 0),tw=(0,h.useRef)(!1),tS=(0,h.useRef)(""),tb=(0,h.useRef)(-1);(0,h.useEffect)(()=>{eW!==tC.current&&void 0!==eW&&""!==eW&&(0,m.bn)(eW).gt(0)&&(tx.current+=1,tC.current=eW)},[eW]),(0,h.useEffect)(()=>{tx.current+=1},[eE,ej,eT]);let tj=null==eJ||null==(A=eJ.tokenSwap)||null==(x=A.quote)||null==(o=x.swapRoutes)||null==(l=o[0])?void 0:l.__typename,tA=!!(null==eJ||null==(k=eJ.tokenSwap)||null==(F=k.quote)||null==(T=F.swapRoutes)?void 0:T.some(e=>"SwapRoute"!==e.__typename));(0,h.useEffect)(()=>{var e,t,n,r,i,s;let a=tf.current,l=!e3;if(tf.current=e3,!(a&&l)||eK)return;let o=!!e1,c=(null==eJ?void 0:eJ.tokenSwap)&&tm(eJ.tokenSwap.quote);if((o||tA)&&!c&&tx.current!==tg.current){let r;r=o?"NetworkError":tj&&$.has(tj)?tj:"UnknownError";let i=null==eJ||null==(n=eJ.tokenSwap)||null==(t=n.quote)||null==(e=t.swapRoutes)?void 0:e[0],s=(null==i?void 0:i.__typename)==="SwapRoute"?i.swapProvider:void 0;tp({errorType:r,errorMessage:o?null==e1?void 0:e1.message:void 0,debouncedFromQuantity:eW?Number(eW):void 0,toQuantity:eI?Number(eI):void 0,fromCurrency:ej,toCurrency:eT,maxSlippage:eN,isUsdInputMode:eM,provider:s}),tg.current=tx.current}if(c&&tx.current!==tv.current){let e=null==eJ||null==(s=eJ.tokenSwap)||null==(i=s.quote)||null==(r=i.swapRoutes)?void 0:r[0],t=(null==e?void 0:e.__typename)==="SwapRoute"?e.swapProvider:void 0;th({debouncedFromQuantity:eW?Number(eW):void 0,toQuantity:eI?Number(eI):void 0,fromCurrency:ej,toCurrency:eT,maxSlippage:eN,isUsdInputMode:eM,provider:t}),tv.current=tx.current}},[e3,e1,eK,tm,tp,th,eW,eI,tA,tj,null==eJ?void 0:eJ.tokenSwap,ej,eT,eN,eM]),(0,h.useEffect)(()=>{tw.current&&(e0||e3||(tw.current=!1,ta(eJ)))},[eJ,e0,e3,ta]);let tT=(0,h.useCallback)(()=>{tw.current=!0,eZ(e=>e+1)},[]);(0,h.useEffect)(()=>{if(eX)if(ej.chainIdentifier===(null==eT?void 0:eT.chainIdentifier)&&ej.contractAddress===eT.contractAddress){let e="".concat(ej.chainIdentifier,"-").concat(ej.contractAddress,"-").concat(eE);e!==tS.current&&(ty({validationType:"SameToken",debouncedFromQuantity:eW?Number(eW):void 0,toQuantity:eI?Number(eI):void 0,fromCurrency:ej,toCurrency:eT,maxSlippage:eN}),tS.current=e)}else tS.current=""},[ej,eT,eE,ty,eW,eI,eN,eX]),(0,h.useEffect)(()=>{if(!((null==eJ?void 0:eJ.tokenSwap)&&tm(eJ.tokenSwap.quote)))return;let e=eJ.tokenSwap.quote.swapRoutes[0];if(!e||"SwapRoute"!==e.__typename)return;let t=e.fromAsset,n=e.toAsset;if(!(Y(t)&&Y(n))||tx.current===tb.current)return;let r=(0,m.bn)(e.pricePerFromAsset.usd).toNumber(),i=(0,m.bn)(e.pricePerToAsset.usd).toNumber();if(i<.8*r&&r-i>1){ty({validationType:"LowOutput",debouncedFromQuantity:eW?Number(eW):void 0,toQuantity:eI?Number(eI):void 0,fromCurrency:ej,toCurrency:eT,maxSlippage:eN}),tb.current=tx.current;return}let s=(0,H.readSwapImpact)(e);s&&(0,m.bn)(s.percent).lt(_.SWAP_IMPACT_WARNING_THRESHOLD)&&(ty({validationType:"HighSwapImpact",debouncedFromQuantity:eW?Number(eW):void 0,toQuantity:eI?Number(eI):void 0,fromCurrency:ej,toCurrency:eT,maxSlippage:eN}),tb.current=tx.current)},[eJ,tm,ty,eW,eI,eN,ej,eT]);let tI=null==eS?void 0:eS.swapRoutes[0],tN=(null==tI?void 0:tI.__typename)==="SwapRoute"?tI.swapProvider:void 0,[t_,tF]=(e=>{let t,r,s,a,l=(0,n.c)(15),{fromCurrency:o,toCurrency:c,fromQuantity:u,toQuantity:d,swapProvider:p,maxSlippage:y}=e,[f,x]=(0,h.useState)(void 0),g=(0,L.useClient)();l[0]!==g||l[1]!==o||l[2]!==u||l[3]!==y||l[4]!==p||l[5]!==c||l[6]!==d?(t=async e=>{var t,n,r,s;let a,l,{transactionIdentifier:h,relayRequestId:f,bundledExecutionCallId:x}=e;if(!(u&&d&&p))throw Error("Missing required fields to fetch swap receipt");let{data:v}=await g.query(O,{transactionIdentifiers:h?[{swapProvider:null!=p?p:"UNRECOGNIZED",transactionIdentifier:{chain:h.chain,transactionHash:h.hash}}]:void 0,swapQuote:{fromAssets:[{asset:(0,i.currencyToAssetIdentifier)(o),quantity:null!=(t=null==u?void 0:u.toString())?t:"0"}],toAssets:[{asset:(0,i.currencyToAssetIdentifier)(null!=c?c:{}),quantity:d.toString()}]},relayRequestId:f,bundledExecution:x?{bundledExecutionCallId:x,swapProvider:null!=p?p:"UNRECOGNIZED"}:void 0});if(!(null==v?void 0:v.swapReceipt))return;let C=null!=(n=v.swapReceipt.assetReceipts.at(0))?n:v.swapReceipt.failedAssetReceipts.at(0);if(!C){if(x)return;throw Error("Expected asset receipt or failed asset receipt")}if("CurrencyV2"===C.fromAssetV2.__typename)a=(0,i.readCurrencyV2Fragment)(C.fromAssetV2);else if("Currency"===C.fromAsset.__typename)a=(0,i.readCurrencyFragment)(C.fromAsset);else throw Error("From asset is not a currency");if("CurrencyV2"===C.toAssetV2.__typename)l=(0,i.readCurrencyV2Fragment)(C.toAssetV2);else if("Currency"===C.toAsset.__typename)l=(0,i.readCurrencyFragment)(C.toAsset);else throw Error("To asset is not a currency");return{status:v.swapReceipt.status,fromAsset:a,fromQuantity:(0,m.bn)(C.fromQuantity,a.decimals).toNumber(),toAsset:l,toQuantity:(0,m.bn)(C.toQuantity,l.decimals).toNumber(),transactionIdentifier:null!=h?h:{chain:"",hash:""},swapProvider:null!=p?p:"UNRECOGNIZED",failReason:null!=(r=v.swapReceipt.failReason)?r:void 0,crossChainRefunded:null!=(s=v.swapReceipt.crossChainRefunded)&&s,maxSlippage:y}},l[0]=g,l[1]=o,l[2]=u,l[3]=y,l[4]=p,l[5]=c,l[6]=d,l[7]=t):t=l[7];let v=t;l[8]!==v?(r=async e=>{let t=await v(e);return t&&"PENDING"!==t.status?t:(await (0,q.delay)(500),r(e))},l[8]=v,l[9]=r):r=l[9],l[10]!==r?(s=async e=>{let t=await r(e);return x(t),t},l[10]=r,l[11]=s):s=l[11];let C=s;return l[12]!==f||l[13]!==C?(a=[f,C],l[12]=f,l[13]=C,l[14]=a):a=l[14],a})({fromCurrency:ej,toCurrency:eT,fromQuantity:eA?Number(eA):void 0,toQuantity:eI?Number(eI):void 0,swapProvider:null!=tN?tN:void 0,maxSlippage:eN}),tE=(0,d.useVisibilityChange)();(0,h.useEffect)(()=>{if(eJ&&!eK&&!e3&&0===e6.length&&ew.formState.isValid&&0===Object.keys(ew.formState.errors).length&&tE){let e=setInterval(()=>{eZ(e=>e+1)},1e4);return()=>clearInterval(e)}},[eJ,e3,e6,ew,tE,eK]);let tk=(0,h.useCallback)(()=>{ew.setValue("fromQuantity",void 0),ew.setValue("toQuantity",void 0),ew.clearErrors(),eb(void 0),e7([]),e9(J),tt(void 0)},[ew]),tM=(0,h.useMemo)(()=>{let e=null==ej?void 0:ej.restrictSwapsToNativeTokens,t=null==eT?void 0:eT.restrictSwapsToNativeTokens;return!!(ee&&(e||t))},[ej,eT,ee]),tD=()=>{eq(e=>{let t=!e;return eP(t),t})},tR=null==eJ||null==(B=eJ.tokenSwap)||null==(R=B.swapActions)?void 0:R.bundledExecution,tB=null==tR?void 0:tR.token;(0,h.useEffect)(()=>{let e=tn.current;e!==tB&&(tn.current=tB,(void 0!==e||void 0!==tB)&&tt(void 0))},[tB]);let tP=(0,h.useMemo)(()=>{var e,t,n;return{isLoadingQuote:e3,container:e5,actions:e6,quote:eS,receipt:t_,isLoadingInitialToCurrency:Z||eh,isLoadingInitialFromCurrency:U||em,hasQuoteError:!!(null==eJ||null==(n=eJ.tokenSwap)||null==(t=n.quote)||null==(e=t.swapRoutes)?void 0:e.some(e=>"SwapRoute"!==e.__typename)),isCurrencySelectionDisabled:tM,isAutoSlippageEnabled:eL,shouldShowConfirmationModal:ef,actionsStatus:e8,source:ei,surface:es,swapComponent:ea,bundledExecution:null!=tR?tR:void 0,selectedPaymentToken:te,userOperationsEnabled:ec,setActionsStatus:e9,waitForCompletion:tF,toggleAutoSlippage:tD,setContainer:e4,onSubmit:td,onBundledExecutionSubmit:ts,setBundledExecutionSubmit:ti,setShouldShowConfirmationModal:ex,reloadActions:tT,reset:tk,setSelectedPaymentToken:tt}},[e3,e5,e6,eS,t_,Z,eh,U,em,null==eJ||null==(z=eJ.tokenSwap)||null==(P=z.quote)?void 0:P.swapRoutes,eL,tM,ef,e8,ei,es,ea,tR,te,ec,e9,tD,ex,tF,td,ts,tT,tk]);return(0,t.jsxs)(D.SwapContext.Provider,{value:tP,children:[(0,t.jsx)(y.FormProvider,{...ew,children:Q}),(0,t.jsx)(g.SmartContractWalletWarningModal,{onCancel:()=>{tu(!1)},onContinue:()=>{tu(!1),tl()},open:tc})]})}let et=e=>{let t,r,i,s,a=(0,n.c)(13),{isUsdInputMode:l,transactionMode:o}=e,c=(0,b.useAddress)(),{fromCurrency:d,toCurrency:m}=en(),p=(0,j.useChainArch)();a[0]!==p?(t=(0,E.getDefaultSlippage)(p),a[0]=p,a[1]=t):t=a[1];let h=t;a[2]!==p?(r=(0,E.getMaxSlippageStorageKey)(p),a[2]=p,a[3]=r):r=a[3];let[y]=(0,u.useLocalStorage)(r,h);return a[4]!==c?(i={identifier:c,resolvedAddress:c,isResolving:!1,currentAddress:c},a[4]=c,a[5]=i):i=a[5],a[6]!==d||a[7]!==l||a[8]!==y||a[9]!==i||a[10]!==m||a[11]!==o?(s={fromCurrency:d,fromQuantity:void 0,toCurrency:m,toQuantity:void 0,maxSlippage:y,customDestinationWalletEnabled:!1,isUsdInputMode:l,transactionMode:o,recipient:i},a[6]=d,a[7]=l,a[8]=y,a[9]=i,a[10]=m,a[11]=o,a[12]=s):s=a[12],s},en=()=>{var e,t,r,i,s;let o,c=(0,n.c)(21),{getNativeCurrency:u,getWrappedNativeCurrency:d}=(0,a.useChains)(),{getCurrency:m,currencies:p}=(0,l.useCurrencies)(),h=(0,j.useChainArch)(),y=null!=(e=T())?e:"ethereum";if(c[0]!==h||c[1]!==y||c[2]!==p||c[3]!==m||c[4]!==u||c[5]!==d){o=Symbol.for("react.early_return_sentinel");e:{let e,n=u(y),a=d(y);c[7]!==y||c[8]!==p?(e=null!=(t=p.find(e=>e.chainIdentifier===y))?t:p[0],c[7]=y,c[8]=p,c[9]=e):e=c[9];let l=e;if("SVM"===h){let e,t;c[10]!==l||c[11]!==m?(e=null!=(r=m({contractAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",chainIdentifier:"solana"}))?r:l,c[10]=l,c[11]=m,c[12]=e):e=c[12];let i=n?m(n):void 0;c[13]!==e||c[14]!==i?(t={fromCurrency:e,toCurrency:i},c[13]=e,c[14]=i,c[15]=t):t=c[15],o=t;break e}{let e,t;c[16]!==y?(e=e=>"USDC"===e.symbol&&e.chainIdentifier===y,c[16]=y,c[17]=e):e=c[17];let r=p.find(e),u=null!=(i=n?m(n):void 0)?i:l,d=r&&null!=(s=m({contractAddress:r.contractAddress,chainIdentifier:y}))?s:a?m(a):void 0;c[18]!==u||c[19]!==d?(t={fromCurrency:u,toCurrency:d},c[18]=u,c[19]=d,c[20]=t):t=c[20],o=t;break e}}c[0]=h,c[1]=y,c[2]=p,c[3]=m,c[4]=u,c[5]=d,c[6]=o}else o=c[6];if(o!==Symbol.for("react.early_return_sentinel"))return o}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="030b8ec4-12c7-54c9-b56d-c83ba941b76b")}catch(e){}}();
//# debugId=030b8ec4-12c7-54c9-b56d-c83ba941b76b
