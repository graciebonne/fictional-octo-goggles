(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,151955,620363,e=>{"use strict";e.s(["default",()=>v],151955);var t=e.i(705378),r=e.i(590268),n=e.i(502732),l=e.i(254842),a=e.i(965523),o=e.i(999258),i=e.i(950293);e.s(["default",()=>h],620363);var s=e.i(969498);let c="os2_offline_best_score";function u(e,t,r){return Math.max(e,Math.min(t,r))}function d(){return Date.now()}function f(e,t){return e.x<t.x+t.w&&e.x+e.w>t.x&&e.y<t.y+t.h&&e.y+e.h>t.y}let h=function(e){let{message:r}=e,o=(0,s.useRef)(null),i=(0,s.useRef)(null),h=(0,s.useRef)(d()),[m,x]=(0,s.useState)("running"),[y,p]=(0,s.useState)(0),[b,g]=(0,s.useState)(0),w=(0,s.useRef)(0),{groundY:v,gravity:T,jumpVelocity:j,startSpeed:S,maxSpeed:R}=(0,s.useMemo)(()=>({groundY:308,gravity:.8,jumpVelocity:-12,startSpeed:6,maxSpeed:14}),[]),M=(0,s.useRef)(S),N=(0,s.useRef)({x:60,y:v-28,w:46,h:28,vy:0,onGround:!0,blinkAt:d()+1500+2e3*Math.random(),bobToggleAt:d()+150,bobUp:!1}),k=(0,s.useRef)([]),P=(0,s.useRef)([]),E=(0,s.useRef)(d()+1200),A=(0,s.useRef)(d()+1700);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(c);e&&g(Number(e)||0)}catch(e){}},[]);let I=(0,s.useCallback)(()=>{p(0),w.current=0,M.current=S,x("running"),N.current={x:60,y:v-28,w:46,h:28,vy:0,onGround:!0,blinkAt:d()+1500+2e3*Math.random(),bobToggleAt:d()+150,bobUp:!1},k.current=[],P.current=[],E.current=d()+1200,A.current=d()+1700},[v,S]),C=(0,s.useCallback)(()=>{if("running"!==m)return;let e=N.current;e.onGround&&(e.vy=j,e.onGround=!1)},[j,m]);(0,s.useEffect)(()=>{let e=e=>{"Space"===e.code||"ArrowUp"===e.code?(e.preventDefault(),C()):"r"===e.key.toLowerCase()&&(e.preventDefault(),I())};window.addEventListener("keydown",e,{passive:!1});let t=o.current,r=()=>C();return null==t||t.addEventListener("pointerdown",r),()=>{window.removeEventListener("keydown",e),null==t||t.removeEventListener("pointerdown",r)}},[C,I]),(0,s.useEffect)(()=>{let e=o.current;if(!e)return;let t=Math.max(1,Math.min(2,window.devicePixelRatio||1));e.width=Math.floor(960*t),e.height=Math.floor(360*t),e.style.width="".concat(960,"px"),e.style.height="".concat(360,"px"),e.getContext("2d").setTransform(t,0,0,t,0,0)},[]);let B=(0,s.useCallback)(e=>{x("gameover"),g(t=>{let r=Math.max(t,e);try{localStorage.setItem(c,String(r))}catch(e){}return r})},[]),G=(e,t)=>{e.fillStyle="#000000","barrel"===t.type?e.fillRect(t.x,t.y,t.w,t.h):"wave"===t.type||"large-wave"===t.type?(e.beginPath(),e.moveTo(t.x,t.y+t.h),e.lineTo(t.x+t.w/2,t.y),e.lineTo(t.x+t.w,t.y+t.h),e.closePath(),e.fill()):"monster"===t.type?(e.beginPath(),e.arc(t.x+t.w/2,t.y+t.h,t.w/2,Math.PI,0),e.fill()):"squid"===t.type&&(e.fillRect(t.x+t.w/2-2,t.y,4,t.h),e.beginPath(),e.arc(t.x+t.w/2,t.y,6,0,Math.PI,!0),e.fill())},F=(e,t)=>{e.fillStyle="#000000","pearl"===t.type?(e.beginPath(),e.arc(t.x+t.w/2,t.y+t.h/2,Math.min(t.w,t.h)/2,0,2*Math.PI),e.fill()):"shell"===t.type?(e.beginPath(),e.moveTo(t.x,t.y+t.h),e.lineTo(t.x+t.w,t.y+t.h),e.lineTo(t.x+t.w/2,t.y),e.closePath(),e.fill()):"chest"===t.type?e.fillRect(t.x,t.y+t.h/4,t.w,3*t.h/4):"bottle"===t.type&&(e.fillRect(t.x+t.w/2-2,t.y,4,t.h-6),e.fillRect(t.x+3,t.y+t.h-6,t.w-6,6))};return(0,s.useEffect)(()=>{let e=o.current;if(!e)return;let t=e.getContext("2d"),r=()=>{let e=d(),n=e-h.current;for(let r of(h.current=e,"running"===m&&(e=>{let t=N.current,r=M.current,n=e/16.6667;if(M.current=u(S,r+9e-4*e,R),t.vy+=T*n,t.y+=t.vy,t.y+t.h>=v?(t.y=v-t.h,t.vy=0,t.onGround=!0):t.onGround=!1,d()>t.blinkAt+180&&(t.blinkAt=d()+1800+2600*Math.random()),t.onGround&&d()>t.bobToggleAt&&(t.bobToggleAt=d()+150,t.bobUp=!t.bobUp),d()>E.current){let e=Math.random(),t=y>500,n=e<.35?"barrel":e<.6?"wave":e<.8?"monster":t&&e>.9?"large-wave":"squid",l="barrel"===n?22:"wave"===n?34:"monster"===n?40:"large-wave"===n?60:46;k.current.push({type:n,x:970,y:v-l,w:"barrel"===n?18:"wave"===n?26:"large-wave"===n?38:22,h:l,speed:r+(1.5*Math.random()-.5)});let a=u(350,1200-30*r+300*Math.random(),1200);E.current=d()+u(550,a,1200)}if(d()>A.current){let e=["pearl","shell","chest","bottle"][Math.floor(4*Math.random())],t=v-60-60*Math.random();P.current.push({type:e,x:970,y:t,w:16,h:16,speed:r-.5}),A.current=d()+2200+1800*Math.random()}k.current=k.current.map(e=>({...e,x:e.x-e.speed})).filter(e=>e.x+e.w>-40),P.current=P.current.map(e=>({...e,x:e.x-e.speed})).filter(e=>e.x+e.w>-40);let l=0;P.current=P.current.filter(e=>!f(N.current,e)||(l+=25,!1));let a=Math.floor(1+n*(.2+.02*r))+l;for(let e of(w.current+=a,p(w.current),k.current))if(f(N.current,e)){B(w.current);break}})(n),t.fillStyle="#ffffff",t.fillRect(0,0,960,360),t.fillStyle="#f2f6ff",t.fillRect(0,v+20,960,360-(v+20)),t.strokeStyle="#000000",t.lineWidth=3,t.beginPath(),t.moveTo(0,v),t.lineTo(960,v),t.stroke(),((e,t)=>{let r=t.x,n=t.y,l=t.w,a=t.h;e.fillStyle="#000000",e.beginPath(),e.moveTo(r,n+a-2),e.lineTo(r+l,n+a-2),e.lineTo(r+l-8,n+a-10),e.lineTo(r+8,n+a-10),e.closePath(),e.fill(),e.fillRect(r+l/2-1,n+4,2,a-12);let o=t.onGround&&t.bobUp?-2:0;e.fillStyle="#000000",e.beginPath(),e.moveTo(r+l/2,n+6+o),e.lineTo(r+l/2,n+a-12+o),e.lineTo(r+l-6,n+a-12+o),e.closePath(),e.fill(),e.fillStyle=N.current.onGround&&d()<N.current.blinkAt+120?"#000000":"#ffffff",e.fillRect(r+10,n+a-16,3,3),e.fillRect(r+15,n+a-16,3,3)})(t,N.current),k.current))G(t,r);for(let e of P.current)F(t,e);t.fillStyle="#000000",t.font="16px ui-monospace, SFMono-Regular, Menlo, monospace",t.fillText("Score: ".concat(y),16,28),t.fillText("Best: ".concat(b),840,28),i.current=window.requestAnimationFrame(r)};return i.current=window.requestAnimationFrame(r),()=>{null!==i.current&&window.cancelAnimationFrame(i.current)}},[b,y,m]),(0,t.jsxs)(a.FlexColumn,{className:"w-full",children:[(0,t.jsxs)("div",{className:"mb-3 text-center",children:[(0,t.jsx)("h2",{className:"font-bold text-2xl",children:"OpenSea is offline"}),r?(0,t.jsx)("p",{className:"mt-1 text-base",children:r}):(0,t.jsx)("p",{className:"mt-1 text-sm",children:"Mono Runner — avoid obstacles, rack up points. Refresh anytime to try loading OpenSea."})]}),(0,t.jsxs)("div",{className:"mx-auto max-w-[960px] rounded-xl border border-black/80 p-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("canvas",{"aria-label":"Endless runner mini-game canvas",className:"block w-full cursor-pointer touch-none select-none bg-white",ref:o}),"gameover"===m&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-2 font-semibold text-lg",children:"Game over"}),(0,t.jsxs)("div",{className:"mb-4 text-sm",children:["Score ",y," • Best ",b]}),(0,t.jsxs)(l.Flex,{className:"items-center justify-center gap-3",children:[(0,t.jsx)(n.Button,{onClick:I,variant:"secondary",children:"Play again (R)"}),(0,t.jsx)(n.Button,{onClick:()=>window.location.reload(),variant:"primary",children:"Reload OpenSea"})]})]})})]}),(0,t.jsx)("div",{className:"mt-2 text-center text-xs",children:"Space/↑ to jump · Tap/click to jump"})]})]})};var m=e.i(597585),x=e.i(302502),y=e.i(150127),p=e.i(358256),b=e.i(530730),g=e.i(431876);let w="prod-mainnet"!==m.ENVIRONMENT;function v(e){let c,u,d,f,m,v=(0,r.c)(9),{error:T}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(c={"error.severity":"oops"},v[0]=c):c=v[0],v[1]!==T?(u={error:T,tags:c,amplitudeEventName:"Error Page Impression"},v[1]=T,v[2]=u):u=v[2];let{errorId:j,traceId:S}=(e=>{let t,n,l,a,o,i=(0,r.c)(15),{error:c,tags:u,amplitudeEventName:d}=e,[f,h]=(0,s.useState)(null);i[0]!==c?(t=(0,g.extractTraceId)(c),i[0]=c,i[1]=t):t=i[1];let m=t;i[2]!==c?(n=(0,g.extractPath)(c),i[2]=c,i[3]=n):n=i[3],i[4]!==n||i[5]!==m?(l={"x-trace-id":m,"graphql.path":n},i[4]=n,i[5]=m,i[6]=l):l=i[6];let w=l;return i[7]!==d||i[8]!==c||i[9]!==w||i[10]!==u?(a=()=>{console.error(c),d&&(0,x.track)(d,{error:c.message,...w});let e=(0,b.readEventId)(c);if(e)return void h(e);let t=setTimeout(()=>{h((0,b.readEventId)(c)||(0,p.captureException)(c,{tags:{...w,...u}}))},1e3);return()=>{clearTimeout(t)}},i[7]=d,i[8]=c,i[9]=w,i[10]=u,i[11]=a):a=i[11],(0,y.useMountEffect)(a),i[12]!==f||i[13]!==m?(o={errorId:f,traceId:m},i[12]=f,i[13]=m,i[14]=o):o=i[14],o})(u);return v[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsxs)(a.FlexColumn,{className:"min-h-screen items-center justify-center gap-4 py-4",children:[(0,t.jsx)(h,{}),(0,t.jsx)(o.Separator,{})]}),v[3]=d):d=v[3],v[4]!==j||v[5]!==S?(f=(j||S)&&(0,t.jsxs)("div",{className:"fixed right-4 bottom-4 space-y-2",children:[j&&(0,t.jsxs)(l.Flex,{className:"items-center gap-2",children:[(0,t.jsxs)(i.TextBody,{color:"warning",size:"sm",children:["Error ID: ",j]}),w&&(0,t.jsx)(n.Button,{href:(0,b.getSentryIssueLink)(j),size:"sm",variant:"secondary",children:"Sentry"})]}),S&&(0,t.jsxs)(l.Flex,{className:"items-center gap-2",children:[(0,t.jsxs)(i.TextBody,{color:"warning",size:"sm",children:["Trace ID: ",S]}),w&&(0,t.jsx)(n.Button,{href:(0,g.getDatadogTraceLink)(S),size:"sm",variant:"secondary",children:"Datadog"})]})]}),v[4]=j,v[5]=S,v[6]=f):f=v[6],v[7]!==f?(m=(0,t.jsxs)("main",{className:"relative min-h-screen select-text",children:[d,f]}),v[7]=f,v[8]=m):m=v[8],m}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1b43c645-acaa-5ff9-a581-1708dca38519")}catch(e){}}();
//# debugId=1b43c645-acaa-5ff9-a581-1708dca38519
