(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,619272,e=>{"use strict";e.s(["PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES",()=>n,"PORTFOLIO_TOKENS_TABLE_CLASSNAMES",()=>l,"TIMEFRAME_OPTIONS",()=>t,"TIMEFRAME_TO_LABEL",()=>a]);let n={collection:"first:pl-4 shrink-0 w-[180px] lg:w-50 overflow-visible",quantity:"w-10 2xl:w-12 justify-end grow-1",value:"w-24 3xl:w-32 justify-end grow-1",floorPrice:"w-24 justify-end grow-1",topOffer:"w-24 justify-end grow-1",sparkline:"w-24 justify-end last:pr-4"},l={token:"first:pl-4 w-[180px] grow overflow-visible",value:"w-20 justify-end grow-1",quantity:"w-20 justify-end grow-1",price:"w-18 justify-end grow-1 pr-6",gain:"w-28 justify-end grow-1",gainPercentage:"w-20 justify-end grow-1",sparkline:"w-24 justify-end last:pr-4"},t=["ONE_HOUR","ONE_DAY","SEVEN_DAYS","THIRTY_DAYS"],a={ONE_HOUR:"1H",ONE_DAY:"1D",SEVEN_DAYS:"7D",THIRTY_DAYS:"30D"}},675795,e=>{"use strict";e.s(["PortfolioCollections",()=>eS,"PortfolioCollectionsSkeleton",()=>ef],675795);var n=e.i(705378),l=e.i(590268),t=e.i(971823),a=e.i(502732),r=e.i(39771),s=e.i(965523),i=e.i(718813),o=e.i(165102),c=e.i(258343),u=e.i(950293),d=e.i(341819),m=e.i(940704),h=e.i(647291),y=e.i(186677),x=e.i(528198),p=e.i(104062),C=e.i(438249),g=e.i(893066),S=e.i(960243),f=e.i(847720),v=e.i(575789),T=e.i(969498),j=e.i(62793),b=e.i(913868),N=e.i(756344),L=e.i(681144),_=e.i(84949),k=e.i(389852),w=e.i(245222),A=e.i(813949),O=e.i(771968),P=e.i(532500),E=e.i(919434),I=e.i(735635),F=e.i(444501),V=e.i(437153),B=e.i(378536),M=e.i(653848),D=e.i(871085),R=e.i(619272);function $(e){let t,a,r,s,i,o,c,u,d,h,y,x,p,C,g,f,v,T,j,b,N,L=(0,l.c)(59),{className:_,sortBy:k,sortDirection:w,onSortChange:A}=e,O=(0,m.useTranslations)("StatsTableHeader"),P=(0,m.useTranslations)("useStatsColumns");L[0]!==A||L[1]!==k||L[2]!==w?(t=e=>{e.column!==k?A(e.column,"DESC"):A(e.column,"DESC"===w?"ASC":"DESC")},L[0]=A,L[1]=k,L[2]=w,L[3]=t):t=L[3];let E=t;return L[4]!==_?(a=(0,V.classNames)("border-border-1 border-b bg-bg-primary",_),L[4]=_,L[5]=a):a=L[5],L[6]!==O?(r=O("collection"),L[6]=O,L[7]=r):r=L[7],L[8]!==r?(s=(0,n.jsx)(M.TableHeaderCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.collection,children:r}),L[8]=r,L[9]=s):s=L[9],L[10]!==O?(i=O("held"),L[10]=O,L[11]=i):i=L[11],L[12]!==i?(o=(0,n.jsx)(M.TableHeaderCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.quantity,children:i}),L[12]=i,L[13]=o):o=L[13],L[14]!==k||L[15]!==w?(c=k===S.StatsSortBy.HELD_VALUE?(0,D.toLowerCase)(w):void 0,L[14]=k,L[15]=w,L[16]=c):c=L[16],L[17]!==E||L[18]!==c?(u={column:S.StatsSortBy.HELD_VALUE,onSort:E,order:c},L[17]=E,L[18]=c,L[19]=u):u=L[19],L[20]!==P?(d=P("value"),L[20]=P,L[21]=d):d=L[21],L[22]!==u||L[23]!==d?(h=(0,n.jsx)(M.TableHeaderCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.value,sort:u,children:d}),L[22]=u,L[23]=d,L[24]=h):h=L[24],L[25]!==k||L[26]!==w?(y=k===S.StatsSortBy.FLOOR_PRICE?(0,D.toLowerCase)(w):void 0,L[25]=k,L[26]=w,L[27]=y):y=L[27],L[28]!==E||L[29]!==y?(x={column:S.StatsSortBy.FLOOR_PRICE,onSort:E,order:y},L[28]=E,L[29]=y,L[30]=x):x=L[30],L[31]!==P?(p=P("floorPrice.header"),L[31]=P,L[32]=p):p=L[32],L[33]!==x||L[34]!==p?(C=(0,n.jsx)(M.TableHeaderCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.floorPrice,sort:x,children:p}),L[33]=x,L[34]=p,L[35]=C):C=L[35],L[36]!==k||L[37]!==w?(g=k===S.StatsSortBy.BEST_OFFER?(0,D.toLowerCase)(w):void 0,L[36]=k,L[37]=w,L[38]=g):g=L[38],L[39]!==E||L[40]!==g?(f={column:S.StatsSortBy.BEST_OFFER,onSort:E,order:g},L[39]=E,L[40]=g,L[41]=f):f=L[41],L[42]!==P?(v=P("topOffer.header"),L[42]=P,L[43]=v):v=L[43],L[44]!==f||L[45]!==v?(T=(0,n.jsx)(M.TableHeaderCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.topOffer,sort:f,children:v}),L[44]=f,L[45]=v,L[46]=T):T=L[46],L[47]!==P?(j=P("last7Days.header"),L[47]=P,L[48]=j):j=L[48],L[49]!==j?(b=(0,n.jsx)(M.TableHeaderCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.sparkline,children:j}),L[49]=j,L[50]=b):b=L[50],L[51]!==h||L[52]!==C||L[53]!==T||L[54]!==a||L[55]!==b||L[56]!==s||L[57]!==o?(N=(0,n.jsxs)(B.TableHeader,{className:a,children:[s,o,h,C,T,b]}),L[51]=h,L[52]=C,L[53]=T,L[54]=a,L[55]=b,L[56]=s,L[57]=o,L[58]=N):N=L[58],N}var U=e.i(635341),q=e.i(491150),H=e.i(738480),z=e.i(81303),G=e.i(28067),Q=e.i(570293),K=e.i(678893),Y=e.i(793254),W=e.i(647945),X=e.i(270937),Z=e.i(959105),J=e.i(825504),ee=e.i(881961),en=e.i(543964);let el=(0,x.graphql)("\n    fragment PortfolioCollectionsTableRow on Collection {\n      id\n      slug\n      ownership(address: $address) {\n        id\n        totalQuantity\n        value {\n          ...Volume\n        }\n      }\n      accountOwnership(accountId: $accountId) {\n        id\n        totalQuantity\n        value {\n          ...Volume\n        }\n      }\n      ...StatsTableRowCollection\n      ...StatsTableRowFloorPrice\n      ...StatsTableRowTopOffer\n      ...StatsTableRowVolume\n      ...StatsTableRowSales\n      ...StatsTableRowSparkLineChart\n      ...CollectionLink\n    }\n  ",[K.StatsTableRowCollectionFragment,Y.StatsTableRowFloorPriceFragment,X.StatsTableRowTopOfferFragment,en.StatsTableRowVolumeFragment,ee.StatsTableRowSalesFragment,W.StatsTableRowSparkLineChartFragment,J.VolumeFragment,Z.CollectionLinkFragment]);var et=e.i(601056),ea=e.i(519078),er=e.i(167368),es=e.i(310578),ei=e.i(747460),eo=e.i(984335),ec=e.i(445329);function eu(){let e,t,a,r,s,i,o,c,u,d,m,h=(0,l.c)(22),{size:y}=(0,eo.useTable)(),{image:x}=(0,ei.tableRowSizeVariants)({size:y}),p=(0,ec.useStatsSparklineChartClassName)(),C=G.TableRow,g=z.TableCell,S=R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES,f=et.Item,v=et.ItemAvatar,T=x();return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(es.SkeletonBlock,{}),h[0]=e):e=h[0],h[1]!==v||h[2]!==T?(t=(0,n.jsx)(v,{className:T,children:e}),h[1]=v,h[2]=T,h[3]=t):t=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(ea.ItemContent,{children:(0,n.jsx)(es.SkeletonLine,{className:"h-4 w-[100px]"})}),h[4]=a):a=h[4],h[5]!==f||h[6]!==t?(r=(0,n.jsxs)(f,{variant:"unstyled",children:[t,a]}),h[5]=f,h[6]=t,h[7]=r):r=h[7],h[8]!==g||h[9]!==S.collection||h[10]!==r?(s=(0,n.jsx)(g,{className:S.collection,children:r}),h[8]=g,h[9]=S.collection,h[10]=r,h[11]=s):s=h[11],h[12]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.quantity,children:(0,n.jsx)(es.SkeletonLine,{className:"h-4 w-[40px]"})}),h[12]=i):i=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.value,children:(0,n.jsx)(es.SkeletonLine,{className:"h-4 w-[80px]"})}),h[13]=o):o=h[13],h[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.floorPrice,children:(0,n.jsx)(es.SkeletonLine,{className:"h-4 w-[80px]"})}),h[14]=c):c=h[14],h[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.topOffer,children:(0,n.jsx)(es.SkeletonLine,{className:"h-4 w-[80px]"})}),h[15]=u):u=h[15],h[16]!==p?(d=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.sparkline,children:(0,n.jsx)(er.ChartSkeleton,{className:p})}),h[16]=p,h[17]=d):d=h[17],h[18]!==C||h[19]!==d||h[20]!==s?(m=(0,n.jsxs)(C,{children:[s,i,o,c,u,d]}),h[18]=C,h[19]=d,h[20]=s,h[21]=m):m=h[21],m}function ed(e){var t,a,r,s,i,o;let c,u,d,m,y,x,p,C,g,S=(0,l.c)(25),{item:f}=e,v=(0,h.useProfileAddress)();if(!f){let e;return S[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(eu,{}),S[0]=e):e=S[0],e}S[1]!==f?(c=(0,U.readFragment)(el,f),S[1]=f,S[2]=c):c=S[2];let T=c;if(!T)return null;let j="/".concat(v,"/items?collectionSlugs=").concat(encodeURIComponent(T.slug));S[3]!==T?(u=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.collection,children:(0,n.jsx)(K.StatsTableRowCollection,{collection:T})}),S[3]=T,S[4]=u):u=S[4];let b=null!=(i=null==T||null==(t=T.accountOwnership)?void 0:t.totalQuantity)?i:null==T||null==(a=T.ownership)?void 0:a.totalQuantity;S[5]!==b?(d=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.quantity,children:(0,n.jsx)(H.NumberDisplay,{display:"full",value:b})}),S[5]=b,S[6]=d):d=S[6];let N=null!=(o=null==T||null==(r=T.accountOwnership)?void 0:r.value)?o:null==T||null==(s=T.ownership)?void 0:s.value;return S[7]!==N?(m=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.value,children:(0,n.jsx)(Q.Volume,{display:"compact",volume:N})}),S[7]=N,S[8]=m):m=S[8],S[9]!==T?(y=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.floorPrice,children:(0,n.jsx)(Y.StatsTableRowFloorPrice,{collection:T})}),S[9]=T,S[10]=y):y=S[10],S[11]!==T?(x=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.topOffer,children:(0,n.jsx)(X.StatsTableRowTopOffer,{collection:T})}),S[11]=T,S[12]=x):x=S[12],S[13]!==T?(p=(0,n.jsx)(z.TableCell,{className:R.PORTFOLIO_COLLECTIONS_TABLE_CLASSNAMES.sparkline,children:(0,n.jsx)(W.StatsTableRowSparkLineChart,{collection:T})}),S[13]=T,S[14]=p):p=S[14],S[15]!==u||S[16]!==d||S[17]!==m||S[18]!==y||S[19]!==x||S[20]!==p?(C=(0,n.jsxs)(G.TableRow,{interactive:!0,children:[u,d,m,y,x,p]}),S[15]=u,S[16]=d,S[17]=m,S[18]=y,S[19]=x,S[20]=p,S[21]=C):C=S[21],S[22]!==j||S[23]!==C?(g=(0,n.jsx)(q.Link,{href:j,prefetch:"onHover",variant:"unstyled",children:C}),S[22]=j,S[23]=C,S[24]=g):g=S[24],g}let em=(0,x.graphql)("\n    query PortfolioCollectionsTableQuery(\n      $cursor: String\n      $sort: TopCollectionsSort!\n      $filter: TopCollectionsFilter\n      $category: CategoryIdentifier\n      $limit: Int!\n      $addresses: [Address!]!\n      $accountId: String\n      $address: Address!\n    ) {\n      userTopCollections(\n        accountId: $accountId\n        cursor: $cursor\n        sort: $sort\n        filter: $filter\n        category: $category\n        limit: $limit\n        addresses: $addresses\n      ) {\n        items {\n          id\n          slug\n          __typename\n          ...StatsVolume\n          ...PortfolioCollectionsTableRow\n          ...CollectionStatsSubscription\n          ...CollectionNativeCurrencyIdentifier\n          accountOwnership(accountId: $accountId) {\n            value {\n              native {\n                unit\n              }\n            }\n          }\n          ownership(address: $address) {\n            value {\n              native {\n                unit\n              }\n            }\n          }\n        }\n        nextPageCursor\n      }\n    }\n  ",[el,w.CollectionStatsSubscriptionFragment,L.StatsVolumeFragment,j.CollectionNativeCurrencyIdentifierFragment]),eh=(0,k.withSuspense)(e=>{let{persona:l,recentlyMinted:t}=e,{timeframe:a}=(0,I.useStatsTimeframeQueryParam)(),{chains:r}=(0,P.useChainsQueryParam)(),s=(0,h.useProfileAddress)(),i=(0,h.useProfileAccountId)(),o=(0,b.useProfileSelectedAddresses)(),c=(0,N.useHasSearchFilters)(),u=(0,E.useClearFilters)(),{getUsdPrice:d}=(0,f.useCurrencies)(),[m,y]=(0,T.useState)(S.StatsSortBy.HELD_VALUE),[x,v]=(0,T.useState)("DESC"),L={direction:x,by:(0,_.getSortBy)(m,a)},{items:k,paginatedItems:V,pagination:B,setItems:M,noResults:D,error:R,fetching:U}=(0,O.usePaginatedQuery)({query:em,variables:{sort:L,filter:{chains:r.length>0?r:void 0,recentlyMinted:t},limit:25,accountId:i,addresses:o,address:null!=s?s:""},pause:0===o.length||!s},e=>null==e?void 0:e.userTopCollections,{pageSize:25}),q=m===S.StatsSortBy.HELD_VALUE?[...k].sort((e,n)=>{var l,t,a,r,s,i,o,c,u,m,h,y,p,C,g,S,f,v,T,b;if(!(e&&n))return 0;let N=null!=(f=null==(l=d((0,j.getCollectionNativeCurrencyIdentifier)(e),null!=(S=null!=(g=null==(r=e.accountOwnership)||null==(a=r.value)||null==(t=a.native)?void 0:t.unit)?g:null==(o=e.ownership)||null==(i=o.value)||null==(s=i.native)?void 0:s.unit)?S:0))?void 0:l.toNumber())?f:0,L=null!=(b=null==(c=d((0,j.getCollectionNativeCurrencyIdentifier)(n),null!=(T=null!=(v=null==(h=n.accountOwnership)||null==(m=h.value)||null==(u=m.native)?void 0:u.unit)?v:null==(C=n.ownership)||null==(p=C.value)||null==(y=p.native)?void 0:y.unit)?T:0))?void 0:c.toNumber())?b:0;return"DESC"===x?L-N:N-L}):k,H=(0,g.useItemsWithSkeletons)({items:q,pageSize:25,isLoadingNext:B.isLoadingNext}),z=k.flatMap(e=>e?[e.slug]:[]);return((0,A.useIsCollectionWatched)(z),(0,w.useCollectionsStatsSubscription)(V,M,L),U||0===o.length)?(0,n.jsx)(ey,{persona:l}):R||D?(0,n.jsx)(p.EmptyState,{onResetFilters:u,size:"lg",variant:R?"no-data":c?"no-results-with-filters":"no-results"}):(0,n.jsx)(C.Table,{className:"h-[600px]",contentClassName:"scrollbar-hidden",dividers:!0,header:(0,n.jsx)($,{className:(0,F.topStickyVariants)({tableHeader:!0}),onSortChange:(e,n)=>{y(e),v(n)},sortBy:m,sortDirection:x}),itemKey:e=>null==e?void 0:e.slug,items:H,renderRow:ed,size:"md",...B})},{fallback:e=>{let{persona:l}=e;return(0,n.jsx)(ey,{persona:l})},errorFallback:(0,n.jsx)(p.EmptyState,{size:"lg",variant:"no-data"})});function ey(e){let t,a,r=(0,l.c)(2);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)($,{className:(0,F.topStickyVariants)({tableHeader:!0}),onSortChange:eC,sortBy:S.StatsSortBy.FLOOR_PRICE,sortDirection:"DESC"}),r[0]=t):t=r[0],r[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(C.Table,{className:"h-[600px] overflow-hidden",contentClassName:"scrollbar-hidden",dividers:!0,header:t,itemKey:ep,items:(0,v.range)(25).map(ex),renderRow:ed,size:"md"}),r[1]=a):a=r[1],a}function ex(){}function ep(e,n){return n}function eC(){}let eg=e=>{let x,p,C,g,S,f,v,T,j=(0,l.c)(18),{children:b}=e,N=(0,m.useTranslations)("PortfolioCollectionsTable"),L=(0,h.useProfileAddress)(),_=(0,t.usePathname)(),k=(0,y.isVanityPathname)(_),w=(0,y.getProfileUrlByIdentifier)(L,k);j[0]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)(i.IconCallout,{icon:d.AutoAwesomeMosaic,size:16,variant:"outlined"}),j[0]=x):x=j[0],j[1]!==N?(p=N("collectionsHeld"),j[1]=N,j[2]=p):p=j[2],j[3]!==p?(C=(0,n.jsxs)(r.FlexCenter,{className:"gap-3",children:[x,(0,n.jsx)(u.TextBody,{size:"md",weight:"semibold",children:p})]}),j[3]=p,j[4]=C):C=j[4];let A="".concat(w,"/items");return j[5]!==N?(g=N("viewAll"),j[5]=N,j[6]=g):g=j[6],j[7]!==A||j[8]!==g?(S=(0,n.jsx)(a.Button,{href:A,size:"sm",variant:"secondary",children:g}),j[7]=A,j[8]=g,j[9]=S):S=j[9],j[10]!==C||j[11]!==S?(f=(0,n.jsx)(o.Media,{greaterThanOrEqual:"lg",children:(0,n.jsxs)(c.SpaceBetween,{className:"border-border-1 border-b p-4",children:[C,S]})}),j[10]=C,j[11]=S,j[12]=f):f=j[12],j[13]!==b?(v=(0,n.jsx)(s.FlexColumn,{className:"h-[600px]",children:b}),j[13]=b,j[14]=v):v=j[14],j[15]!==f||j[16]!==v?(T=(0,n.jsxs)(n.Fragment,{children:[f,v]}),j[15]=f,j[16]=v,j[17]=T):T=j[17],T};function eS(e){let t,a=(0,l.c)(2),{persona:r}=e;return a[0]!==r?(t=(0,n.jsx)(eg,{children:(0,n.jsx)(eh,{persona:r})}),a[0]=r,a[1]=t):t=a[1],t}function ef(e){let t,a=(0,l.c)(2),{persona:r}=e;return a[0]!==r?(t=(0,n.jsx)(eg,{children:(0,n.jsx)(ey,{persona:r})}),a[0]=r,a[1]=t):t=a[1],t}},871659,e=>{"use strict";e.s(["PortfolioValueProvider",()=>s,"usePortfolioValueContext",()=>i]);var n=e.i(705378),l=e.i(590268),t=e.i(35720),a=e.i(969498);let r=(0,a.createContext)({timeframe:void 0,view:null,setTimeframe:()=>{},setView:()=>{},asset:"all",setAsset:()=>{}});function s(e){let s,i,o,c,u=(0,l.c)(11),{children:d,persona:m}=e,[h,y]=(0,a.useState)("ONE_DAY");u[0]!==m?(s=()=>"advanced"===m?"heatmap":"branded",u[0]=m,u[1]=s):s=u[1];let[x,p]=(0,a.useState)(s),[C,g]=(0,a.useState)("all");return u[2]!==m?(i=()=>{p("advanced"===m?"heatmap":"branded")},u[2]=m,u[3]=i):i=u[3],(0,t.useOnChange)(m,i),u[4]!==C||u[5]!==h||u[6]!==x?(o={timeframe:h,setTimeframe:y,view:x,setView:p,asset:C,setAsset:g},u[4]=C,u[5]=h,u[6]=x,u[7]=o):o=u[7],u[8]!==d||u[9]!==o?(c=(0,n.jsx)(r.Provider,{value:o,children:d}),u[8]=d,u[9]=o,u[10]=c):c=u[10],c}function i(){return(0,a.useContext)(r)}},367852,e=>{"use strict";e.s(["PortfolioOverview",()=>U,"PortfolioOverviewSkeleton",()=>q],367852);var n=e.i(705378),l=e.i(590268),t=e.i(528198),a=e.i(333799),r=e.i(254842),s=e.i(965523),i=e.i(258343),o=e.i(517481),c=e.i(136419),u=e.i(913868),d=e.i(570293),m=e.i(825504),h=e.i(238642),y=e.i(647291),x=e.i(545460),p=e.i(389852),C=e.i(165102),g=e.i(820130),S=e.i(950293),f=e.i(940704),v=e.i(871659);let T=["all","nfts","tokens"];function j(){let e,t,a,s,i,o=(0,l.c)(13),{asset:c,setAsset:u}=(0,v.usePortfolioValueContext)(),d=(0,f.useTranslations)("PortfolioAssetSelect");o[0]!==d?(e=e=>(0,n.jsxs)(r.Flex,{className:"gap-1.5",children:[(0,n.jsx)(C.Media,{greaterThanOrEqual:"lg",children:(0,n.jsxs)(S.TextBody,{color:"text-secondary",children:[d("asset"),":"]})}),(0,n.jsx)(S.TextBody,{children:d(e)})]}),o[0]=d,o[1]=e):e=o[1];let m=e;return o[2]!==u?(t=e=>u(e),o[2]=u,o[3]=t):t=o[3],o[4]!==m?(a=e=>m(e),o[4]=m,o[5]=a):a=o[5],o[6]!==d?(s=T.map(e=>(0,n.jsx)(g.SelectItem,{value:e,children:(0,n.jsx)(g.SelectItemContent,{children:(0,n.jsx)(g.SelectItemTitle,{children:d(e)})})},e)),o[6]=d,o[7]=s):s=o[7],o[8]!==c||o[9]!==t||o[10]!==a||o[11]!==s?(i=(0,n.jsx)(g.Select,{onValueChange:t,renderValue:a,value:c,children:s}),o[8]=c,o[9]=t,o[10]=a,o[11]=s,o[12]=i):i=o[12],i}var b=e.i(619272);function N(){let e,t,a,s,i,o=(0,l.c)(11),{timeframe:c,setTimeframe:u}=(0,v.usePortfolioValueContext)(),d=(0,f.useTranslations)("PortfolioTreeMapTimeframeSelect");o[0]!==d?(e=e=>(0,n.jsxs)(r.Flex,{className:"gap-1.5",children:[(0,n.jsx)(C.Media,{greaterThanOrEqual:"lg",children:(0,n.jsxs)(S.TextBody,{color:"text-secondary",children:[d("timeframe"),":"]})}),(0,n.jsx)(S.TextBody,{children:b.TIMEFRAME_TO_LABEL[e]})]}),o[0]=d,o[1]=e):e=o[1];let m=e;return o[2]!==u?(t=e=>u(e),o[2]=u,o[3]=t):t=o[3],o[4]!==m?(a=e=>m(e),o[4]=m,o[5]=a):a=o[5],o[6]===Symbol.for("react.memo_cache_sentinel")?(s=b.TIMEFRAME_OPTIONS.map(L),o[6]=s):s=o[6],o[7]!==t||o[8]!==a||o[9]!==c?(i=(0,n.jsx)(g.Select,{onValueChange:t,renderValue:a,value:c,children:s}),o[7]=t,o[8]=a,o[9]=c,o[10]=i):i=o[10],i}function L(e){return(0,n.jsx)(g.SelectItem,{value:e,children:(0,n.jsx)(g.SelectItemContent,{children:(0,n.jsx)(g.SelectItemTitle,{children:b.TIMEFRAME_TO_LABEL[e]})})},e)}let _=["branded","heatmap"];function k(){let e,t,a,s,i,o=(0,l.c)(13),{view:c,setView:u}=(0,v.usePortfolioValueContext)(),d=(0,f.useTranslations)("PortfolioTreeMapViewSelect");o[0]!==d?(e=e=>(0,n.jsxs)(r.Flex,{className:"gap-1.5",children:[(0,n.jsx)(C.Media,{greaterThanOrEqual:"lg",children:(0,n.jsxs)(S.TextBody,{color:"text-secondary",children:[d("type"),":"]})}),(0,n.jsx)(S.TextBody,{children:"branded"===e?d("asset"):d("heatmap")})]}),o[0]=d,o[1]=e):e=o[1];let m=e;o[2]!==u?(t=e=>u(e),o[2]=u,o[3]=t):t=o[3],o[4]!==m?(a=e=>m(e),o[4]=m,o[5]=a):a=o[5];let h=null!=c?c:"branded";return o[6]!==d?(s=_.map(e=>(0,n.jsx)(g.SelectItem,{value:e,children:(0,n.jsx)(g.SelectItemContent,{children:(0,n.jsx)(g.SelectItemTitle,{children:"branded"===e?d("asset"):d("heatmap")})})},e)),o[6]=d,o[7]=s):s=o[7],o[8]!==t||o[9]!==a||o[10]!==h||o[11]!==s?(i=(0,n.jsx)(g.Select,{onValueChange:t,renderValue:a,value:h,children:s}),o[8]=t,o[9]=a,o[10]=h,o[11]=s,o[12]=i):i=o[12],i}var w=e.i(747998),A=e.i(646426),O=e.i(392024),P=e.i(861316),E=e.i(969498),I=e.i(163301),F=e.i(806056);let V=(0,t.graphql)("\n    query PortfolioWalletSelectQuery($addresses: [Address!]!) {\n      profilesByAddresses(addresses: $addresses) {\n        __typename\n        ... on Profile {\n          address\n          ...AccountLockup\n        }\n      }\n    }\n  ",[A.AccountLockupFragment]);function B(e){let t,a,s,i,o,c,u,d=(0,l.c)(19),{profiles:m,selectedAddress:h,onSelectAddress:y}=e,x=(0,f.useTranslations)("PortfolioWalletSelect");d[0]!==m||d[1]!==x?(t=e=>{let l="all"===e?null:m.find(n=>(0,P.isAddressEqual)(n.address,e));return(0,n.jsxs)(r.Flex,{className:"gap-1.5",children:[(0,n.jsx)(C.Media,{greaterThanOrEqual:"lg",children:(0,n.jsxs)(S.TextBody,{color:"text-secondary",children:[x("wallet"),":"]})}),"all"!==e&&l?(0,n.jsxs)(w.AccountLockup,{account:l,isLink:!1,showDisplayName:!0,size:"sm",children:[(0,n.jsx)(w.AccountLockupAvatar,{size:20}),(0,n.jsx)(O.LockupContent,{children:(0,n.jsx)(w.AccountLockupTitle,{badge:null})})]}):(0,n.jsx)(S.TextBody,{children:x("allWallets")})]})},d[0]=m,d[1]=x,d[2]=t):t=d[2];let p=t;return d[3]!==y?(a=e=>y(e),d[3]=y,d[4]=a):a=d[4],d[5]!==p?(s=e=>p(e),d[5]=p,d[6]=s):s=d[6],d[7]!==x?(i=x("allWallets"),d[7]=x,d[8]=i):i=d[8],d[9]!==i?(o=(0,n.jsx)(g.SelectItem,{value:"all",children:(0,n.jsx)(g.SelectItemContent,{children:(0,n.jsx)(S.TextBody,{children:i})})}),d[9]=i,d[10]=o):o=d[10],d[11]!==m?(c=m.map(M),d[11]=m,d[12]=c):c=d[12],d[13]!==h||d[14]!==a||d[15]!==s||d[16]!==o||d[17]!==c?(u=(0,n.jsxs)(g.Select,{onValueChange:a,renderValue:s,value:h,children:[o,c]}),d[13]=h,d[14]=a,d[15]=s,d[16]=o,d[17]=c,d[18]=u):u=d[18],u}function M(e){return(0,n.jsx)(g.SelectItem,{value:e.address,children:(0,n.jsx)(g.SelectItemContent,{children:(0,n.jsxs)(w.AccountLockup,{account:e,isLink:!1,showDisplayName:!0,size:"sm",children:[(0,n.jsx)(w.AccountLockupAvatar,{size:24}),(0,n.jsx)(O.LockupContent,{children:(0,n.jsx)(w.AccountLockupTitle,{badge:null})})]})})},e.address)}let D=(0,p.withSuspense)(()=>{var e,l;let t=(0,F.useIsAccountProfileMigrationEnabled)(),r=(0,y.useProfileAddress)(),s=(0,y.useProfileLinkedAddresses)(),{addresses:i,setAddresses:o}=(0,I.useAddressesQueryParam)(),[{data:c}]=(0,a.useQuery)({query:V,variables:{addresses:s},pause:!(t&&r)||0===s.length}),u=null!=(l=null==c||null==(e=c.profilesByAddresses)?void 0:e.filter(e=>"Profile"===e.__typename))?l:[],d=s.length>1;if((0,E.useEffect)(()=>{d&&(i.length>1||1===i.length&&!s.some(e=>(0,P.isAddressEqual)(e,i[0])))&&o(null)},[i,s,o,d]),!d)return null;let m=1===i.length?i[0]:"all",h=async e=>{"all"===e?await o(null):await o([e])};return(0,n.jsx)(B,{onSelectAddress:h,profiles:u,selectedAddress:m})},{fallback:()=>null}),R=(0,t.graphql)("\n  query PortfolioOverviewQuery($accountId: String, $addresses: [Address!]!) {\n    userPortfolio(accountId: $accountId, addresses: $addresses) {\n      summary {\n        estimatedValue {\n          ...Volume\n        }\n      }\n    }\n  }\n",[m.VolumeFragment]);function $(e){let t,a,o,c,u,d,m,h=(0,l.c)(12),{children:x}=e,p=(0,y.useProfileKind)();return h[0]!==x?(t=(0,n.jsx)(s.FlexColumn,{className:"w-full gap-3",children:x}),h[0]=x,h[1]=t):t=h[1],h[2]!==p?(a="ACCOUNT"===p?(0,n.jsx)(D,{}):null,h[2]=p,h[3]=a):a=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(N,{}),c=(0,n.jsx)(k,{}),u=(0,n.jsx)(j,{}),h[4]=o,h[5]=c,h[6]=u):(o=h[4],c=h[5],u=h[6]),h[7]!==a?(d=(0,n.jsxs)(r.Flex,{className:"gap-2",children:[a,o,c,u]}),h[7]=a,h[8]=d):d=h[8],h[9]!==t||h[10]!==d?(m=(0,n.jsxs)(i.SpaceBetween,{className:"flex-col items-start gap-3 lg:flex-row lg:items-end",children:[t,d]}),h[9]=t,h[10]=d,h[11]=m):m=h[11],m}let U=(0,p.withSuspense)(()=>{var e,l,t;let r=(0,y.useProfileAccountId)(),s=(0,u.useProfileSelectedAddresses)(),i=(0,y.useIsOwnProfileAddress)(),m=(0,c.useContextSelector)(x.ProfileSettingsContext,e=>e.hideWalletWorth),[{data:p}]=(0,a.useQuery)({query:R,variables:{accountId:r,addresses:s},pause:0===s.length}),C=null==p||null==(t=p.userPortfolio)||null==(l=t.summary)||null==(e=l[0])?void 0:e.estimatedValue;return(0,n.jsx)($,{children:(0,n.jsx)(o.TextDisplay,{size:"md",children:i&&m?(0,n.jsx)(h.AsteriskText,{}):(0,n.jsx)(d.Volume,{currencyOverride:"usd",display:"standard",volume:C})})})},{fallback:()=>(0,n.jsx)(q,{}),errorFallback:()=>(0,n.jsx)(q,{})});function q(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)($,{children:(0,n.jsx)(o.TextDisplaySkeleton,{className:"h-10 w-[200px]",size:"md"})}),t[0]=e):e=t[0],e}},589834,e=>{"use strict";e.s(["MobilePortfolioTables",()=>x]);var n=e.i(705378),l=e.i(590268),t=e.i(971823),a=e.i(502732),r=e.i(39771),s=e.i(258343),i=e.i(268288),o=e.i(832830),c=e.i(341819),u=e.i(309980),d=e.i(940704),m=e.i(969498),h=e.i(647291),y=e.i(186677);function x(e){let x,p,C,g,S,f,v,T,j,b,N,L,_=(0,l.c)(27),{collectionsTable:k,tokensTable:w}=e,A=(0,d.useTranslations)("PortfolioTables"),[O,P]=(0,m.useState)("collections");_[0]!==A?(x=A("collections"),_[0]=A,_[1]=x):x=_[1],_[2]===Symbol.for("react.memo_cache_sentinel")?(p=(0,n.jsx)(c.AutoAwesomeMosaic,{size:16}),_[2]=p):p=_[2],_[3]!==x?(C={label:x,icon:p},_[3]=x,_[4]=C):C=_[4],_[5]!==A?(g=A("tokens"),_[5]=A,_[6]=g):g=_[6],_[7]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsx)(u.Toll,{size:16}),_[7]=S):S=_[7],_[8]!==g?(f={label:g,icon:S},_[8]=g,_[9]=f):f=_[9],_[10]!==C||_[11]!==f?(v={collections:C,tokens:f},_[10]=C,_[11]=f,_[12]=v):v=_[12];let E=v,I=(0,h.useProfileAddress)(),F=(0,t.usePathname)(),V=(0,y.isVanityPathname)(F),B=(0,y.getProfileUrlByIdentifier)(I,V),M="collections"===O?"".concat(B,"/items"):"".concat(B,"/tokens");_[13]!==E?(T=Object.keys(E),_[13]=E,_[14]=T):T=_[14],_[15]!==O||_[16]!==T||_[17]!==E?(j=(0,n.jsx)(r.FlexCenter,{className:"gap-2",children:T.map(e=>(0,n.jsx)(i.SwitchPill,{checked:e===O,onClick:()=>P(e),size:"md",children:(0,n.jsxs)(r.FlexCenter,{className:"gap-1",children:[E[e].icon,E[e].label]})},e))}),_[15]=O,_[16]=T,_[17]=E,_[18]=j):j=_[18],_[19]!==M?(b=(0,n.jsx)(a.Button,{href:M,icon:o.ArrowOutward,size:"sm",variant:"secondary"}),_[19]=M,_[20]=b):b=_[20],_[21]!==b||_[22]!==j?(N=(0,n.jsxs)(s.SpaceBetween,{className:"border-border-1 border-b p-4",children:[j,b]}),_[21]=b,_[22]=j,_[23]=N):N=_[23];let D="collections"===O?k:w;return _[24]!==N||_[25]!==D?(L=(0,n.jsxs)(n.Fragment,{children:[N,D]}),_[24]=N,_[25]=D,_[26]=L):L=_[26],L}},638339,e=>{"use strict";e.s(["PortfolioPulseCheck",()=>es],638339);var n=e.i(705378),l=e.i(590268),t=e.i(254842),a=e.i(965523),r=e.i(718813),s=e.i(258343),i=e.i(950293),o=e.i(969498),c=e.i(790621),u=e.i(437153);let d=(0,o.forwardRef)(function(e,t){let a,r,s,i,o,d,m,h,y=(0,l.c)(16);y[0]!==e?({size:s,fill:i,fillAttribute:o,className:a,...r}=e,y[0]=e,y[1]=a,y[2]=r,y[3]=s,y[4]=i,y[5]=o):(a=y[1],r=y[2],s=y[3],i=y[4],o=y[5]);let x=void 0===s?24:s,p=void 0===i?"current":i,C=void 0===o?"currentColor":o;return y[6]!==a||y[7]!==p?(d=(0,u.classNames)((0,c.fillVariants)({fill:p}),a),y[6]=a,y[7]=p,y[8]=d):d=y[8],y[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)("path",{d:"M360-160q-19 0-34-11t-22-28l-92-241H40v-80h228l92 244 184-485q7-17 22-28t34-11q19 0 34 11t22 28l92 241h172v80H692l-92-244-184 485q-7 17-22 28t-34 11Z"}),y[9]=m):m=y[9],y[10]!==C||y[11]!==t||y[12]!==r||y[13]!==x||y[14]!==d?(h=(0,n.jsx)("svg",{"aria-label":"Vital Signs",className:d,fill:C,height:x,ref:t,role:"img",viewBox:"0 -960 960 960",width:x,xmlns:"http://www.w3.org/2000/svg",...r,children:m}),y[10]=C,y[11]=t,y[12]=r,y[13]=x,y[14]=d,y[15]=h):h=y[15],h});var m=e.i(940704),h=e.i(794835),y=e.i(439765),x=e.i(682576),p=e.i(508833),C=e.i(22764),g=e.i(81810),S=e.i(528198),f=e.i(333799),v=e.i(601056),T=e.i(519078),j=e.i(861993),b=e.i(39771),N=e.i(738480),L=e.i(999258),_=e.i(310578),k=e.i(266341),w=e.i(14204),A=e.i(44826),O=e.i(668493),P=e.i(609644),E=e.i(142804),I=e.i(601318),F=e.i(430903),V=e.i(959105),B=e.i(913868),M=e.i(825504),D=e.i(647291),R=e.i(389852),$=e.i(806056),U=e.i(871659);let q=(0,S.graphql)("\n    query PortfolioHighMoversQuery(\n      $address: Address!\n      $addresses: [Address!]!\n      $accountId: String\n      $useTokenGrouping: Boolean!\n    ) {\n      userTopCollections(\n        accountId: $accountId\n        addresses: $addresses\n        sort: { by: FLOOR_PRICE, direction: DESC }\n        limit: 20\n      ) {\n        items {\n          id\n          slug\n          name\n          isVerified\n          ownership(address: $address) {\n            totalQuantity\n            value {\n              ...Volume\n            }\n          }\n          accountOwnership(accountId: $accountId) {\n            totalQuantity\n            value {\n              ...Volume\n            }\n          }\n          stats {\n            oneDay {\n              floorPriceChange\n            }\n          }\n          floorPrice {\n            pricePerItem {\n              token {\n                unit\n                symbol\n              }\n              usd\n            }\n          }\n          ...CollectionLockup\n          ...FloorPriceSparkLineChart\n          ...CollectionLink\n        }\n      }\n\n      userCurrencyOwnershipsV2(\n        accountId: $accountId\n        addresses: $addresses\n        limit: 20\n        useTokenGrouping: $useTokenGrouping\n      ) {\n        items {\n          __typename\n          id\n          ... on CurrencyBalanceV2 {\n            quantity\n            usdValue\n            asset {\n              id\n              usdPrice\n              stats {\n                oneDay {\n                  priceChange\n                }\n              }\n              ...CurrencyV2Lockup\n              ...CurrencyV2Link\n              ...CurrencySparkLineChartSevenDay\n            }\n          }\n          ... on TokenGroupBalanceV2 {\n            quantity\n            usdValue\n            asset {\n              primaryCurrency {\n                id\n                usdPrice\n                stats {\n                  oneDay {\n                    priceChange\n                  }\n                }\n                ...CurrencyV2Lockup\n                ...CurrencyV2Link\n                ...CurrencySparkLineChartSevenDay\n              }\n            }\n            underlyingBalances {\n              __typename\n            }\n          }\n        }\n      }\n    }\n  ",[x.CollectionLockupFragment,A.FloorPriceSparkLineChartFragment,V.CollectionLinkFragment,M.VolumeFragment,P.CurrencyV2LinkFragment,g.CurrencyV2LockupFragment,I.CurrencySparkLineChartSevenDayFragment]),H=(0,R.withSuspense)(()=>{var e,l,r,o,c;let u=(0,m.useTranslations)("PortfolioHighMovers"),d=(0,D.useProfileAddress)(),x=(0,D.useProfileAccountId)(),g=(0,B.useProfileSelectedAddresses)(),{asset:S}=(0,U.usePortfolioValueContext)(),_=(0,$.useTokenGroupingEnabled)(),[{data:A}]=(0,f.useQuery)({query:q,variables:{accountId:x,addresses:g,address:null!=d?d:"",useTokenGrouping:_},pause:0===g.length||!d}),P=null!=(o=null==A||null==(e=A.userTopCollections)?void 0:e.items)?o:[],I=null!=(c=null==A||null==(r=A.userCurrencyOwnershipsV2)||null==(l=r.items)?void 0:l.filter(e=>"CurrencyBalanceV2"===e.__typename||"TokenGroupBalanceV2"===e.__typename))?c:[],V=e=>"number"==typeof e?e:Number(null!=e?e:0),M=P.map(e=>{var n,l,t,a,r,s,i,o,c,u;let d=V(null!=(i=null==(l=e.stats)||null==(n=l.oneDay)?void 0:n.floorPriceChange)?i:0),m=V(null!=(c=null!=(o=null==(t=e.accountOwnership)?void 0:t.totalQuantity)?o:null==(a=e.ownership)?void 0:a.totalQuantity)?c:0),h=V(null!=(u=null==(s=e.floorPrice)||null==(r=s.pricePerItem)?void 0:r.usd)?u:0),y=m*(h-h/(1+d));return{kind:"collection",id:e.id,valueChangeUsd:y,isPositive:y>0,quantity:m,collection:e}}),R=I.filter(e=>{if("TokenGroupBalanceV2"===e.__typename){var n;return(null==(n=e.asset)?void 0:n.primaryCurrency)!=null}return!0}).map(e=>{var n,l,t,a,r,s,i,o;let c="TokenGroupBalanceV2"===e.__typename,u=c?null==(n=e.asset)?void 0:n.primaryCurrency:e.asset,d=c&&null!=(r=null==(l=e.underlyingBalances)?void 0:l.filter(e=>(null==e?void 0:e.__typename)==="CurrencyBalanceV2").length)?r:0,m=V(null!=(s=null==u||null==(a=u.stats)||null==(t=a.oneDay)?void 0:t.priceChange)?s:0),h=V(null!=(i=e.usdValue)?i:0),y=h-h/(1+m);return{kind:"currency",id:e.id,valueChangeUsd:y,isPositive:y>0,quantity:null!=(o=e.quantity)?o:0,balance:e,currency:u,isTokenGroup:c,underlyingCount:d}}),H=("nfts"===S?M:"tokens"===S?R:[...M,...R]).sort((e,n)=>Math.abs(n.valueChangeUsd)-Math.abs(e.valueChangeUsd)).slice(0,2);return 0===H.length?(0,n.jsx)(z,{}):(0,n.jsxs)(a.FlexColumn,{className:"w-full justify-center gap-4",children:[(0,n.jsx)(i.TextBody,{size:"md",weight:"semibold",children:u("title")}),(0,n.jsx)(a.FlexColumn,{className:"gap-3",children:H.map(e=>{if("collection"===e.kind){let{collection:l,quantity:a,isPositive:r,valueChangeUsd:o}=e;return(0,n.jsx)(F.CollectionLink,{collection:l,children:(0,n.jsx)(j.Card,{className:"min-h-[82px] bg-bg-primary-transparent p-4",children:(0,n.jsxs)(s.SpaceBetween,{className:"items-center",children:[(0,n.jsxs)(h.CollectionLockup,{className:"flex-1",collection:l,size:"md",children:[(0,n.jsx)(h.CollectionLockupAvatar,{badge:null}),(0,n.jsxs)(y.CollectionLockupContent,{className:"flex-col items-start gap-1",children:[(0,n.jsx)(h.CollectionLockupTitle,{}),(0,n.jsxs)(t.Flex,{className:"w-full items-center gap-3",children:[(0,n.jsx)(k.TextLabel,{color:"text-secondary",children:u.rich("held",{quantity:()=>(0,n.jsx)(N.NumberDisplay,{display:"quantity",value:a})})}),(0,n.jsx)(L.Separator,{className:"h-full",orientation:"vertical"}),(0,n.jsx)(i.TextBody,{className:r?"text-success-1":"text-error-1",weight:"semibold",children:(0,n.jsx)(N.NumberDisplay,{display:"usd",prefix:r?"+":"",value:o})})]})]})]}),(0,n.jsx)(b.FlexCenter,{className:"h-12 w-20",children:(0,n.jsx)(w.FloorPriceSparkLineChart,{className:"h-full w-full",collection:l})})]})})},"col-".concat(e.id))}let{currency:l,quantity:a,isPositive:r,valueChangeUsd:o,isTokenGroup:c,underlyingCount:d}=e;return(0,n.jsx)(O.CurrencyLink,{currency:l,children:(0,n.jsx)(j.Card,{className:"min-h-[82px] bg-bg-primary-transparent p-4",children:(0,n.jsxs)(s.SpaceBetween,{className:"items-center",children:[(0,n.jsxs)(v.Item,{className:"flex-1",variant:"unstyled",children:[(0,n.jsx)(p.CurrencyLockup,{className:"w-auto",currency:l,size:"md",children:(0,n.jsx)(p.CurrencyLockupAvatar,{badge:c&&d>1?null:void 0})}),(0,n.jsxs)(T.ItemContent,{className:"flex-col items-start gap-1",children:[(0,n.jsx)(p.CurrencyLockup,{currency:l,showAvatar:!1,size:"md",children:(0,n.jsx)(C.CurrencyLockupContent,{children:(0,n.jsxs)(t.Flex,{className:"items-center gap-1",children:[(0,n.jsx)(p.CurrencyLockupTitle,{weight:"regular"}),c&&d>1?(0,n.jsxs)(i.TextBody,{color:"text-secondary",size:"sm",children:["(",d,")"]}):null,(0,n.jsx)(p.CurrencyLockupBadge,{})]})})}),(0,n.jsxs)(t.Flex,{className:"w-full items-center gap-3",children:[(0,n.jsx)(k.TextLabel,{color:"text-secondary",children:u.rich("held",{quantity:()=>(0,n.jsx)(N.NumberDisplay,{display:"compact",value:a})})}),(0,n.jsx)(L.Separator,{className:"h-full",orientation:"vertical"}),(0,n.jsx)(i.TextBody,{className:r?"text-success-1":"text-error-1",weight:"semibold",children:(0,n.jsx)(N.NumberDisplay,{display:"usd",prefix:r?"+":"",value:o})})]})]})]}),(0,n.jsx)(b.FlexCenter,{className:"h-12 w-20",children:(0,n.jsx)(E.CurrencySparkLineChart,{className:"h-full w-full",currency:l,timeframe:"SEVEN_DAYS"})})]})})},"cur-".concat(e.id))})})]})},{fallback:()=>(0,n.jsx)(z,{})});function z(){let e,t,r,s,o=(0,l.c)(7),c=(0,m.useTranslations)("PortfolioHighMovers");return o[0]!==c?(e=c("title"),o[0]=c,o[1]=e):e=o[1],o[2]!==e?(t=(0,n.jsx)(i.TextBody,{size:"md",weight:"semibold",children:e}),o[2]=e,o[3]=t):t=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(a.FlexColumn,{className:"gap-3",children:[,,].fill(0).map(G)}),o[4]=r):r=o[4],o[5]!==t?(s=(0,n.jsxs)(a.FlexColumn,{className:"w-full gap-4",children:[t,r]}),o[5]=t,o[6]=s):s=o[6],s}function G(e,l){return(0,n.jsx)(j.Card,{className:"bg-bg-primary-transparent p-4",children:(0,n.jsxs)(s.SpaceBetween,{className:"w-full",children:[(0,n.jsx)(t.Flex,{className:"w-[180px]",children:(0,n.jsxs)(a.FlexColumn,{className:"w-full gap-2",children:[(0,n.jsx)(_.SkeletonLine,{className:"w-[100px]"}),(0,n.jsx)(_.SkeletonLine,{})]})}),(0,n.jsx)(_.SkeletonBlock,{className:"w-[100px]"})]})},l)}var Q=e.i(573762),K=e.i(457628),Y=e.i(136419),W=e.i(545460),X=e.i(625236),Z=e.i(570293),J=e.i(238642);function ee(e){let t,r,s,o,c=(0,l.c)(10),{title:u,value:d,label:m}=e;return c[0]!==u?(t=(0,n.jsx)(i.TextBody,{className:"uppercase tracking-wider",color:"text-secondary",size:"xs",children:u}),c[0]=u,c[1]=t):t=c[1],c[2]!==d?(r=(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(X.TextHeading,{size:"sm",children:d})}),c[2]=d,c[3]=r):r=c[3],c[4]!==m?(s=m?(0,n.jsx)(i.TextBody,{className:"font-mono uppercase tracking-wider",color:"text-secondary",size:"xs",children:m}):null,c[4]=m,c[5]=s):s=c[5],c[6]!==t||c[7]!==r||c[8]!==s?(o=(0,n.jsxs)(a.FlexColumn,{className:"items-center gap-1",children:[t,r,s]}),c[6]=t,c[7]=r,c[8]=s,c[9]=o):o=c[9],o}function en(e){let t,a,r,s,i,o,c,u,d,h,y,x,p=(0,l.c)(36),{tokenCount:C,itemCount:g,hasMoreItems:S,nftPercentage:f,tokenPercentage:v,estimatedValue:T,displayMode:j,hideNetWorth:b}=e,N=void 0!==b&&b,L=(0,m.useTranslations)("PulseCheckBreakdown"),_=!!T;p[0]!==L?(t=L("totalValue"),p[0]=L,p[1]=t):t=p[1],p[2]!==T||p[3]!==N?(a=N?(0,n.jsx)(J.AsteriskText,{}):(0,n.jsx)(Z.Volume,{currencyOverride:"usd",volume:T}),p[2]=T,p[3]=N,p[4]=a):a=p[4],p[5]!==t||p[6]!==a?(r=(0,n.jsx)(ee,{title:t,value:a}),p[5]=t,p[6]=a,p[7]=r):r=p[7];let k=r;p[8]!==L||p[9]!==C?(s=L("numberOfTokens",{quantity:C}),p[8]=L,p[9]=C,p[10]=s):s=p[10],p[11]!==L?(i=L("tokenValue"),p[11]=L,p[12]=i):i=p[12],p[13]!==T||p[14]!==N||p[15]!==v?(o=N?(0,n.jsx)(J.AsteriskText,{}):(0,n.jsx)(Z.Volume,{multiplier:v,volume:T}),p[13]=T,p[14]=N,p[15]=v,p[16]=o):o=p[16],p[17]!==s||p[18]!==i||p[19]!==o?(c=(0,n.jsx)(ee,{label:s,title:i,value:o}),p[17]=s,p[18]=i,p[19]=o,p[20]=c):c=p[20];let w=c,A="".concat(String(g)).concat(S?"+":"");p[21]!==L||p[22]!==A?(u=L("numberOfNfts",{quantity:A}),p[21]=L,p[22]=A,p[23]=u):u=p[23],p[24]!==L?(d=L("nftValue"),p[24]=L,p[25]=d):d=p[25],p[26]!==T||p[27]!==N||p[28]!==f?(h=N?(0,n.jsx)(J.AsteriskText,{}):(0,n.jsx)(Z.Volume,{multiplier:f,volume:T}),p[26]=T,p[27]=N,p[28]=f,p[29]=h):h=p[29],p[30]!==u||p[31]!==d||p[32]!==h?(y=(0,n.jsx)(ee,{label:u,title:d,value:h}),p[30]=u,p[31]=d,p[32]=h,p[33]=y):y=p[33];let O=y;e:{if(!_){let e;p[34]!==L?(e=L("noValue"),p[34]=L,p[35]=e):e=p[35],x=e;break e}switch(void 0===j?"all":j){case"all":x=k;break e;case"nfts":x=O;break e;case"tokens":x=w;break e;default:x=k}}return x}let el=(0,S.graphql)("\n    query PulseCheckBreakdownQuery($accountId: String, $addresses: [Address!]!) {\n      userPortfolio(accountId: $accountId, addresses: $addresses) {\n        summary {\n          nftPercentageOfPortfolio\n          tokenPercentageOfPortfolio\n          estimatedValue {\n            ...Volume\n          }\n        }\n      }\n      userCurrencyOwnershipsV2(accountId: $accountId, addresses: $addresses) {\n        individualCurrencyCount\n      }\n      userItemsCount(accountId: $accountId, addresses: $addresses) {\n        count\n        hasMore\n      }\n    }\n  ",[M.VolumeFragment]),et=(0,R.withSuspense)(()=>{var e,l,t,r;let s=(0,D.useProfileAccountId)(),c=(0,B.useProfileSelectedAddresses)(),d=(0,D.useIsOwnProfileAddress)(),h=(0,Y.useContextSelector)(W.ProfileSettingsContext,e=>e.hideWalletWorth),y=(0,m.useTranslations)("PulseCheckBreakdown"),{asset:x,setAsset:p}=(0,U.usePortfolioValueContext)(),[{data:C}]=(0,f.useQuery)({query:el,variables:{accountId:s,addresses:c},pause:0===c.length}),g=null==C||null==(l=C.userPortfolio)||null==(e=l.summary)?void 0:e[0],S=null!=(t=null==g?void 0:g.nftPercentageOfPortfolio)?t:0,v=null!=(r=null==g?void 0:g.tokenPercentageOfPortfolio)?r:0,T="tokens"===x,j="nfts"===x,L=d&&h,_=(0,o.useMemo)(()=>[{label:y("nfts"),type:"nfts",value:S,color:"rgb(var(--color-epic))",gradient:{from:"rgb(var(--color-pink-1))",to:"rgb(var(--color-purple-1))",offset:"4%"},className:"tokens"===x?"opacity-40":void 0},{label:y("tokens"),type:"tokens",value:v,color:"rgb(var(--color-blue-3))",gradient:{from:"rgb(var(--color-blue-6))",to:"rgb(var(--color-blue-7))"},className:"nfts"===x?"opacity-40":void 0}],[S,v,y,x]),k=e=>{e===x?p("all"):p(e)};return g?(0,n.jsxs)(b.FlexCenter,{className:"justify-center gap-4 sm:gap-8",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(Q.DonutChart,{ariaLabel:y("portfolioBreakdownChart",{nftPercentage:S.toFixed(0),tokenPercentage:v.toFixed(0)}),data:_,getClassName:e=>e.className,getColor:e=>e.color,getGradient:e=>e.gradient,getLabel:e=>e.label,getValue:e=>e.value,onSegmentClick:e=>{k(e.type)},padAngle:.02,renderCenter:()=>{var e,l,t,a;return(0,n.jsx)(en,{displayMode:x,estimatedValue:null==g?void 0:g.estimatedValue,hasMoreItems:!!(null==C||null==(e=C.userItemsCount)?void 0:e.hasMore),hideNetWorth:L,itemCount:null!=(a=null==C||null==(l=C.userItemsCount)?void 0:l.count)?a:0,nftPercentage:S,tokenCount:(null==C||null==(t=C.userCurrencyOwnershipsV2)?void 0:t.individualCurrencyCount)||0,tokenPercentage:v})},renderTooltip:e=>{let{item:l}=e;return(0,n.jsxs)(a.FlexColumn,{className:"gap-1",children:[(0,n.jsx)(i.TextBody,{weight:"semibold",children:l.label}),(0,n.jsx)(i.TextBody,{color:"text-secondary",children:(0,n.jsx)(N.NumberDisplay,{display:"percent",value:l.value})})]})},showEmptyState:!0,size:200,thickness:24})}),(0,n.jsxs)(a.FlexColumn,{className:"min-w-0 gap-3",children:[(0,n.jsx)(K.UnstyledButton,{onClick:()=>k("nfts"),children:(0,n.jsxs)(b.FlexCenter,{className:(0,u.classNames)("gap-3 transition-opacity duration-200",T?"opacity-40":void 0),children:[(0,n.jsx)("div",{"aria-hidden":"true",className:"h-3 w-3 flex-shrink-0 rounded-full",style:{background:"linear-gradient(135deg, rgb(var(--color-pink-1)), rgb(var(--color-purple-1)))"}}),(0,n.jsx)(i.TextBody,{className:"truncate",weight:"semibold",children:y("nfts")}),(0,n.jsx)(i.TextBody,{className:"ml-auto",color:"text-secondary",children:(0,n.jsx)(N.NumberDisplay,{display:"percent",value:S})})]})}),(0,n.jsx)(K.UnstyledButton,{onClick:()=>k("tokens"),children:(0,n.jsxs)(b.FlexCenter,{className:(0,u.classNames)("gap-3 transition-opacity duration-200",j?"opacity-40":void 0),children:[(0,n.jsx)("div",{"aria-hidden":"true",className:"h-3 w-3 flex-shrink-0 rounded-full",style:{background:"linear-gradient(135deg, rgb(var(--color-blue-6)), rgb(var(--color-blue-7)))"}}),(0,n.jsx)(i.TextBody,{className:"truncate",weight:"semibold",children:y("tokens")}),(0,n.jsx)(i.TextBody,{className:"ml-auto",color:"text-secondary",children:(0,n.jsx)(N.NumberDisplay,{display:"percent",value:v})})]})})]})]}):(0,n.jsx)(ea,{})},{fallback:()=>(0,n.jsx)(ea,{})});function ea(){let e,r,s=(0,l.c)(2);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"h-[200px] w-[200px] animate-pulse rounded-full bg-bg-secondary"}),s[0]=e):e=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsxs)(t.Flex,{className:"items-center gap-8",children:[e,(0,n.jsxs)(a.FlexColumn,{className:"gap-3",children:[(0,n.jsx)("div",{className:"h-4 w-24 animate-pulse rounded bg-bg-secondary"}),(0,n.jsx)("div",{className:"h-4 w-24 animate-pulse rounded bg-bg-secondary"})]})]}),s[1]=r):r=s[1],r}function er(e){let o,c,u,h,y,x,p,C=(0,l.c)(15),{breakdown:g,highMovers:S}=e,f=(0,m.useTranslations)("PortfolioPulseCheck");return C[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(r.IconCallout,{icon:d,size:16,variant:"outlined"}),C[0]=o):o=C[0],C[1]!==f?(c=f("pulseCheck"),C[1]=f,C[2]=c):c=C[2],C[3]!==c?(u=(0,n.jsx)(s.SpaceBetween,{className:"border-border-1 border-b p-4",children:(0,n.jsxs)(t.Flex,{className:"items-center gap-3",children:[o,(0,n.jsx)(i.TextBody,{size:"md",weight:"semibold",children:c})]})}),C[3]=c,C[4]=u):u=C[4],C[5]!==g?(h=(0,n.jsx)("div",{className:"w-full lg:w-1/2 xl:w-full",children:g}),C[5]=g,C[6]=h):h=C[6],C[7]!==S?(y=(0,n.jsx)("div",{className:"w-full lg:w-1/2 xl:w-full",children:S}),C[7]=S,C[8]=y):y=C[8],C[9]!==h||C[10]!==y?(x=(0,n.jsxs)(a.FlexColumn,{className:"items-center gap-6 p-4 lg:flex-row xl:flex-col",children:[h,y]}),C[9]=h,C[10]=y,C[11]=x):x=C[11],C[12]!==u||C[13]!==x?(p=(0,n.jsxs)(a.FlexColumn,{className:"rounded-lg border border-border-1 bg-bg-primary",children:[u,x]}),C[12]=u,C[13]=x,C[14]=p):p=C[14],p}function es(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(er,{breakdown:(0,n.jsx)(et,{}),highMovers:(0,n.jsx)(H,{})}),t[0]=e):e=t[0],e}},440625,e=>{"use strict";e.s(["PortfolioTokens",()=>ex],440625);var n=e.i(705378),l=e.i(590268),t=e.i(971823),a=e.i(502732),r=e.i(39771),s=e.i(965523),i=e.i(718813),o=e.i(165102),c=e.i(258343),u=e.i(950293),d=e.i(309980),m=e.i(940704),h=e.i(647291),y=e.i(186677),x=e.i(528198),p=e.i(104062),C=e.i(438249),g=e.i(960243),S=e.i(969498),f=e.i(913868),v=e.i(756344),T=e.i(389852),j=e.i(771968),b=e.i(532500),N=e.i(919434),L=e.i(806056),_=e.i(444501),k=e.i(508833),w=e.i(22764),A=e.i(81810),O=e.i(635341),P=e.i(601056),E=e.i(437153),I=e.i(738480),F=e.i(81303),V=e.i(28067),B=e.i(984335),M=e.i(190719),D=e.i(668493),R=e.i(609644);e.i(1075);var $=e.i(614055),U=e.i(489669);e.i(513736);var q=e.i(142804),H=e.i(601318),z=e.i(660422),G=e.i(445329),Q=e.i(619272),K=e.i(519078);let Y=(0,x.graphql)("\n    fragment PortfolioTokensTableRow on CurrencyBalanceV2 {\n      id\n      quantity\n      usdValue\n      asset {\n        id\n        name\n        symbol\n        imageUrl\n        usdPrice\n        contractAddress\n        stats {\n          marketCapUsd\n          oneDay {\n            volume\n            priceChange\n          }\n          sevenDay {\n            priceChange\n          }\n        }\n        ...CurrencySparkLineChartSevenDay\n        ...CurrencyV2Link\n        ...CurrencyPreviewTooltip\n        ...CurrencyV2Lockup\n      }\n    }\n  ",[H.CurrencySparkLineChartSevenDayFragment,R.CurrencyV2LinkFragment,U.CurrencyPreviewTooltipFragment,A.CurrencyV2LockupFragment]);var W=e.i(167368),X=e.i(310578),Z=e.i(747460);function J(){let e,t,a,r,s,i,o,c,u,d,m,h=(0,l.c)(24),{size:y}=(0,B.useTable)(),{image:x}=(0,Z.tableRowSizeVariants)({size:y}),p=(0,G.useStatsSparklineChartClassName)(),C=(0,L.useIsPortfolioGainColumnEnabled)(),g=V.TableRow,S=F.TableCell,f=Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES,v=P.Item,T=P.ItemAvatar,j=x();return h[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(X.SkeletonBlock,{className:"rounded-full"}),h[0]=e):e=h[0],h[1]!==T||h[2]!==j?(t=(0,n.jsx)(T,{className:j,children:e}),h[1]=T,h[2]=j,h[3]=t):t=h[3],h[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(K.ItemContent,{children:(0,n.jsx)(X.SkeletonLine,{className:"h-4 w-[100px]"})}),h[4]=a):a=h[4],h[5]!==v||h[6]!==t?(r=(0,n.jsxs)(v,{variant:"unstyled",children:[t,a]}),h[5]=v,h[6]=t,h[7]=r):r=h[7],h[8]!==S||h[9]!==f.token||h[10]!==r?(s=(0,n.jsx)(S,{className:f.token,children:r}),h[8]=S,h[9]=f.token,h[10]=r,h[11]=s):s=h[11],h[12]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.value,children:(0,n.jsx)(X.SkeletonLine,{className:"h-4 w-[80px]"})}),h[12]=i):i=h[12],h[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.quantity,children:(0,n.jsx)(X.SkeletonLine,{className:"h-4 w-[60px]"})}),h[13]=o):o=h[13],h[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.price,children:(0,n.jsx)(X.SkeletonLine,{className:"h-4 w-[70px]"})}),h[14]=c):c=h[14],h[15]!==C?(u=C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.gain,children:(0,n.jsx)(X.SkeletonLine,{className:"h-4 w-[60px]"})}),(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.gainPercentage,children:(0,n.jsx)(X.SkeletonLine,{className:"h-4 w-[50px]"})})]}),h[15]=C,h[16]=u):u=h[16],h[17]!==p?(d=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.sparkline,children:(0,n.jsx)(W.ChartSkeleton,{className:p})}),h[17]=p,h[18]=d):d=h[18],h[19]!==g||h[20]!==u||h[21]!==d||h[22]!==s?(m=(0,n.jsxs)(g,{children:[s,i,o,c,u,d]}),h[19]=g,h[20]=u,h[21]=d,h[22]=s,h[23]=m):m=h[23],m}function ee(e){let t,a,r,s,i,o,c,u,d,m,h,y,x=(0,l.c)(35),{item:p,className:C,showChainBadge:g}=e,S=(0,G.useStatsSparklineChartClassName)();if(!p){let e;return x[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(J,{}),x[0]=e):e=x[0],e}x[1]!==p?(t=(0,O.readFragment)(Y,p),x[1]=p,x[2]=t):t=x[2];let f=t;if(!f)return null;let{asset:v}=f,T=void 0!==g&&g?void 0:null;return x[3]!==T?(a=(0,n.jsx)(k.CurrencyLockupAvatar,{badge:T,className:"bg-white"}),x[3]=T,x[4]=a):a=x[4],x[5]!==v||x[6]!==a?(r=(0,n.jsx)(k.CurrencyLockup,{className:"w-auto",currency:v,size:"md",children:a}),x[5]=v,x[6]=a,x[7]=r):r=x[7],x[8]!==v?(s=(0,n.jsx)(K.ItemContent,{className:"w-full",children:(0,n.jsx)(k.CurrencyLockup,{className:"w-full",currency:v,showAvatar:!1,showNewChip:!1,size:"sm"})}),x[8]=v,x[9]=s):s=x[9],x[10]!==r||x[11]!==s?(i=(0,n.jsxs)(P.Item,{className:"w-full max-w-full",variant:"unstyled",children:[r,s]}),x[10]=r,x[11]=s,x[12]=i):i=x[12],x[13]!==v||x[14]!==i?(o=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.token,children:(0,n.jsx)($.CurrencyPreviewTooltip,{currency:v,children:i})}),x[13]=v,x[14]=i,x[15]=o):o=x[15],x[16]!==f.usdValue?(c=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.value,children:(0,n.jsx)(I.NumberDisplay,{display:"usd",value:f.usdValue})}),x[16]=f.usdValue,x[17]=c):c=x[17],x[18]!==f.quantity?(u=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.quantity,children:(0,n.jsx)(I.NumberDisplay,{display:"compact",value:f.quantity})}),x[18]=f.quantity,x[19]=u):u=x[19],x[20]!==v.usdPrice?(d=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.price,children:(0,n.jsx)(I.NumberDisplay,{display:"usd-compact",value:v.usdPrice})}),x[20]=v.usdPrice,x[21]=d):d=x[21],x[22]!==v||x[23]!==S?(m=(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.sparkline,children:(0,n.jsx)(q.CurrencySparkLineChart,{className:S,currency:v,timeframe:"SEVEN_DAYS"})}),x[22]=v,x[23]=S,x[24]=m):m=x[24],x[25]!==C||x[26]!==u||x[27]!==d||x[28]!==m||x[29]!==o||x[30]!==c?(h=(0,n.jsxs)(V.TableRow,{className:C,interactive:!0,children:[o,c,u,d,m]}),x[25]=C,x[26]=u,x[27]=d,x[28]=m,x[29]=o,x[30]=c,x[31]=h):h=x[31],x[32]!==v||x[33]!==h?(y=(0,n.jsx)(D.CurrencyLink,{currency:v,variant:"unstyled",children:h}),x[32]=v,x[33]=h,x[34]=y):y=x[34],y}let en=(0,x.graphql)("\n    fragment PortfolioTokensTableGroupedRow on TokenGroupBalanceV2 {\n      id\n      usdValue\n      quantity\n      asset {\n        id\n        name\n        symbol\n        imageUrl\n        primaryCurrency {\n          id\n          name\n          symbol\n          imageUrl\n          usdPrice\n          contractAddress\n          stats {\n            marketCapUsd\n            oneDay {\n              volume\n              priceChange\n            }\n            sevenDay {\n              priceChange\n            }\n          }\n          ...CurrencySparkLineChartSevenDay\n          ...CurrencyV2Link\n          ...CurrencyPreviewTooltip\n          ...CurrencyV2Lockup\n        }\n      }\n      underlyingBalances {\n        __typename\n        ... on CurrencyBalanceV2 {\n          id\n          ...PortfolioTokensTableRow\n          ...SortTokenGroupCurrencyBalances\n        }\n      }\n    }\n  ",[H.CurrencySparkLineChartSevenDayFragment,R.CurrencyV2LinkFragment,U.CurrencyPreviewTooltipFragment,A.CurrencyV2LockupFragment,Y,z.SortTokenGroupCurrencyBalancesFragment]);function el(e){var l,t;let{item:r,sort:s}=e,i=(0,G.useStatsSparklineChartClassName)(),{size:o}=(0,B.useTable)(),[c,d]=(0,S.useState)(!1),m=(0,O.readFragment)(en,r),h=m.asset.primaryCurrency,y=(0,S.useMemo)(()=>{var e;let n=(null!=(e=m.underlyingBalances)?e:[]).filter(e=>(null==e?void 0:e.__typename)==="CurrencyBalanceV2");return!s||n.length<=1?n:(0,z.sortTokenGroupCurrencyBalances)(n,s.by,s.direction)},[m.underlyingBalances,s]);if(1===y.length)return(0,n.jsx)(ee,{index:0,item:y[0]},y[0].id);let x=y.length>1;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.CurrencyLink,{currency:h,variant:"unstyled",children:(0,n.jsxs)(V.TableRow,{className:c?"border-b-0":void 0,interactive:!0,children:[(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.token,children:(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[h?(0,n.jsx)($.CurrencyPreviewTooltip,{currency:h,children:(0,n.jsx)(P.Item,{className:"w-full max-w-full",variant:"unstyled",children:(0,n.jsxs)(k.CurrencyLockup,{className:"w-auto",currency:h,size:o,children:[(0,n.jsx)(k.CurrencyLockupAvatar,{badge:null,className:"bg-white",size:32}),(0,n.jsx)(w.CurrencyLockupContent,{className:"w-full text-start",children:(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)(k.CurrencyLockupTitle,{weight:"regular"}),(0,n.jsx)(k.CurrencyLockupBadge,{}),y.length>1?(0,n.jsxs)(u.TextBody,{color:"text-secondary",size:"sm",children:["(",y.length,")"]}):null]})})]})})}):(0,n.jsx)("div",{className:"truncate font-mono",children:null!=(t=null==(l=m.asset)?void 0:l.symbol)?t:"-"}),x?(0,n.jsx)(a.Button,{icon:(0,n.jsx)(M.ChevronRight,{className:(0,E.classNames)("rotate-90 transition-transform duration-150",c&&"rotate-270"),fill:"text-secondary",size:16}),onClick:e=>{e.preventDefault(),e.stopPropagation(),d(e=>!e)},size:"xs",variant:"ghost"}):void 0]})}),(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.value,children:(0,n.jsx)(I.NumberDisplay,{display:"usd",value:m.usdValue})}),(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.quantity,children:(0,n.jsx)(I.NumberDisplay,{display:"compact",value:m.quantity})}),(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.price,children:h?(0,n.jsx)(I.NumberDisplay,{display:"usd-compact",value:h.usdPrice}):(0,n.jsx)("div",{className:"font-mono",children:"-"})}),(0,n.jsx)(F.TableCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.sparkline,children:h?(0,n.jsx)(q.CurrencySparkLineChart,{className:i,currency:h,timeframe:"SEVEN_DAYS"}):(0,n.jsx)("div",{className:"font-mono",children:"-"})})]})}),c?y.map((e,l)=>(0,n.jsx)(ee,{className:l!==y.length-1?"border-0":void 0,index:0,item:e,showChainBadge:!0},e.id)):null]})}var et=e.i(378536),ea=e.i(653848),er=e.i(871085);function es(e){let t,a,r,s,i,o,c,u,d,h,y,x,p,C,S,f,v,T=(0,l.c)(47),{className:j,sortBy:b,sortDirection:N,onSortChange:L}=e,_=(0,m.useTranslations)("useStatsColumns");T[0]!==L||T[1]!==b||T[2]!==N?(t=e=>{e.column!==b?L(e.column,"DESC"):L(e.column,"DESC"===N?"ASC":"DESC")},T[0]=L,T[1]=b,T[2]=N,T[3]=t):t=T[3];let k=t;return T[4]!==j?(a=(0,E.classNames)("border-border-1 border-b bg-bg-primary",j),T[4]=j,T[5]=a):a=T[5],T[6]!==_?(r=_("token"),T[6]=_,T[7]=r):r=T[7],T[8]!==r?(s=(0,n.jsx)(ea.TableHeaderCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.token,children:r}),T[8]=r,T[9]=s):s=T[9],T[10]!==b||T[11]!==N?(i=b===g.CurrencyStatsSortBy.USD_VALUE?(0,er.toLowerCase)(N):void 0,T[10]=b,T[11]=N,T[12]=i):i=T[12],T[13]!==k||T[14]!==i?(o={column:g.CurrencyStatsSortBy.USD_VALUE,onSort:k,order:i},T[13]=k,T[14]=i,T[15]=o):o=T[15],T[16]!==_?(c=_("value"),T[16]=_,T[17]=c):c=T[17],T[18]!==o||T[19]!==c?(u=(0,n.jsx)(ea.TableHeaderCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.value,sort:o,children:c}),T[18]=o,T[19]=c,T[20]=u):u=T[20],T[21]!==_?(d=_("held.header"),T[21]=_,T[22]=d):d=T[22],T[23]!==d?(h=(0,n.jsx)(ea.TableHeaderCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.quantity,children:d}),T[23]=d,T[24]=h):h=T[24],T[25]!==b||T[26]!==N?(y=b===g.CurrencyStatsSortBy.PRICE?(0,er.toLowerCase)(N):void 0,T[25]=b,T[26]=N,T[27]=y):y=T[27],T[28]!==k||T[29]!==y?(x={column:g.CurrencyStatsSortBy.PRICE,onSort:k,order:y},T[28]=k,T[29]=y,T[30]=x):x=T[30],T[31]!==_?(p=_("price.header"),T[31]=_,T[32]=p):p=T[32],T[33]!==x||T[34]!==p?(C=(0,n.jsx)(ea.TableHeaderCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.price,sort:x,children:p}),T[33]=x,T[34]=p,T[35]=C):C=T[35],T[36]!==_?(S=_("last7Days.header"),T[36]=_,T[37]=S):S=T[37],T[38]!==S?(f=(0,n.jsx)(ea.TableHeaderCell,{className:Q.PORTFOLIO_TOKENS_TABLE_CLASSNAMES.sparkline,children:S}),T[38]=S,T[39]=f):f=T[39],T[40]!==h||T[41]!==C||T[42]!==f||T[43]!==a||T[44]!==s||T[45]!==u?(v=(0,n.jsxs)(et.TableHeader,{className:a,children:[s,u,h,C,f]}),T[40]=h,T[41]=C,T[42]=f,T[43]=a,T[44]=s,T[45]=u,T[46]=v):v=T[46],v}var ei=e.i(575789);function eo(){let e,t,a=(0,l.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(es,{className:(0,_.topStickyVariants)({tableHeader:!0}),onSortChange:ed,sortBy:g.CurrencyStatsSortBy.USD_VALUE,sortDirection:"DESC"}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(C.Table,{className:"h-[600px] overflow-hidden",contentClassName:"scrollbar-hidden",dividers:!0,header:e,itemKey:eu,items:(0,ei.range)(25).map(ec),renderRow:ee,size:"md"}),a[1]=t):t=a[1],t}function ec(){}function eu(e,n){return n}function ed(){}let em=(0,x.graphql)("\n    query PortfolioTokensTableQuery(\n      $accountId: String\n      $addresses: [Address!]!\n      $filter: CurrenciesFilter\n      $sort: CurrenciesSort\n      $limit: Int!\n      $cursor: String\n      $useTokenGrouping: Boolean!\n    ) {\n      userCurrencyOwnershipsV2(\n        accountId: $accountId\n        addresses: $addresses\n        filter: $filter\n        sort: $sort\n        limit: $limit\n        cursor: $cursor\n        useTokenGrouping: $useTokenGrouping\n      ) {\n        items {\n          __typename\n          id\n          asset {\n            name\n            symbol\n          }\n          ... on CurrencyBalanceV2 {\n            ...PortfolioTokensTableRow\n          }\n          ... on TokenGroupBalanceV2 {\n            ...PortfolioTokensTableGroupedRow\n            underlyingBalances {\n              __typename\n              ... on CurrencyBalanceV2 {\n                ...PortfolioTokensTableRow\n              }\n            }\n          }\n        }\n        nextPageCursor\n      }\n    }\n  ",[Y,en]),eh=(0,T.withSuspense)(()=>{let{chains:e}=(0,b.useChainsQueryParam)(),l=(0,h.useProfileAddress)(),t=(0,h.useProfileAccountId)(),a=(0,f.useProfileSelectedAddresses)(),r=(0,v.useHasSearchFilters)(),s=(0,N.useClearFilters)(),i=(0,L.useTokenGroupingEnabled)(),[o,c]=(0,S.useState)(g.CurrencyStatsSortBy.USD_VALUE),[u,d]=(0,S.useState)("DESC"),m=function(e,n){switch(e){case g.CurrencyStatsSortBy.USD_VALUE:return{by:"USD_VALUE",direction:n};case g.CurrencyStatsSortBy.PRICE:return{by:"PRICE",direction:n};case g.CurrencyStatsSortBy.SEVEN_DAY_PRICE_CHANGE:return{by:"SEVEN_DAY_PRICE_CHANGE",direction:n};case g.CurrencyStatsSortBy.GAIN:return{by:"GAIN",direction:n};default:return{by:"USD_VALUE",direction:"DESC"}}}(o,u),{items:y,pagination:x,error:T,noResults:k}=(0,j.usePaginatedQuery)({query:em,variables:{accountId:t,addresses:a,filter:{chains:e.length>0?e:void 0},sort:m,limit:25,useTokenGrouping:i},pause:0===a.length},e=>null==e?void 0:e.userCurrencyOwnershipsV2,{pageSize:25,throwOnError:!1}),w=null==y?void 0:y.filter(e=>(null==e?void 0:e.__typename)==="CurrencyBalanceV2"||(null==e?void 0:e.__typename)==="TokenGroupBalanceV2");return l?T||k?(0,n.jsx)(p.EmptyState,{onResetFilters:s,size:"lg",variant:T?"no-data":r?"no-results-with-filters":"no-results"}):(0,n.jsx)(C.Table,{className:"h-[600px]",contentClassName:"scrollbar-hidden",dividers:!0,hasNext:x.hasNext,header:(0,n.jsx)(es,{className:(0,_.topStickyVariants)({tableHeader:!0}),onSortChange:(e,n)=>{c(e),d(n)},sortBy:o,sortDirection:u}),isLoadingNext:x.isLoadingNext,itemKey:e=>null==e?void 0:e.id,items:w,loadNext:x.loadNext,renderRow:e=>{let{item:l,index:t}=e;return l?"TokenGroupBalanceV2"===l.__typename?(0,n.jsx)(el,{item:l,sort:m}):(0,n.jsx)(ee,{index:t,item:l}):null},size:"md"}):(0,n.jsx)(eo,{})},{fallback:eo,errorFallback:(0,n.jsx)(p.EmptyState,{size:"lg",variant:"no-data"})}),ey=e=>{let x,p,C,g,S,f,v,T,j=(0,l.c)(18),{children:b}=e,N=(0,m.useTranslations)("PortfolioTokensTable"),L=(0,h.useProfileAddress)(),_=(0,t.usePathname)(),k=(0,y.isVanityPathname)(_),w="".concat((0,y.getProfileUrlByIdentifier)(L,k),"/tokens");return j[0]===Symbol.for("react.memo_cache_sentinel")?(x=(0,n.jsx)(i.IconCallout,{icon:d.Toll,size:16,variant:"outlined"}),j[0]=x):x=j[0],j[1]!==N?(p=N("tokenPositions"),j[1]=N,j[2]=p):p=j[2],j[3]!==p?(C=(0,n.jsxs)(r.FlexCenter,{className:"gap-3",children:[x,(0,n.jsx)(u.TextBody,{size:"md",weight:"semibold",children:p})]}),j[3]=p,j[4]=C):C=j[4],j[5]!==N?(g=N("viewAll"),j[5]=N,j[6]=g):g=j[6],j[7]!==w||j[8]!==g?(S=(0,n.jsx)(a.Button,{href:w,size:"sm",variant:"secondary",children:g}),j[7]=w,j[8]=g,j[9]=S):S=j[9],j[10]!==C||j[11]!==S?(f=(0,n.jsx)(o.Media,{greaterThanOrEqual:"lg",children:(0,n.jsxs)(c.SpaceBetween,{className:"border-border-1 border-b p-4",children:[C,S]})}),j[10]=C,j[11]=S,j[12]=f):f=j[12],j[13]!==b?(v=(0,n.jsx)(s.FlexColumn,{className:"h-[600px]",children:b}),j[13]=b,j[14]=v):v=j[14],j[15]!==f||j[16]!==v?(T=(0,n.jsxs)(n.Fragment,{children:[f,v]}),j[15]=f,j[16]=v,j[17]=T):T=j[17],T};function ex(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(ey,{children:(0,n.jsx)(eh,{})}),t[0]=e):e=t[0],e}},881840,e=>{"use strict";e.s(["PortfolioValueTreeMap",()=>eQ,"PortfolioValueTreeMapSkeleton",()=>eK],881840);var n=e.i(705378),l=e.i(590268),t=e.i(333799),a=e.i(325636),r=e.i(277026),s=e.i(508022),i=e.i(437153),o=e.i(987556),c=e.i(104062),u=e.i(39771),d=e.i(310578),m=e.i(301648),h=e.i(960243),y=e.i(94798),x=e.i(940704),p=e.i(969498),C=e.i(688280),g=e.i(913868),S=e.i(647291),f=e.i(186677),v=e.i(980016),T=e.i(389852),j=e.i(532500),b=e.i(806056),N=e.i(794835),L=e.i(508833);e.i(257620);var _=e.i(535374),k=e.i(100868),w=e.i(254842),A=e.i(965523),O=e.i(738480),P=e.i(209959),E=e.i(950293),I=e.i(967593),F=e.i(871659),V=e.i(266341),B=e.i(439765),M=e.i(682576),D=e.i(528198),R=e.i(635341);e.i(661049);var $=e.i(493473),U=e.i(190519);e.i(275521);var q=e.i(6425),H=e.i(600028),z=e.i(825504),G=e.i(740743),Q=e.i(273720),K=e.i(999258);e.i(676104);var Y=e.i(177464),W=e.i(304615),X=e.i(759737),Z=e.i(564793);let J=(0,D.graphql)("\n    fragment CollectionHeldStat on Collection {\n      id\n      ownership(address: $address) {\n        totalQuantity\n      }\n      accountOwnership(accountId: $accountId) {\n        totalQuantity\n      }\n    }\n  ");function ee(e){var t,a,r;let s,i,o,c,u,d,m=(0,l.c)(13);m[0]!==e?({collection:s,...i}=e,m[0]=e,m[1]=s,m[2]=i):(s=m[1],i=m[2]),m[3]!==s?(o=(0,R.readFragment)(J,s),m[3]=s,m[4]=o):o=m[4];let h=o,y=(0,x.useTranslations)("CollectionHeldStat");m[5]!==y?(c=y("label"),m[5]=y,m[6]=c):c=m[6];let p=null!=(r=null==(t=h.accountOwnership)?void 0:t.totalQuantity)?r:null==(a=h.ownership)?void 0:a.totalQuantity;return m[7]!==p?(u=(0,n.jsx)(O.NumberDisplay,{"data-testid":"held-quantity",display:"full",value:p}),m[7]=p,m[8]=u):u=m[8],m[9]!==i||m[10]!==c||m[11]!==u?(d=(0,n.jsx)(Z.CollectionStatDisplay,{label:c,value:u,...i}),m[9]=i,m[10]=c,m[11]=u,m[12]=d):d=m[12],d}var en=e.i(570293);let el=(0,D.graphql)("\n    fragment CollectionValueStat on Collection {\n      id\n      ownership(address: $address) {\n        value {\n          ...Volume\n        }\n      }\n      accountOwnership(accountId: $accountId) {\n        value {\n          ...Volume\n        }\n      }\n    }\n  ",[z.VolumeFragment]);function et(e){var t,a,r;let s,i,o,c,u,d,m=(0,l.c)(13);m[0]!==e?({collection:s,...i}=e,m[0]=e,m[1]=s,m[2]=i):(s=m[1],i=m[2]),m[3]!==s?(o=(0,R.readFragment)(el,s),m[3]=s,m[4]=o):o=m[4];let h=o,y=(0,x.useTranslations)("CollectionValueStat");m[5]!==y?(c=y("label"),m[5]=y,m[6]=c):c=m[6];let p=null!=(r=null==(t=h.accountOwnership)?void 0:t.value)?r:null==(a=h.ownership)?void 0:a.value;return m[7]!==p?(u=(0,n.jsx)(en.Volume,{"data-testid":"portfolio-value",display:"compact",volume:p}),m[7]=p,m[8]=u):u=m[8],m[9]!==i||m[10]!==c||m[11]!==u?(d=(0,n.jsx)(Z.CollectionStatDisplay,{label:c,value:u,...i}),m[9]=i,m[10]=c,m[11]=u,m[12]=d):d=m[12],d}let ea=(0,D.graphql)("\n    fragment PortfolioCollectionStats on Collection {\n      ...CollectionStat\n      ...CollectionHeldStat\n      ...CollectionValueStat\n    }\n  ",[X.CollectionStatFragment,J,el]),er=["floor_price","held","value","top_offer"];function es(e){let t,a,r,s=(0,l.c)(10),{collection:o,size:c,className:u,dividers:d,overrides:m}=e,h=void 0===c?"sm":c;s[0]!==o?(t=(0,R.readFragment)(ea,o),s[0]=o,s[1]=t):t=s[1];let y=t;return s[2]!==y||s[3]!==d||s[4]!==m?(a=er.map((e,l)=>{var t,a,r,s,o,c;return(0,n.jsxs)(p.Fragment,{children:["held"===e?(0,n.jsx)(ee,{collection:y,...null==m?void 0:m.all,...null==m?void 0:m.held,className:(0,i.classNames)(null==m||null==(t=m.all)?void 0:t.className,null==m||null==(a=m.held)?void 0:a.className)}):"value"===e?(0,n.jsx)(et,{collection:y,...null==m?void 0:m.all,...null==m?void 0:m.value,className:(0,i.classNames)(null==m||null==(r=m.all)?void 0:r.className,null==m||null==(s=m.value)?void 0:s.className)}):(0,n.jsx)(W.CollectionStat,{collection:y,stat:e,...null==m?void 0:m.all,...null==m?void 0:m[e],className:(0,i.classNames)(null==m||null==(o=m.all)?void 0:o.className,null==m||null==(c=m[e])?void 0:c.className)}),d&&l<er.length-1?(0,n.jsx)(K.Separator,{className:"h-auto",orientation:"vertical"}):null]},e)}),s[2]=y,s[3]=d,s[4]=m,s[5]=a):a=s[5],s[6]!==u||s[7]!==h||s[8]!==a?(r=(0,n.jsx)(Y.StatDisplay,{className:u,size:h,children:a}),s[6]=u,s[7]=h,s[8]=a,s[9]=r):r=s[9],r}var ei=e.i(293514),eo=e.i(807023),ec=e.i(972033),eu=e.i(509017);let ed=(0,D.graphql)("\n    query PortfolioCollectionTooltipContentQuery(\n      $collectionSlug: String!\n      $address: Address\n      $accountId: String\n    ) {\n      collectionBySlug(slug: $collectionSlug) {\n        __typename\n        ... on Collection {\n          id\n          slug\n          ...CollectionLockup\n          ...CollectionChainChip\n          ...PortfolioCollectionStats\n        }\n      }\n    }\n  ",[M.CollectionLockupFragment,ea,Q.CollectionChainChipFragment,z.VolumeFragment]),em=(0,D.graphql)("\n    query PortfolioCollectionItemsQuery(\n      $collectionSlug: String!\n      $addresses: [Address!]!\n    ) {\n      collectionItems(\n        collectionSlug: $collectionSlug\n        limit: 4\n        filter: { ownedByAddresses: $addresses }\n        sort: { by: RARITY, direction: DESC }\n      ) {\n        items {\n          id\n          ...ItemLink\n          ...ItemMedia\n        }\n      }\n    }\n  ",[U.ItemLinkFragment,H.ItemMediaFragment]),eh=(0,T.withSuspense)(e=>{var l;let{collection:a}=e,{slug:r}=(0,R.readFragment)(eo.CollectionPreviewTooltipContentFragment,a),s=(0,S.useProfileAddress)(),i=(0,g.useProfileSelectedAddresses)(),o=(0,S.useProfileAccountId)(),c=(0,S.useProfileKind)(),[{data:u}]=(0,t.useQuery)({query:ed,variables:{collectionSlug:r,address:s,accountId:"ACCOUNT"===c?o:void 0},pause:!s}),[{data:d}]=(0,t.useQuery)({query:em,variables:{collectionSlug:r,addresses:i},pause:0===i.length}),m=(0,x.useTranslations)("PortfolioCollectionTooltipContent");if((null==u||null==(l=u.collectionBySlug)?void 0:l.__typename)==="Collection"){let e=u.collectionBySlug,l=Array.isArray(null==d?void 0:d.collectionItems.items)?d.collectionItems.items:[],t=(0,n.jsx)(es,{className:ei.collectionStatsClassName,collection:e,overrides:{all:{className:ei.collectionStatClassName,itemClassName:ei.collectionStatItemClassName,valueClassName:ei.collectionStatValueClassName}}});return(0,n.jsx)(eu.CollectionPreviewTooltipLayout,{chainBadge:(0,n.jsx)(Q.CollectionChainChip,{badge:!0,collection:e}),itemMedia:l.length>0?l.map(e=>(0,n.jsx)($.ItemLink,{className:"aspect-square w-[96px] shrink-0 overflow-hidden rounded bg-bg-additional-1",item:e,variant:"unstyled",children:(0,n.jsx)(q.ItemMedia,{containerSize:96,item:e,surface:"preview"})},e.id)):null,lockup:(0,n.jsxs)(N.CollectionLockup,{collection:e,size:"sm",children:[(0,n.jsx)(N.CollectionLockupAvatar,{}),(0,n.jsx)(B.CollectionLockupContent,{children:(0,n.jsx)(N.CollectionLockupTitle,{disableTextOverflowTooltip:!0})})]}),stats:t})}return(0,n.jsx)(G.PreviewTooltipContent,{children:(0,n.jsx)(I.TooltipLabel,{children:m("error")})})},{fallback:(0,n.jsx)(ec.CollectionPreviewTooltipContentSkeleton,{})});var ey=e.i(803577),ex=e.i(81810),ep=e.i(609644),eC=e.i(116889),eg=e.i(314346),eS=e.i(132553),ef=e.i(355772),ev=e.i(916660),eT=e.i(446602),ej=e.i(146941),eb=e.i(147746);function eN(){let e,t,a=(0,l.c)(4),r=(0,x.useTranslations)("PortfolioTokenTooltipContent");return a[0]!==r?(e=r("error"),a[0]=r,a[1]=e):e=a[1],a[2]!==e?(t=(0,n.jsx)(G.PreviewTooltipContent,{children:(0,n.jsx)(I.TooltipLabel,{children:e})}),a[2]=e,a[3]=t):t=a[3],t}let eL=(0,D.graphql)("\n    query PortfolioTokenTooltipCurrencyQuery(\n      $contract: ContractIdentifierInput!\n      $accountId: String\n      $addresses: [Address!]!\n    ) {\n      currencyV2(contract: $contract) {\n        __typename\n        id\n        symbol\n        usdPrice\n        contractAddress\n        chainIdentifier\n        chain {\n          identifier\n          ...ChainBadge\n        }\n        stats {\n          oneDay {\n            priceChange\n          }\n        }\n        ...CurrencyChartColor\n        ...CurrencyV2Lockup\n        ...CurrencyV2Link\n        ...CurrencyLineChart\n      }\n      priceHistory24h: currencyPriceHistory(\n        contract: $contract\n        timeframe: ONE_DAY\n      ) {\n        time\n        price {\n          usd\n        }\n      }\n      userCurrencyOwnershipsV2(\n        accountId: $accountId\n        addresses: $addresses\n        contracts: [$contract]\n        disableSpamFiltering: true\n        useTokenGrouping: true\n      ) {\n        items {\n          __typename\n          ... on CurrencyBalanceV2 {\n            id\n            quantity\n            usdValue\n            gainStats {\n              gain\n              invested\n              returnPercentage\n            }\n          }\n          ... on TokenGroupBalanceV2 {\n            id\n            quantity\n            usdValue\n            gainStats {\n              gain\n              invested\n              returnPercentage\n            }\n          }\n        }\n      }\n    }\n  ",[ey.ChainBadgeFragment,eg.CurrencyChartColorFragment,ep.CurrencyV2LinkFragment,ex.CurrencyV2LockupFragment,ev.CurrencyLineChartFragment]),e_=(0,T.withSuspense)(e=>{let{currency:l}=e,a=(0,x.useTranslations)("PortfolioTokenTooltipContent"),{contractAddress:r,chainIdentifier:s}=(0,R.readFragment)(ej.CurrencyPreviewTooltipContentFragment,l),o=(0,b.useIsPortfolioGainColumnEnabled)(),c=(0,S.useProfileAccountId)(),d=(0,g.useProfileSelectedAddresses)(),[{data:m}]=(0,t.useQuery)({query:eL,variables:{contract:{address:r,chain:s},accountId:c,addresses:d},pause:0===d.length});if(null==m?void 0:m.currencyV2){var h,y,p,C;let e=m.currencyV2,l=m.priceHistory24h,t=l&&l.length>1,r=null==(y=m.userCurrencyOwnershipsV2)||null==(h=y.items)?void 0:h.find(e=>"CurrencyBalanceV2"===e.__typename||"TokenGroupBalanceV2"===e.__typename),s=(null==r?void 0:r.quantity)?Number.parseFloat(r.quantity):0,c=e.usdPrice?Number.parseFloat(e.usdPrice):0,d=s>0&&(null==r?void 0:r.gainStats)&&r.gainStats.invested>0?r.gainStats.invested/s:c,x=(null==r?void 0:r.gainStats)?r.gainStats.gain:0,g=(null==r?void 0:r.gainStats)?r.gainStats.returnPercentage:0,S=(0,n.jsxs)(Y.StatDisplay,{children:[(0,n.jsxs)(Y.StatDisplayItem,{className:"items-start",children:[(0,n.jsx)(Y.StatDisplayItemLabel,{className:"self-start md:self-auto",children:a("held")}),(0,n.jsx)(Y.StatDisplayItemValue,{className:"self-start text-xs md:self-auto md:text-sm",children:(0,n.jsx)(O.NumberDisplay,{className:"font-semibold text-sm",display:"compact",suffix:e.symbol,value:null==r?void 0:r.quantity})})]}),(0,n.jsxs)(Y.StatDisplayItem,{className:"items-start",children:[(0,n.jsx)(Y.StatDisplayItemLabel,{className:"self-start md:self-auto",children:a("usdTotal")}),(0,n.jsx)(Y.StatDisplayItemValue,{className:"self-start text-xs md:self-auto md:text-sm",children:(0,n.jsx)(O.NumberDisplay,{className:"font-semibold text-sm",display:"usd-compact",value:null==r?void 0:r.usdValue})})]}),o&&(0,n.jsxs)(Y.StatDisplayItem,{className:"items-start",children:[(0,n.jsx)(I.TooltipLabel,{className:"text-text-secondary text-xs uppercase tracking-wide",children:a("gain")}),(0,n.jsxs)(Y.StatDisplayItemValue,{className:"gap-1 self-start text-xs md:self-auto md:text-sm",children:[(0,n.jsx)(O.NumberDisplay,{className:(0,i.classNames)("font-semibold text-sm",{"text-success-1":x>0,"text-error-1":x<0}),display:"usd-compact",value:x}),(0,n.jsx)(P.StatChangeCallout,{change:g,overrides:{StatChange:{className:"text-sm font-normal"}}})]})]}),(0,n.jsxs)(Y.StatDisplayItem,{className:"items-start",children:[(0,n.jsx)(Y.StatDisplayItemLabel,{className:"self-start md:self-auto",children:a("avgCost")}),(0,n.jsx)(Y.StatDisplayItemValue,{className:"self-start text-xs md:self-auto md:text-sm",children:(0,n.jsx)(O.NumberDisplay,{className:"font-semibold text-sm",display:"usd-compact",value:d})})]})]});return(0,n.jsxs)(G.PreviewTooltipContent,{className:"flex-col gap-2.5",children:[(0,n.jsx)(u.FlexCenter,{className:"justify-between",children:(0,n.jsx)(u.FlexCenter,{className:"gap-1.5",children:(0,n.jsxs)(u.FlexCenter,{className:"gap-2",children:[(0,n.jsx)(L.CurrencyLockup,{currency:e,size:"md"}),(0,n.jsxs)(u.FlexCenter,{className:"gap-1",children:[(0,n.jsx)(eS.CurrencyPriceDisplay,{custom:{maximumFractionDigits:2,maximumSignificantDigits:2},value:e.usdPrice}),(0,n.jsx)(P.StatChangeCallout,{change:null==(C=e.stats)||null==(p=C.oneDay)?void 0:p.priceChange,overrides:{StatChange:{className:"font-semibold"}}})]})]})})}),t&&(0,n.jsxs)(A.FlexColumn,{className:"gap-2",children:[(0,n.jsx)(K.Separator,{}),(0,n.jsx)("div",{className:"h-[120px] w-full overflow-hidden",children:(0,n.jsx)(eC.CurrencyChartColorProvider,{currency:e,children:(0,n.jsx)(ef.CurrencyLineChart,{className:"!h-30 w-full",currency:e,intervalSize:"FIVE_MINUTES",overrides:{XAxis:{tickLabelProps:()=>({className:"text-[10px] fill-text-secondary",textAnchor:"right",dy:8})}},timeRange:{startTime:(0,eT.getStartTime)("ONE_DAY"),endTime:new Date}})})})]}),(0,n.jsx)(K.Separator,{className:"mx-3"}),S]})}return(0,n.jsx)(eN,{})},{fallback:(0,n.jsx)(eb.CurrencyPreviewTooltipContentSkeleton,{statCount:5}),errorFallback:(0,n.jsx)(eN,{})});function ek(e){let t,a,r,s,i=(0,l.c)(14),{item:o}=e,c=(0,x.useTranslations)("PortfolioValueTreeMap");if("collection"===o.type&&o.collection){let e;return i[0]!==o.collection?(e=(0,n.jsx)(eh,{collection:o.collection}),i[0]=o.collection,i[1]=e):e=i[1],e}if("token"===o.type&&o.currency){let e;return i[2]!==o.currency?(e=(0,n.jsx)(e_,{currency:o.currency}),i[2]=o.currency,i[3]=e):e=i[3],e}i[4]!==o.value||i[5]!==c?(t=o.value?"$".concat(o.value.toLocaleString()):c("notAvailable"),i[4]=o.value,i[5]=c,i[6]=t):t=i[6];let u=t;return i[7]!==o.name?(a=(0,n.jsx)(E.TextBody,{className:"font-semibold",children:o.name}),i[7]=o.name,i[8]=a):a=i[8],i[9]!==u?(r=(0,n.jsx)(V.TextLabel,{children:u}),i[9]=u,i[10]=r):r=i[10],i[11]!==a||i[12]!==r?(s=(0,n.jsxs)(A.FlexColumn,{className:"gap-1",children:[a,r]}),i[11]=a,i[12]=r,i[13]=s):s=i[13],s}function ew(e){var t,a,s,c,u,d,m,h,y,p;let C,g,S,f,v,T,j,b,V,B,M,D=(0,l.c)(64),{node:R,context:$,brandedColor:U}=e,q=(0,x.useTranslations)("PortfolioValueTreeMap"),H=(0,_.useNumberFormatter)(),{view:z}=(0,F.usePortfolioValueContext)(),{resolvedTheme:G}=(0,r.useTheme)(),Q="dark"===G,{width:K,height:Y,imageOnlyThreshold:W,minDisplayThreshold:X}=$,Z="branded"===z;D[0]!==H||D[1]!==R.value||D[2]!==q?(C=R.value?H(R.value,{display:"usd-compact"}):q("notAvailable"),D[0]=H,D[1]=R.value,D[2]=q,D[3]=C):C=D[3];let J=C,ee=K<=W,en=K<X||Y<X;D[4]!==R.collection||D[5]!==R.currency||D[6]!==R.type?(g="collection"===R.type&&R.collection?(0,n.jsx)(N.CollectionLockup,{className:"w-auto",collection:R.collection,size:"sm",children:(0,n.jsx)(N.CollectionLockupAvatar,{badge:null})}):"token"===R.type&&R.currency?(0,n.jsx)(L.CurrencyLockup,{className:"w-auto",currency:R.currency,size:"sm",children:(0,n.jsx)(L.CurrencyLockupAvatar,{badge:null,className:"bg-white"})}):null,D[4]=R.collection,D[5]=R.currency,D[6]=R.type,D[7]=g):g=D[7],D[8]!==g?(S=(0,n.jsx)(n.Fragment,{children:g}),D[8]=g,D[9]=S):S=D[9];let el=S;D[10]!==Z||D[11]!==(null==(t=R.metadata)?void 0:t.change)?(f=Z?(0,n.jsx)(P.StatChangeCallout,{change:null==(s=R.metadata)?void 0:s.change,withBackground:!1}):(0,n.jsx)(O.NumberDisplay,{className:"font-mono",display:"percent",style:{fontSize:"12px"},value:null==(c=R.metadata)?void 0:c.change}),D[10]=Z,D[11]=null==(u=R.metadata)?void 0:u.change,D[12]=f):f=D[12];let et=f;e:{let e,l,t,a,r,s;if(en){let e;D[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"size-full"}),D[13]=e):e=D[13],v=e;break e}if(ee){if(!("collection"===R.type?R.collection:R.currency)){let e;D[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"size-full"}),D[14]=e):e=D[14],v=e;break e}v=el;break e}D[15]===Symbol.for("react.memo_cache_sentinel")?(e={fontSize:"14px"},D[15]=e):e=D[15],D[16]!==R.name?(l=(0,n.jsx)(E.TextBody,{className:"min-w-0 truncate",style:e,weight:"semibold",children:R.name}),D[16]=R.name,D[17]=l):l=D[17],D[18]!==el||D[19]!==l?(t=(0,n.jsxs)(w.Flex,{className:"w-full items-center justify-center gap-2",children:[el,l]}),D[18]=el,D[19]=l,D[20]=t):t=D[20],D[21]===Symbol.for("react.memo_cache_sentinel")?(a={fontSize:"12px"},D[21]=a):a=D[21],D[22]!==J?(r=(0,n.jsx)(E.TextBody,{className:"font-mono",style:a,weight:"regular",children:J}),D[22]=J,D[23]=r):r=D[23];let i=Y<80?null:et;D[24]!==r||D[25]!==i||D[26]!==t?(s=(0,n.jsxs)(A.FlexColumn,{className:"relative z-[3] inline-flex max-w-full items-center justify-center gap-1 text-center",children:[t,r,i]}),D[24]=r,D[25]=i,D[26]=t,D[27]=s):s=D[27],v=s}let ea=v;if(!(en||ee)){let e,l,t,a,r,s,c=en?void 0:"px-2 py-1",u=Z?"transition-[border-color] duration-300 ease-in-out":void 0;D[28]!==c||D[29]!==u?(e=(0,i.classNames)("relative box-border size-full items-center justify-center gap-0.5 overflow-hidden rounded-md text-white",c,u),D[28]=c,D[29]=u,D[30]=e):e=D[30];let y=Z?"1px solid ".concat(null!=U?U:Q?o.DARK_THEME.blue3:o.LIGHT_THEME.blue3):void 0;return D[31]!==y?(l={fontSize:"14px",border:y},D[31]=y,D[32]=l):l=D[32],D[33]!==Z||D[34]!==(null==(d=R.metadata)?void 0:d.backgroundImage)?(t=Z?(0,n.jsx)(k.Image,{alt:"",className:"z-[1] object-cover object-center opacity-10",fill:!0,frameTime:1,src:null==(m=R.metadata)?void 0:m.backgroundImage}):null,D[33]=Z,D[34]=null==(h=R.metadata)?void 0:h.backgroundImage,D[35]=t):t=D[35],D[36]!==R?(a=(0,n.jsx)(ek,{item:R}),D[36]=R,D[37]=a):a=D[37],D[38]!==ea||D[39]!==a?(r=(0,n.jsx)(I.Tooltip,{attachToCursor:!0,content:a,hoverable:!0,children:ea}),D[38]=ea,D[39]=a,D[40]=r):r=D[40],D[41]!==l||D[42]!==t||D[43]!==r||D[44]!==e?(s=(0,n.jsxs)(A.FlexColumn,{className:e,style:l,children:[t,r]}),D[41]=l,D[42]=t,D[43]=r,D[44]=e,D[45]=s):s=D[45],s}D[46]!==R?(T=(0,n.jsx)(ek,{item:R}),D[46]=R,D[47]=T):T=D[47];let er=en?void 0:"px-2 py-1",es=Z?"transition-[border-color] duration-300 ease-in-out":void 0;D[48]!==er||D[49]!==es?(j=(0,i.classNames)("relative box-border size-full items-center justify-center gap-0.5 overflow-hidden rounded-md text-white",er,es),D[48]=er,D[49]=es,D[50]=j):j=D[50];let ei=Z?"1px solid ".concat(null!=U?U:Q?o.DARK_THEME.blue3:o.LIGHT_THEME.blue3):void 0;return D[51]!==ei?(b={fontSize:"14px",border:ei},D[51]=ei,D[52]=b):b=D[52],D[53]!==Z||D[54]!==(null==(a=R.metadata)?void 0:a.backgroundImage)?(V=Z?(0,n.jsx)(k.Image,{alt:"",className:"z-[1] object-cover object-center opacity-10",fill:!0,frameTime:1,src:null==(y=R.metadata)?void 0:y.backgroundImage}):null,D[53]=Z,D[54]=null==(p=R.metadata)?void 0:p.backgroundImage,D[55]=V):V=D[55],D[56]!==ea||D[57]!==b||D[58]!==V||D[59]!==j?(B=(0,n.jsxs)(A.FlexColumn,{className:j,style:b,children:[V,ea]}),D[56]=ea,D[57]=b,D[58]=V,D[59]=j,D[60]=B):B=D[60],D[61]!==B||D[62]!==T?(M=(0,n.jsx)(I.Tooltip,{attachToCursor:!0,content:T,hoverable:!0,children:B}),D[61]=B,D[62]=T,D[63]=M):M=D[63],M}var eA=e.i(581147);let eO=(0,D.graphql)("\n    fragment PortfolioTreeMapTileCollection on Collection {\n      ...CollectionLockup\n      chain {\n        ...ChainBadge\n      }\n    }\n  ",[M.CollectionLockupFragment,ey.ChainBadgeFragment]),eP=(0,D.graphql)("\n    fragment PortfolioTreeMapTileCurrency on CurrencyV2 {\n      ...CurrencyV2Lockup\n    }\n  ",[ex.CurrencyV2LockupFragment]),eE=(0,D.graphql)("\n    query PortfolioValueTreeMapQuery(\n      $addresses: [Address!]!\n      $accountId: String\n      $collectionFilter: ProfileCollectionsFilter\n      $collectionLimit: Int!\n      $currencyFilter: CurrenciesFilter\n      $currencySort: CurrenciesSort\n      $useTokenGrouping: Boolean!\n    ) {\n      userCollections(\n        accountId: $accountId\n        addresses: $addresses\n        filter: $collectionFilter\n        limit: $collectionLimit\n      ) {\n        items {\n          id\n          ownership {\n            value {\n              usd\n            }\n          }\n          collection {\n            id\n            slug\n            name\n            imageUrl\n            stats {\n              oneHour {\n                floorPriceChange\n              }\n              oneDay {\n                floorPriceChange\n              }\n              sevenDays {\n                floorPriceChange\n              }\n              thirtyDays {\n                floorPriceChange\n              }\n            }\n            hero {\n              desktopHeroMedia {\n                __typename\n                ... on ImageMedia {\n                  imageUrl\n                }\n                ... on VideoMedia {\n                  videoUrl\n                }\n                ... on MuxVideoMedia {\n                  muxPlaybackId\n                }\n              }\n              mobileHeroMedia {\n                __typename\n                ... on ImageMedia {\n                  imageUrl\n                }\n                ... on VideoMedia {\n                  videoUrl\n                }\n                ... on MuxVideoMedia {\n                  muxPlaybackId\n                }\n              }\n            }\n            bannerImageUrl\n            featuredImageUrl\n            chain {\n              ...ChainBadge\n            }\n            ...CollectionLockup\n            ...CollectionPreviewTooltipContent\n            ...PortfolioTreeMapTileCollection\n          }\n        }\n      }\n\n      userCurrencyOwnershipsV2(\n        accountId: $accountId\n        addresses: $addresses\n        filter: $currencyFilter\n        sort: $currencySort\n        limit: 25\n        useTokenGrouping: $useTokenGrouping\n      ) {\n        items {\n          __typename\n          id\n          usdValue\n          ... on CurrencyBalanceV2 {\n            asset {\n              symbol\n              imageUrl\n              chainIdentifier\n              contractAddress\n              ...CurrencyPreviewTooltipContent\n              ...PortfolioTreeMapTileCurrency\n              ...CurrencyV2Lockup\n              ...currencyV2Url\n              metadata {\n                hero {\n                  desktopHeroMedia {\n                    __typename\n                    ... on ImageMedia {\n                      imageUrl\n                    }\n                    ... on VideoMedia {\n                      videoUrl\n                    }\n                    ... on MuxVideoMedia {\n                      muxPlaybackId\n                    }\n                  }\n                  mobileHeroMedia {\n                    __typename\n                    ... on ImageMedia {\n                      imageUrl\n                    }\n                    ... on VideoMedia {\n                      videoUrl\n                    }\n                    ... on MuxVideoMedia {\n                      muxPlaybackId\n                    }\n                  }\n                }\n              }\n              stats {\n                oneHour {\n                  priceChange\n                }\n                oneDay {\n                  priceChange\n                }\n                sevenDay {\n                  priceChange\n                }\n                thirtyDay {\n                  priceChange\n                }\n              }\n            }\n          }\n          ... on TokenGroupBalanceV2 {\n            asset {\n              symbol\n              imageUrl\n              primaryCurrency {\n                symbol\n                imageUrl\n                chainIdentifier\n                contractAddress\n                ...CurrencyPreviewTooltipContent\n                ...PortfolioTreeMapTileCurrency\n                ...CurrencyV2Lockup\n                ...currencyV2Url\n                metadata {\n                  hero {\n                    desktopHeroMedia {\n                      __typename\n                      ... on ImageMedia {\n                        imageUrl\n                      }\n                      ... on VideoMedia {\n                        videoUrl\n                      }\n                      ... on MuxVideoMedia {\n                        muxPlaybackId\n                      }\n                    }\n                    mobileHeroMedia {\n                      __typename\n                      ... on ImageMedia {\n                        imageUrl\n                      }\n                      ... on VideoMedia {\n                        videoUrl\n                      }\n                      ... on MuxVideoMedia {\n                        muxPlaybackId\n                      }\n                    }\n                  }\n                }\n                stats {\n                  oneHour {\n                    priceChange\n                  }\n                  oneDay {\n                    priceChange\n                  }\n                  sevenDay {\n                    priceChange\n                  }\n                  thirtyDay {\n                    priceChange\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ",[M.CollectionLockupFragment,eo.CollectionPreviewTooltipContentFragment,ej.CurrencyPreviewTooltipContentFragment,eO,eP,ex.CurrencyV2LockupFragment,ey.ChainBadgeFragment,eA.currencyV2UrlFragment]),eI={NEUTRAL:1,MEDIUM:10,LARGE:20};var eF=e.i(529783),eV=e.i(972513);let eB={ONE_DAY:"oneDay",ONE_HOUR:"oneHour",SEVEN_DAYS:"sevenDays",THIRTY_DAYS:"thirtyDays"},eM={ONE_DAY:"oneDay",ONE_HOUR:"oneHour",SEVEN_DAYS:"sevenDay",THIRTY_DAYS:"thirtyDay"};function eD(e){if(!e)return null;switch(e.__typename){case"ImageMedia":return e.imageUrl||null;case"VideoMedia":var n;if(null==(n=e.videoUrl)?void 0:n.startsWith("https://stream.mux.com")){let n=e.videoUrl.split("/")[3];return"https://image.mux.com/".concat(n,"/thumbnail.jpg?time=0")}return e.videoUrl||null;case"MuxVideoMedia":return e.muxPlaybackId?"https://image.mux.com/".concat(e.muxPlaybackId,"/thumbnail.jpg?time=0"):null;default:return null}}function eR(e){var n;if(!(null==e||null==(n=e.metadata)?void 0:n.hero))return;let l=eD(e.metadata.hero.mobileHeroMedia),t=eD(e.metadata.hero.desktopHeroMedia);return l||t||void 0}async function e$(e){if(e)try{let n=await (0,eF.extractProminentColors)(e);if(!n)return;return(0,eV.selectBestChartColor)(n)}catch(e){return}}async function eU(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;if(e)return Promise.race([e$(e),new Promise(e=>setTimeout(()=>{e(void 0)},n))])}function eq(e,n){return(n.value||0)-(e.value||0)}function eH(e){var n,l,t,a;if("collection"===e.type){let l=(null==(n=e.metadata)?void 0:n.slug)||e.name;return"collection:".concat(l)}if("token"===e.type){let n=null==(l=e.metadata)?void 0:l.chainIdentifier,r=null==(t=e.metadata)?void 0:t.contractAddress,s=(null==(a=e.metadata)?void 0:a.symbol)||e.name;return n&&r?"token:".concat(n,":").concat(r):"token:".concat(s)}return e.name}async function ez(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,l={};return e.children&&0!==e.children.length&&await Promise.all(e.children.map(async e=>{var t,a,r;let s;(s=await eU(null==(t=e.metadata)?void 0:t.backgroundImage,n))||("collection"===e.type&&(null==(a=e.collection)?void 0:a.imageUrl)?s=await eU(e.collection.imageUrl,n):"token"===e.type&&(null==(r=e.currency)?void 0:r.imageUrl)&&(s=await eU(e.currency.imageUrl,n))),s&&(l[eH(e)]=s)})),l}let eG="relative h-full min-h-[420px] xl:min-h-0",eQ=(0,T.withSuspense)(()=>{let e=(0,x.useTranslations)("PortfolioValueTreeMap"),s=(0,a.useRouter)(),{resolvedTheme:d}=(0,r.useTheme)(),{chains:T}=(0,j.useChainsQueryParam)(),{timeframe:N,view:L,asset:_}=(0,F.usePortfolioValueContext)(),{getCurrencyUrl:k}=(0,C.useCurrencyUrl)(),w="branded"===L,A=(0,b.useTokenGroupingEnabled)(),O=(0,S.useProfileAccountId)(),P=(0,g.useProfileSelectedAddresses)(),E=(0,S.useProfileAddress)(),[{data:I,error:V,fetching:B}]=(0,t.useQuery)({query:eE,variables:{address:E,addresses:P,accountId:O,collectionFilter:{chain:1===T.length?T[0]:void 0},collectionLimit:50,currencyFilter:{chains:T.length>0?T:void 0},currencySort:{by:(0,v.getCurrencySortBy)(h.CurrencyStatsSortBy.USD_VALUE),direction:"DESC"},useTokenGrouping:A},pause:0===P.length}),M=function(e,n,t,a){let r,s=(0,l.c)(16),i=void 0===a?"all":a,o=(0,x.useTranslations)("PortfolioValueTreeMap");e:{let l,a,d;if(!e){let e,n,l;s[0]!==o?(e=o("rootNodeName"),s[0]=o,s[1]=e):e=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(n=[],s[2]=n):n=s[2],s[3]!==e?(l={name:e,children:n},s[3]=e,s[4]=l):l=s[4],r=l;break e}if(s[5]!==i||s[6]!==e||30!==s[7]||s[8]!==o||s[9]!==t){var c,u;let a=[];if(("all"===i||"nfts"===i)&&(null==(c=e.userCollections)?void 0:c.items)){let n=function(e,n,l){let t=[];return e.forEach(e=>{var a,r,s,i;if(!(null==e||null==(r=e.ownership)||null==(a=r.value)?void 0:a.usd))return;let o=e.ownership.value.usd;if(o<=0)return;let c=e.collection;c&&t.push({name:c.name||c.slug||l,value:o,type:"collection",metadata:{imageUrl:c.imageUrl||void 0,change:(null==(i=c.stats)||null==(s=i[eB[n]])?void 0:s.floorPriceChange)||0,slug:c.slug,backgroundImage:function(e){var n,l;let t=eD(null==(n=e.hero)?void 0:n.mobileHeroMedia),a=eD(null==(l=e.hero)?void 0:l.desktopHeroMedia),r=e.bannerImageUrl||e.featuredImageUrl||e.imageUrl;return t||a||r||void 0}(c)},collection:c})}),t}(e.userCollections.items,t,o("unknownCollection"));a.push(...n)}if(("all"===i||"tokens"===i)&&(null==(u=e.userCurrencyOwnershipsV2)?void 0:u.items)){let n=function(e,n,l){let t=[];for(let a of e){let e=null;"CurrencyBalanceV2"===a.__typename?e=function(e,n,l){var t,a;if(!e.usdValue)return null;let r=Number.parseFloat(e.usdValue);if(r<=0)return null;let s=e.asset;return{name:(null==s?void 0:s.symbol)||l,value:r,type:"token",metadata:{imageUrl:(null==s?void 0:s.imageUrl)||void 0,change:(null==s||null==(a=s.stats)||null==(t=a[eM[n]])?void 0:t.priceChange)||0,symbol:null==s?void 0:s.symbol,backgroundImage:eR(s),chainIdentifier:null==s?void 0:s.chainIdentifier,contractAddress:null==s?void 0:s.contractAddress},currency:null!=s?s:void 0}}(a,n,l):"TokenGroupBalanceV2"===a.__typename&&(e=function(e,n,l){var t,a,r;if(!e.usdValue)return null;let s=Number.parseFloat(e.usdValue);if(s<=0)return null;let i=null==(t=e.asset)?void 0:t.primaryCurrency,o=e.asset;return{name:(null==i?void 0:i.symbol)||(null==o?void 0:o.symbol)||l,value:s,type:"token",metadata:{imageUrl:(null==i?void 0:i.imageUrl)||(null==o?void 0:o.imageUrl)||void 0,change:(null==i||null==(r=i.stats)||null==(a=r[eM[n]])?void 0:a.priceChange)||0,symbol:(null==i?void 0:i.symbol)||(null==o?void 0:o.symbol),backgroundImage:eR(i),chainIdentifier:null==i?void 0:i.chainIdentifier,contractAddress:null==i?void 0:i.contractAddress},currency:null!=i?i:void 0}}(a,n,l)),e&&t.push(e)}return t}(e.userCurrencyOwnershipsV2.items,t,o("unknownToken"));a.push(...n)}l=a.sort(eq).slice(0,30),s[5]=i,s[6]=e,s[7]=n,s[8]=o,s[9]=t,s[10]=l}else l=s[10];let m=l;s[11]!==o?(a=o("rootNodeName"),s[11]=o,s[12]=a):a=s[12],s[13]!==m||s[14]!==a?(d={name:a,children:m},s[13]=m,s[14]=a,s[15]=d):d=s[15],r=d}return r}(I,30,null!=N?N:"ONE_DAY",_),D=(0,p.useMemo)(()=>{var e;return(null!=(e=M.children)?e:[]).map(e=>eH(e)).sort((e,n)=>e<n?-1:+(e>n)).join("|")},[M.children]),R=(0,p.useMemo)(()=>({name:M.name,children:M.children}),[D]),[$,U]=(0,p.useState)({});(0,p.useEffect)(()=>{let e=!1;return async function(){if(!(w&&R.children&&R.children.length>0))return U(e=>Object.keys(e).length?{}:e);try{let n=await ez(R,500);!e&&((()=>{let e=Object.keys($),l=Object.keys(n);if(e.length!==l.length)return!1;for(let e of l)if($[e]!==n[e])return!1;return!0})()||U(n))}catch(n){e||U(e=>Object.keys(e).length?{}:e)}}(),()=>{e=!0}},[w,R,$]);let q=(0,p.useCallback)(e=>{var n;if(e){if("token"===e.type&&e.currency){let n=k(e.currency);s.push(n);return}if("collection"===e.type&&(null==(n=e.metadata)?void 0:n.slug)&&E){let n=(0,f.getProfileUrlByIdentifier)(E),l="".concat(n,"/items?collectionSlugs=").concat(encodeURIComponent(e.metadata.slug));s.push(l)}}},[E,k,s]);return B||!E?(0,n.jsx)(eK,{}):V||!M.children||0===M.children.length?(0,n.jsx)(u.FlexCenter,{className:eG,children:(0,n.jsx)(c.EmptyState,{className:"w-full",size:"lg",variant:V?"no-data":"no-results"})}):(0,n.jsx)("div",{className:(0,i.classNames)(eG,"-mx-1.5"),children:(0,n.jsx)(m.TreeMap,{ariaLabel:e("ariaLabel"),borderRadius:6,className:"absolute size-full",data:M,getColor:e=>{var n,l;let t="dark"===d;if(w){let n=$[eH(e)]||(t?o.DARK_THEME.blue3:o.LIGHT_THEME.blue3);return(0,y.default)(n).alpha(.3).css()}return function(e,n){var l;let t=n?o.DARK_THEME:o.LIGHT_THEME;if(null==e)return t.bgContrast1;let a=(l=Math.abs(e))<eI.NEUTRAL?"neutral":l<eI.MEDIUM?"small":l<eI.LARGE?"medium":"large";if("neutral"===a)return t.bgContrast1;let r=e>0;return({small:r?t.success1:t.error1,medium:r?t.success2:t.error2,large:r?t.success3:t.error3})[a]}((null!=(l=null==(n=e.metadata)?void 0:n.change)?l:0)*100,t)},imageOnlyThreshold:100,interactiveTooltip:!0,labelThreshold:300,minDisplayThreshold:32,onNodeClick:q,padding:6,renderTileContent:(e,l)=>{let t=$[eH(e)];return(0,n.jsx)(ew,{brandedColor:t,context:l,node:e})},renderTooltip:e=>{let{item:l}=e;return(0,n.jsx)(ek,{item:l})},showLabels:!1})})},{fallback:()=>(0,n.jsx)(eK,{})});function eK(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(s.Block,{className:(0,i.classNames)(eG,"grid"),children:(0,n.jsx)(d.SkeletonBlock,{className:"size-full rounded-lg"})}),t[0]=e):e=t[0],e}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2ea679ac-5709-5e6a-8621-9fbc325d4cf6")}catch(e){}}();
//# debugId=2ea679ac-5709-5e6a-8621-9fbc325d4cf6
