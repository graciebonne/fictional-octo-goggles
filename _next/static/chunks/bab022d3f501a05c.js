(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,830656,e=>{"use strict";e.s(["SettingsHeader",()=>a]);var n=e.i(705378),s=e.i(590268),i=e.i(437153),l=e.i(965523),r=e.i(950293),t=e.i(625236);function a(e){let a,d,o,c,u=(0,s.c)(10),{title:m,description:g,className:h}=e;return u[0]!==h?(a=(0,i.classNames)("gap-2",h),u[0]=h,u[1]=a):a=u[1],u[2]!==m?(d=(0,n.jsx)(t.TextHeading,{asChild:!0,size:"md",children:(0,n.jsx)("h2",{children:m})}),u[2]=m,u[3]=d):d=u[3],u[4]!==g?(o=(0,n.jsx)(r.TextBody,{color:"text-secondary",size:"sm",children:g}),u[4]=g,u[5]=o):o=u[5],u[6]!==a||u[7]!==d||u[8]!==o?(c=(0,n.jsxs)(l.FlexColumn,{className:a,children:[d,o]}),u[6]=a,u[7]=d,u[8]=o,u[9]=c):c=u[9],c}},115858,e=>{"use strict";e.s(["useSettingsIdentifier",()=>l]);var n=e.i(700398),s=e.i(806056);e.i(500598);var i=e.i(207225);function l(){let e=(0,i.useAddress)(),l=(0,n.usePrimaryAccount)();return(0,s.useIsAccountProfileMigrationEnabled)()?(null==l?void 0:l.username)||(null==l?void 0:l.address):e}},49878,e=>{"use strict";e.s(["LinkedWalletsSkeletons",()=>t]);var n=e.i(705378),s=e.i(590268),i=e.i(695698),l=e.i(999258),r=e.i(584502);function t(e){let t,a,d=(0,s.c)(6),{count:o,showList:c}=e,u=void 0===o?3:o;d[0]!==u?(t=Array.from({length:u},(e,s)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(r.AccountSwitcherAccountItemsSkeleton,{}),s<u-1&&(0,n.jsx)(l.Separator,{})]},s)),d[0]=u,d[1]=t):t=d[1];let m=t;if(!(void 0===c||c)){let e;return d[2]!==m?(e=(0,n.jsx)(n.Fragment,{children:m}),d[2]=m,d[3]=e):e=d[3],e}return d[4]!==m?(a=(0,n.jsx)(i.List,{className:"rounded-lg border border-border-1 bg-bg-primary",showBorder:!1,children:m}),d[4]=m,d[5]=a):a=d[5],a}},318423,e=>{"use strict";e.s(["SettingsWalletLinking",()=>U],318423);var n=e.i(705378),s=e.i(528198),i=e.i(635341),l=e.i(333799),r=e.i(502732),t=e.i(194153),a=e.i(965523),d=e.i(838820),o=e.i(695698),c=e.i(999258),u=e.i(258343),m=e.i(950293),g=e.i(6840),h=e.i(861316),v=e.i(41808),y=e.i(80839),p=e.i(940704),x=e.i(436609),A=e.i(584502),f=e.i(313479),S=e.i(46486),j=e.i(389852),k=e.i(115858),b=e.i(84438);e.i(904520);var N=e.i(765778);e.i(754689);var w=e.i(49878);let L=(0,s.graphql)("\n  fragment SettingsWalletLinking on Query {\n    walletsByAccount {\n      items {\n        address\n        isPrivate\n        isConnected\n        label\n        lastSeenConnectorId\n      }\n    }\n  }\n");var B=e.i(590268),C=e.i(437153),W=e.i(806056),z=e.i(830656);function I(e){let s,i,l,r,t,d=(0,B.c)(15),{children:o,className:c,maxWalletsLinked:u}=e,m=void 0===u?10:u,g=(0,p.useTranslations)("SettingsWalletLinking"),h=(0,W.useIsAccountProfileMigrationEnabled)();d[0]!==h||d[1]!==m||d[2]!==g?(s=g(h?"descriptionWithVisibility":"description",{maxWalletsLinked:m}),d[0]=h,d[1]=m,d[2]=g,d[3]=s):s=d[3];let v=s;return d[4]!==c?(i=(0,C.classNames)("gap-8",c),d[4]=c,d[5]=i):i=d[5],d[6]!==g?(l=g("title"),d[6]=g,d[7]=l):l=d[7],d[8]!==v||d[9]!==l?(r=(0,n.jsx)(z.SettingsHeader,{description:v,title:l}),d[8]=v,d[9]=l,d[10]=r):r=d[10],d[11]!==o||d[12]!==i||d[13]!==r?(t=(0,n.jsxs)(a.FlexColumn,{className:i,children:[r,o]}),d[11]=o,d[12]=i,d[13]=r,d[14]=t):t=d[14],t}var P=e.i(821303);let T=(0,s.graphql)("\n    query SettingsWalletLinkingQuery {\n      ...SettingsWalletLinking\n      walletsByAccount {\n        items {\n          address\n          isPrivate\n          label\n          lastSeenConnectorId\n        }\n      }\n      maxWalletsLinked\n    }\n  ",[L]),q=(0,s.graphql)("\n  query WalletProfiles($addresses: [Address!]!) {\n    profilesByAddresses(addresses: $addresses) {\n      ... on Profile {\n        address\n        username\n        displayName\n        ensName\n        imageUrl\n        portfolioSummary {\n          estimatedTokenValue { usd }\n        }\n      }\n    }\n  }\n"),F=(0,s.graphql)("\n    query SettingsWalletLinkingTopAccount($identifier: String!) {\n      profileByIdentifierV2(identifier: $identifier) {\n        ... on Profile {\n          ...AccountSwitcherAccountItems\n        }\n      }\n    }\n  ",[x.AccountSwitcherAccountItemsFragment]),U=(0,j.withSuspense)(e=>{var s,j,w,B,C,W,z,U;let V,{className:Q}=e,E=(0,p.useTranslations)("SettingsWalletLinking"),O=(0,k.useSettingsIdentifier)(),{openAddWalletModal:R}=(0,b.useLinkedWalletModalStore)(),$=(0,P.useRenderUsdBalance)(),_=(0,v.usePreviouslyConnectedAccounts)(),H=(0,y.keyBy)(_,e=>(0,h.normalizeAddress)(e.address)),[{data:M},K]=(0,l.useQuery)({query:T},{throwOnError:!1}),D=(0,i.readFragment)(L,M),G=(null!=(w=null==D||null==(s=D.walletsByAccount)?void 0:s.items)?w:[]).filter(e=>!(0,N.isSolanaEmbeddedWallet)(e.address,e.lastSeenConnectorId)),J=null==M?void 0:M.maxWalletsLinked,X=G.map(e=>(0,h.normalizeAddress)(e.address)),[{data:Y,fetching:Z}]=(0,l.useQuery)({query:q,variables:{addresses:X},pause:0===X.length}),[{data:ee}]=(0,l.useQuery)({query:F,variables:{identifier:O||""},pause:!O}),en={};for(let e of null!=(B=null==Y?void 0:Y.profilesByAddresses)?B:[])(null==e?void 0:e.__typename)==="Profile"&&(en[(0,h.normalizeAddress)(e.address)]={username:e.username,displayName:e.displayName,ensName:e.ensName,imageUrl:e.imageUrl,usd:null!=(z=null==(W=e.portfolioSummary)||null==(C=W.estimatedTokenValue)?void 0:C.usd)?z:-1});let es=null==ee?void 0:ee.profileByIdentifierV2;es&&"Profile"===es.__typename&&(V=(0,i.readFragment)(x.AccountSwitcherAccountItemsFragment,es));let ei=(0,y.keyBy)(null!=(U=null==M||null==(j=M.walletsByAccount)?void 0:j.items)?U:[],e=>(0,h.normalizeAddress)(e.address)),el=[...G].sort((e,n)=>{var s,i,l,r;let t=null!=(l=null==(s=en[(0,h.normalizeAddress)(e.address)])?void 0:s.usd)?l:-1,a=null!=(r=null==(i=en[(0,h.normalizeAddress)(n.address)])?void 0:i.usd)?r:-1;if(t!==a)return a-t;let o=en[(0,h.normalizeAddress)(e.address)],c=en[(0,h.normalizeAddress)(n.address)],u=(null==o?void 0:o.displayName)||(0,d.formatAddress)((0,h.normalizeAddress)(e.address)),m=(null==c?void 0:c.displayName)||(0,d.formatAddress)((0,h.normalizeAddress)(n.address));return u.localeCompare(m)}),er=Object.values(en).reduce((e,n)=>e+(n.usd>0?n.usd:0),0);return 0===G.length?(0,n.jsx)(I,{className:Q,maxWalletsLinked:J,children:(0,n.jsxs)(t.CenterAligned,{className:"gap-4 py-12",children:[(0,n.jsx)(g.AccountCircle,{fill:"text-secondary",size:48}),(0,n.jsxs)(t.CenterAligned,{className:"gap-2",children:[(0,n.jsx)(m.TextBody,{weight:"semibold",children:E("emptyState.title")}),(0,n.jsx)(m.TextBody,{color:"text-secondary",size:"sm",children:E("emptyState.description")})]})]})}):(0,n.jsx)(I,{className:Q,maxWalletsLinked:J,children:(0,n.jsxs)(a.FlexColumn,{className:"gap-4",children:[V?(0,n.jsx)("div",{className:"rounded-lg border border-border-1 bg-bg-primary",children:(0,n.jsx)(f.AccountSwitcherTopAccount,{account:V,isLink:!1,usdTotalValue:er,variant:"full",walletCount:G.length})}):null,(0,n.jsxs)(u.SpaceBetween,{className:"flex items-center",children:[(0,n.jsx)(m.TextBody,{size:"sm",weight:"semibold",children:E("yourLinkedWallets")}),(0,n.jsx)(r.Button,{onClick:R,size:"sm",variant:"primary",children:E("addWallet")})]}),(0,n.jsx)(o.List,{className:"inset-shadow-border rounded-md bg-bg-app",showBorder:!1,children:(Z?X:el.map(e=>e.address)).map((e,s)=>{var i,l;let r=(0,h.normalizeAddress)(e),t=en[r],a=ei[r],d=null==a?void 0:a.lastSeenConnectorId,o=null==a?void 0:a.isPrivate,u=H[r],m=(0,N.normalizeConnectorId)(d)||(0,N.normalizeConnectorId)(null==u?void 0:u.connectorId);return(0,n.jsxs)("div",{children:[Z?(0,n.jsx)(A.AccountSwitcherAccountItemsSkeleton,{}):(0,n.jsx)(S.LinkedAccountSwitcherItem,{address:r,avatarSize:28,className:"h-16 px-4",connectorId:m,description:$(null!=(l=null==(i=en[r])?void 0:i.usd)?l:void 0),ensName:null==t?void 0:t.ensName,imageUrl:null==t?void 0:t.imageUrl,isLink:!1,isPrivate:o,label:null==a?void 0:a.label,linkedWalletsCount:G.length,onRefresh:()=>{K({requestPolicy:"network-only"})},showActions:!0,username:null==t?void 0:t.username,variant:"full"}),s<X.length-1&&(0,n.jsx)(c.Separator,{})]},r)})})]})})},{fallback:e=>{let{className:s}=e;return(0,n.jsx)(I,{className:s,children:(0,n.jsx)(w.LinkedWalletsSkeletons,{})})},ssr:!1})}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e08c9840-b97b-550e-a65d-e2aa857554b9")}catch(e){}}();
//# debugId=e08c9840-b97b-550e-a65d-e2aa857554b9
