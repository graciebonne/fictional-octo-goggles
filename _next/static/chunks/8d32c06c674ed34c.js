(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,250794,968089,948949,110950,892186,65897,495620,69103,538002,e=>{"use strict";e.s([],250794),e.s(["GalleryListBottomBar",()=>y],948949);var t=e.i(705378),n=e.i(590268),r=e.i(325636),l=e.i(502732),i=e.i(953756),a=e.i(437153),o=e.i(254842),s=e.i(339694),d=e.i(967593),c=e.i(217961),u=e.i(940704),f=e.i(754459),h=e.i(466598);e.s(["MAX_SHELF_COUNT",()=>m],968089);let m=50;var g=e.i(647291),p=e.i(347625);e.i(712154);var v=e.i(998868);function y(){let e,y,S,I,j,C,T,M,D,E,k,L,F,R,N,P=(0,n.c)(38),[O,B,A]=(0,v.useGalleryListStore)((0,f.useShallow)(w)),G=(0,r.useRouter)(),_=(0,h.useProfileItemsSelectionStore)(b),z=(0,u.useTranslations)("ProfileGallery"),U=(0,g.useIsOwnProfileAddress)(),q=A.filter(x).length<m;P[0]!==G||P[1]!==_?(e=()=>{_("gallery"),G.push("/profile")},P[0]=G,P[1]=_,P[2]=e):e=P[2];let H=e;if(!(U&&A.length))return null;P[3]===Symbol.for("react.memo_cache_sentinel")?(y=(0,a.classNames)("border-border-1 border-t bg-bg-app","inset-x-0 py-2 lg:left-side-nav","z-action-bar",(0,p.bottomFixedVariants)()),P[3]=y):y=P[3],P[4]!==B?(S=e=>B(e),P[4]=B,P[5]=S):S=P[5],P[6]!==z?(I=z("edit"),P[6]=z,P[7]=I):I=P[7],P[8]!==I?(j=(0,t.jsx)(s.ToggleButtonGroupItem,{value:"edit",children:I}),P[8]=I,P[9]=j):j=P[9],P[10]!==z?(C=z("preview"),P[10]=z,P[11]=C):C=P[11],P[12]!==C?(T=(0,t.jsx)(s.ToggleButtonGroupItem,{value:"view",children:C}),P[12]=C,P[13]=T):T=P[13],P[14]!==O||P[15]!==S||P[16]!==j||P[17]!==T?(M=(0,t.jsxs)(s.ToggleButtonGroup,{onValueChange:S,value:O,children:[j,T]}),P[14]=O,P[15]=S,P[16]=j,P[17]=T,P[18]=M):M=P[18],P[19]!==z?(D=z("maxShelvesError",{max:m}),P[19]=z,P[20]=D):D=P[20];let $=!q;return P[21]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)(c.Add,{}),P[21]=E):E=P[21],P[22]!==z?(k=z("createNewGallery"),P[22]=z,P[23]=k):k=P[23],P[24]!==H||P[25]!==k||P[26]!==$?(L=(0,t.jsx)("span",{children:(0,t.jsx)(l.Button,{disabled:$,icon:E,onClick:H,size:"sm",variant:"secondary",children:k})}),P[24]=H,P[25]=k,P[26]=$,P[27]=L):L=P[27],P[28]!==q||P[29]!==L||P[30]!==D?(F=(0,t.jsx)(d.Tooltip,{content:D,disabled:q,children:L}),P[28]=q,P[29]=L,P[30]=D,P[31]=F):F=P[31],P[32]!==F||P[33]!==M?(R=(0,t.jsxs)(i.Container,{className:"flex w-full items-center justify-between gap-3",children:[M,F]}),P[32]=F,P[33]=M,P[34]=R):R=P[34],P[35]!==y||P[36]!==R?(N=(0,t.jsx)(o.Flex,{className:y,children:R}),P[35]=y,P[36]=R,P[37]=N):N=P[37],N}function x(e){return e.shelfItems&&e.shelfItems.length>0}function b(e){return e.setAction}function w(e){return[e.mode,e.setMode,e.shelves]}e.s(["MultiItemGalleryFragment",()=>B],495620);var S=e.i(528198);e.s(["MultiItemGalleryItemFragment",()=>O],65897),e.s(["GalleryItemsCardFragment",()=>P],892186);var I=e.i(682576),j=e.i(190627),C=e.i(201578),T=e.i(905550),M=e.i(606136),D=e.i(542840),E=e.i(959105);e.i(661049);var k=e.i(190519),L=e.i(335217),F=e.i(676732),R=e.i(661331);e.s(["GalleryItemEditModalFragment",()=>N],110950);let N=(0,S.graphql)("\n  fragment GalleryItemEditModalItem on Item {\n    id\n    name\n    imageUrl\n    contractAddress\n    tokenId\n    chain {\n      identifier\n    }\n  }\n"),P=(0,S.graphql)("\n    fragment GalleryItemsCardFragment on Item {\n      id\n      name\n      imageUrl\n      isFungible\n      chain {\n        identifier\n      }\n      contractAddress\n      tokenId\n      ...bestItemOffer\n      lowestListingForOwner(address: $address) {\n        id\n        pricePerItem {\n          ...TokenPrice\n        }\n        maker {\n          address\n        }\n        marketplace {\n          identifier\n        }\n        ...useCancelOrders\n      }\n      lowestListingForUser(accountId: $accountId) {\n        id\n        pricePerItem {\n          ...TokenPrice\n        }\n        maker {\n          address\n        }\n        marketplace {\n          identifier\n        }\n        ...useCancelOrders\n      }\n      enforcement {\n        isDisabled\n        isCompromised\n      }\n      collection {\n        slug\n        ...CollectionLockup\n        ...CollectionLink\n        ...CollectionPreviewTooltip\n      }\n      ...ItemCardMedia\n      ...ItemCardNameFragment\n      ...RarityBadgeFragment\n      ...ItemLink\n      ...GalleryItemEditModalItem\n      ...EnforcementBadge\n    }\n  ",[I.CollectionLockupFragment,T.ItemCardMediaFragment,M.ItemCardNameFragment,D.RarityBadgeFragment,k.ItemLinkFragment,N,E.CollectionLinkFragment,C.CollectionPreviewTooltipFragment,j.TokenPriceFragment,F.EnforcementBadgeFragment,R.bestItemOfferFragment,L.useCancelOrdersFragment]),O=(0,S.graphql)("\n    fragment MultiItemGalleryItem on ProfileShelfItem {\n      description\n      item {\n        id\n        __typename\n        ...GalleryItemsCardFragment\n      }\n    }\n  ",[P]),B=(0,S.graphql)("\n    fragment MultiItemGallery on ProfileShelf {\n      id\n      title\n      description\n      shelfItems {\n        ...MultiItemGalleryItem\n      }\n      icon\n      view\n    }\n  ",[O]);e.s(["GalleryItemEditModal",()=>Z],69103);var A=e.i(635341),G=e.i(965523),_=e.i(972483),z=e.i(999258),U=e.i(784767),q=e.i(950293),H=e.i(794576),$=e.i(969498),Y=e.i(565673),V=e.i(84060),X=e.i(683269),K=e.i(751712);let W=(0,S.graphql)("\n  mutation UpdateProfileShelfItemDescription($id: ID!, $input: EditProfileShelfItemInput!) {\n    updateProfileShelfItemDescription(id: $id, input: $input) {\n      success\n      error {\n        __typename\n      }\n    }\n  }\n");function Z(e){let r,l,i,a,s,c,h,m,g,p,y,x,b,w,S,I,j,C,T,M,D,E,k,L,F,R,P,O,B=(0,n.c)(71),{isOpen:Z,onClose:Q,item:ee,shelfId:et,currentDescription:en}=e,er=(0,u.useTranslations)("GalleryLabel"),[el,ei]=(0,$.useState)(!1),ea=(0,A.readFragment)(N,ee),eo=en||"";B[0]!==eo?(r={mode:"onChange",defaultValues:{description:eo}},B[0]=eo,B[1]=r):r=B[1];let{register:es,formState:ed,handleSubmit:ec,control:eu}=(0,Y.useForm)(r);B[2]!==eu?(l={control:eu,name:"description"},B[2]=eu,B[3]=l):l=B[3];let ef=(0,Y.useWatch)(l),eh=(0,v.useGalleryListStore)((0,f.useShallow)(J)),{updateProfileShelfItemDescription:em}=function(e){let t,r,l=(0,n.c)(8),[i,a]=(0,V.useMutation)(W),{error:o}=i,{showErrorMessage:s,showSuccessMessage:d}=(0,X.useToasts)();void 0!==l[0]||l[1]!==s||l[2]!==d||l[3]!==a?(t=async e=>{var t,n,r;let{shelfId:l,item:i,description:o}=e,c=await a({id:l,input:{item:{contractAddress:i.contractAddress,tokenId:i.tokenId,chain:i.chain},description:o}});if(null==(n=c.data)||null==(t=n.updateProfileShelfItemDescription)?void 0:t.success)return d("Gallery label saved successfully"),{success:!0};let u=(null==(r=c.error)?void 0:r.message)||"Failed to save gallery label";return s(u),{success:!1,error:u}},l[0]=e,l[1]=s,l[2]=d,l[3]=a,l[4]=t):t=l[4];let c=(0,K.useAuthenticatedCallback)(t);return l[5]!==o||l[6]!==c?(r={updateProfileShelfItemDescription:c,isLoading:!1,error:o},l[5]=o,l[6]=c,l[7]=r):r=l[7],r}(),eg=ec(async e=>{ei(!0);let t={contractAddress:ea.contractAddress,tokenId:ea.tokenId,chain:ea.chain.identifier},n=await em({shelfId:et,item:t,description:e.description.trim()});ei(!1),n.success&&(eh(et,ea.id,e.description.trim()),Q())});if(!ea)return null;B[4]!==er?(i=er("addGalleryLabel"),B[4]=er,B[5]=i):i=B[5],B[6]!==i?(a=(0,t.jsx)(_.ModalHeader,{children:(0,t.jsx)(_.ModalHeaderTitle,{children:i})}),B[6]=i,B[7]=a):a=B[7],B[8]!==ea.imageUrl||B[9]!==ea.name?(s=ea.imageUrl&&(0,t.jsx)("div",{className:"relative aspect-square w-full overflow-hidden rounded-lg",children:(0,t.jsx)("img",{alt:ea.name,className:"h-full w-full object-cover",src:ea.imageUrl})}),B[8]=ea.imageUrl,B[9]=ea.name,B[10]=s):s=B[10],B[11]!==er?(c=er("galleryLabel"),B[11]=er,B[12]=c):c=B[12],B[13]!==c?(h=(0,t.jsx)(q.TextBody,{size:"sm",weight:"semibold",children:c}),B[13]=c,B[14]=h):h=B[14],B[15]!==er?(m=er("descriptionTooltip"),B[15]=er,B[16]=m):m=B[16],B[17]!==m?(g=(0,t.jsx)(q.TextBody,{size:"md",children:m}),B[17]=m,B[18]=g):g=B[18],B[19]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(H.Info,{className:"size-4 text-text-secondary"}),B[19]=p):p=B[19],B[20]!==g?(y=(0,t.jsx)(d.Tooltip,{className:"max-w-[420px]",content:g,children:p}),B[20]=g,B[21]=y):y=B[21],B[22]!==y||B[23]!==h?(x=(0,t.jsxs)(o.Flex,{className:"items-center gap-1",children:[h,y]}),B[22]=y,B[23]=h,B[24]=x):x=B[24],B[25]!==es||B[26]!==er?(b=es("description",{maxLength:{value:500,message:er("descriptionMaxLength",{max:500})}}),B[25]=es,B[26]=er,B[27]=b):b=B[27],B[28]!==er?(w=er("addLabelText"),B[28]=er,B[29]=w):w=B[29],B[30]!==b||B[31]!==w?(S=(0,t.jsx)(U.TextArea,{...b,className:"resize-none whitespace-pre-wrap break-words",placeholder:w,rows:10}),B[30]=b,B[31]=w,B[32]=S):S=B[32],B[33]!==ef||B[34]!==ed.errors.description||B[35]!==er?(I=ed.errors.description?(0,t.jsx)(q.TextBody,{color:"error-1",size:"xs",children:ed.errors.description.message}):(0,t.jsxs)(q.TextBody,{color:ef.length>500?"error-1":"text-secondary",size:"xs",children:[ef.length,er("stringMax",{max:500})]}),B[33]=ef,B[34]=ed.errors.description,B[35]=er,B[36]=I):I=B[36],B[37]!==x||B[38]!==S||B[39]!==I?(j=(0,t.jsxs)(G.FlexColumn,{className:"gap-2",children:[x,S,I]}),B[37]=x,B[38]=S,B[39]=I,B[40]=j):j=B[40],B[41]!==j||B[42]!==s?(C=(0,t.jsxs)(G.FlexColumn,{className:"gap-6",children:[s,j]}),B[41]=j,B[42]=s,B[43]=C):C=B[43],B[44]!==eg||B[45]!==C?(T=(0,t.jsx)(_.ModalBody,{asChild:!0,children:(0,t.jsx)("form",{id:"gallery-label-form",onSubmit:eg,children:C})}),B[44]=eg,B[45]=C,B[46]=T):T=B[46],B[47]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)(z.Separator,{}),B[47]=M):M=B[47],B[48]!==er?(D=er("cancel"),B[48]=er,B[49]=D):D=B[49],B[50]!==Q||B[51]!==D?(E=(0,t.jsx)(_.ModalFooterButton,{onClick:Q,variant:"secondary",children:D}),B[50]=Q,B[51]=D,B[52]=E):E=B[52];let ep=!ed.isValid||el;return B[53]!==er?(k=er("save"),B[53]=er,B[54]=k):k=B[54],B[55]!==ep||B[56]!==k?(L=(0,t.jsx)(_.ModalFooterButton,{disabled:ep,form:"gallery-label-form",type:"submit",children:k}),B[55]=ep,B[56]=k,B[57]=L):L=B[57],B[58]!==E||B[59]!==L?(F=(0,t.jsxs)(_.ModalFooter,{children:[E,L]}),B[58]=E,B[59]=L,B[60]=F):F=B[60],B[61]!==T||B[62]!==F||B[63]!==a?(R=(0,t.jsxs)(t.Fragment,{children:[a,T,M,F]}),B[61]=T,B[62]=F,B[63]=a,B[64]=R):R=B[64],B[65]!==Q?(P=e=>!e&&Q(),B[65]=Q,B[66]=P):P=B[66],B[67]!==Z||B[68]!==R||B[69]!==P?(O=(0,t.jsx)(_.Modal,{content:R,onOpenChange:P,open:Z,size:"sm"}),B[67]=Z,B[68]=R,B[69]=P,B[70]=O):O=B[70],O}function J(e){return e.updateShelfItemDescription}function Q(e,t){let r,l=(0,n.c)(4),i=(0,g.useProfileAddress)();return l[0]!==t||l[1]!==i||l[2]!==e?(r=i?function(e,t,n){let r="/gallery/".concat(e,"/").concat(t);return n?"".concat(r,"?item=").concat(n):r}(i,e,t):"",l[0]=t,l[1]=i,l[2]=e,l[3]=r):r=l[3],r}e.s(["useGalleryUrl",()=>Q],538002)},342238,669988,e=>{"use strict";e.s([],342238),e.s(["GalleryIcon",()=>S],669988);var t=e.i(705378),n=e.i(590268),r=e.i(528198),l=e.i(84060),i=e.i(806957),a=e.i(718813),o=e.i(967593),s=e.i(457628),d=e.i(754163),c=e.i(96937),u=e.i(291067),f=e.i(153143),h=e.i(251473),m=e.i(516586),g=e.i(152851),p=e.i(534763),v=e.i(940704),y=e.i(969498);e.i(712154);var x=e.i(998868);let b={BOLT:d.Bolt,DIAMOND:c.Diamond,FAVORITE:u.Favorite,STAR:p.Star,PIN:h.Keep,HOT:m.LocalFireDepartment,QUILL:f.HistoryEdu,SMILEY:g.SentimentSatisfied},w=(0,r.graphql)("\n  mutation UpdateShelfIcon($id: ID!, $input: EditProfileShelfInput!) {\n    updateProfileShelf(id: $id, input: $input) {\n      success\n      error {\n        __typename\n      }\n    }\n  }\n");function S(e){let r,d,u,f,h,m,g,p,S,j=(0,n.c)(22),{className:C,icon:T,shelfId:M}=e,[D,E]=(0,y.useState)(T),k=(0,x.useGalleryListStore)(I),L=D?b[D]:c.Diamond,[,F]=(0,l.useMutation)(w),R=function(){let e,t,r,l,i,a,o,s,d,c=(0,n.c)(25),u=(0,v.useTranslations)("ProfileGallery.icons");return c[0]!==u?(e=u("bolt"),c[0]=u,c[1]=e):e=c[1],c[2]!==u?(t=u("diamond"),c[2]=u,c[3]=t):t=c[3],c[4]!==u?(r=u("favorite"),c[4]=u,c[5]=r):r=c[5],c[6]!==u?(l=u("star"),c[6]=u,c[7]=l):l=c[7],c[8]!==u?(i=u("pin"),c[8]=u,c[9]=i):i=c[9],c[10]!==u?(a=u("hot"),c[10]=u,c[11]=a):a=c[11],c[12]!==u?(o=u("quill"),c[12]=u,c[13]=o):o=c[13],c[14]!==u?(s=u("smiley"),c[14]=u,c[15]=s):s=c[15],c[16]!==e||c[17]!==t||c[18]!==r||c[19]!==l||c[20]!==i||c[21]!==a||c[22]!==o||c[23]!==s?(d={BOLT:e,DIAMOND:t,FAVORITE:r,STAR:l,PIN:i,HOT:a,QUILL:o,SMILEY:s},c[16]=e,c[17]=t,c[18]=r,c[19]=l,c[20]=i,c[21]=a,c[22]=o,c[23]=s,c[24]=d):d=c[24],d}(),N=(0,v.useTranslations)("ProfileGallery");j[0]!==M||j[1]!==F?(r=async e=>{E(e),M&&await F({id:M,input:{icon:e}})},j[0]=M,j[1]=F,j[2]=r):r=j[2];let P=r;j[3]!==L?(d=(0,t.jsx)(a.IconCallout,{fill:"text-secondary",icon:L,size:18,variant:"outlined"}),j[3]=L,j[4]=d):d=j[4];let O=d;j[5]!==C||j[6]!==O?(u=(0,t.jsx)(s.UnstyledButton,{className:C,children:O}),j[5]=C,j[6]=O,j[7]=u):u=j[7];let B=u;return"view"===k?B:(j[8]===Symbol.for("react.memo_cache_sentinel")?(f=Object.keys(b),j[8]=f):f=j[8],j[9]!==P||j[10]!==R?(h=f.map(e=>(0,t.jsxs)(i.DropdownItem,{onClick:async()=>{await P(e)},children:[(0,t.jsx)(i.DropdownItemAvatar,{icon:b[e]}),(0,t.jsx)(i.DropdownItemContent,{children:(0,t.jsx)(i.DropdownItemTitle,{children:R[e]})})]},e)),j[9]=P,j[10]=R,j[11]=h):h=j[11],j[12]!==N?(m=N("changeIcon"),j[12]=N,j[13]=m):m=j[13],j[14]!==B?(g=(0,t.jsx)("span",{children:B}),j[14]=B,j[15]=g):g=j[15],j[16]!==m||j[17]!==g?(p=(0,t.jsx)("span",{children:(0,t.jsx)(o.Tooltip,{content:m,children:g})}),j[16]=m,j[17]=g,j[18]=p):p=j[18],j[19]!==h||j[20]!==p?(S=(0,t.jsx)(i.Dropdown,{align:"start",content:h,children:p}),j[19]=h,j[20]=p,j[21]=S):S=j[21],S)}function I(e){return e.mode}},35330,416399,e=>{"use strict";e.s(["CopyGalleryLinkButton",()=>d],35330);var t=e.i(705378),n=e.i(590268),r=e.i(502732),l=e.i(895032),i=e.i(274214),a=e.i(506291),o=e.i(940704),s=e.i(538002);function d(e){let d,c,u,f=(0,n.c)(6),{shelfId:h}=e,m=(0,s.useGalleryUrl)(h),g=(0,o.useTranslations)("ProfileGallery"),p="".concat(a.SITE_URL.origin).concat(m);return f[0]!==g?(d=g("copyGalleryUrl"),f[0]=g,f[1]=d):d=f[1],f[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(r.Button,{icon:i.LinkIcon,size:"sm",variant:"secondary"}),f[2]=c):c=f[2],f[3]!==p||f[4]!==d?(u=(0,t.jsx)(l.CopyToClipboard,{text:p,tooltipText:d,children:c}),f[3]=p,f[4]=d,f[5]=u):u=f[5],u}e.s(["DeleteShelfButton",()=>w],416399);var c=e.i(528198),u=e.i(84060),f=e.i(967593),h=e.i(509906),m=e.i(972483),g=e.i(950293),p=e.i(969498);function v(e){let r,l,i,a,s,d,c,u,f,h,v,y,x,b,w=(0,n.c)(32),{children:S,onDelete:I}=e,[j,C]=(0,p.useState)(!1),T=(0,o.useTranslations)("DeleteGalleryConfirmModal");w[0]!==I?(r=()=>{C(!1),I()},w[0]=I,w[1]=r):r=w[1];let M=r;return w[2]!==T?(l=T("confirm"),w[2]=T,w[3]=l):l=w[3],w[4]!==l?(i=(0,t.jsx)(m.ModalHeader,{children:(0,t.jsx)(m.ModalHeaderTitle,{children:l})}),w[4]=l,w[5]=i):i=w[5],w[6]!==T?(a=T("areYouSure"),w[6]=T,w[7]=a):a=w[7],w[8]!==a?(s=(0,t.jsx)(m.ModalBody,{children:(0,t.jsx)(g.TextBody,{color:"text-secondary",children:a})}),w[8]=a,w[9]=s):s=w[9],w[10]===Symbol.for("react.memo_cache_sentinel")?(d=()=>C(!1),w[10]=d):d=w[10],w[11]!==T?(c=T("cancel"),w[11]=T,w[12]=c):c=w[12],w[13]!==c?(u=(0,t.jsx)(m.ModalFooterButton,{onClick:d,variant:"secondary",children:c}),w[13]=c,w[14]=u):u=w[14],w[15]!==T?(f=T("delete"),w[15]=T,w[16]=f):f=w[16],w[17]!==M||w[18]!==f?(h=(0,t.jsx)(m.ModalFooterButton,{onClick:M,variant:"destructive",children:f}),w[17]=M,w[18]=f,w[19]=h):h=w[19],w[20]!==h||w[21]!==u?(v=(0,t.jsxs)(m.ModalFooter,{children:[u,h]}),w[20]=h,w[21]=u,w[22]=v):v=w[22],w[23]!==v||w[24]!==i||w[25]!==s?(y=(0,t.jsxs)(t.Fragment,{children:[i,s,v]}),w[23]=v,w[24]=i,w[25]=s,w[26]=y):y=w[26],w[27]===Symbol.for("react.memo_cache_sentinel")?(x=e=>C(e),w[27]=x):x=w[27],w[28]!==S||w[29]!==j||w[30]!==y?(b=(0,t.jsx)(m.Modal,{content:y,onOpenChange:x,open:j,children:S}),w[28]=S,w[29]=j,w[30]=y,w[31]=b):b=w[31],b}var y=e.i(751712);e.i(712154);var x=e.i(998868);let b=(0,c.graphql)("\n  mutation DeleteShelf($id: ID!) {\n    deleteProfileShelf(id: $id) {\n      success\n    }\n  }\n");function w(e){let l,i,a,s,d,c=(0,n.c)(12),{shelfId:m}=e,g=(0,x.useGalleryListStore)(S),[,p]=(0,u.useMutation)(b),w=(0,o.useTranslations)("ProfileGallery");c[0]!==p||c[1]!==g||c[2]!==m?(l=async()=>{var e;let{data:t}=await p({id:m});(null==t||null==(e=t.deleteProfileShelf)?void 0:e.success)&&g(m)},c[0]=p,c[1]=g,c[2]=m,c[3]=l):l=c[3];let I=(0,y.useAuthenticatedCallback)(l);return c[4]!==w?(i=w("deleteShelf"),c[4]=w,c[5]=i):i=c[5],c[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(r.Button,{icon:h.Delete,size:"sm",variant:"secondary"}),c[6]=a):a=c[6],c[7]!==i?(s=(0,t.jsx)("span",{children:(0,t.jsx)(f.Tooltip,{content:i,children:a})}),c[7]=i,c[8]=s):s=c[8],c[9]!==I||c[10]!==s?(d=(0,t.jsx)(v,{onDelete:I,children:s}),c[9]=I,c[10]=s,c[11]=d):d=c[11],d}function S(e){return e.deleteShelf}},712154,481719,978077,302092,404531,860441,938572,82266,998868,e=>{"use strict";e.s([],712154),e.s(["GalleryListProvider",()=>eh,"useGalleryListStore",()=>em],998868);var t=e.i(705378),n=e.i(590268),r=e.i(969498),l=e.i(595273),i=e.i(647291);e.i(250794);var a=e.i(948949);e.s(["createGalleryListStore",()=>eu,"galleryListFragment",()=>ec],82266);var o=e.i(528198),s=e.i(286419);e.s(["GallerySectionFragment",()=>ed],938572);var d=e.i(495620);e.s([],860441),e.s(["SingleItemGallery",()=>ea],404531);var c=e.i(635341),u=e.i(502732),f=e.i(491150),h=e.i(254842),m=e.i(39771),g=e.i(965523),p=e.i(950293),v=e.i(625236),y=e.i(471966),x=e.i(940704);e.i(661049);var b=e.i(493473);e.i(275521);var w=e.i(6425),S=e.i(69103),I=e.i(538002);e.i(342238);var j=e.i(669988);e.s([],978077),e.s(["ShelfActions",()=>Z],481719);var C=e.i(999258),T=e.i(258343),M=e.i(754459),D=e.i(35330),E=e.i(416399),k=e.i(967593),L=e.i(150093),F=e.i(715983);function R(e){var r,l;let i,a,o,s,d,c,f,h=(0,n.c)(17),{shelfId:m}=e;h[0]!==m?(i=e=>e.shelves.find(e=>e.id===m),h[0]=m,h[1]=i):i=h[1];let g=em((0,M.useShallow)(i));h[2]!==(null==g?void 0:g.shelfItems)?(a=null==g||null==(r=g.shelfItems)?void 0:r.map(N),h[2]=null==g?void 0:g.shelfItems,h[3]=a):a=h[3];let p=a,v=(0,x.useTranslations)("ProfileGallery"),y=null==g?void 0:g.title,b=null!=(l=null==g?void 0:g.description)?l:"";h[4]!==p||h[5]!==y||h[6]!==b?(o={title:y,description:b,selectedItems:p},h[4]=p,h[5]=y,h[6]=b,h[7]=o):o=h[7];let w=null==g?void 0:g.id;return h[8]!==v?(s=v("editGallery"),h[8]=v,h[9]=s):s=h[9],h[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(u.Button,{icon:L.Edit,size:"sm",variant:"secondary"}),h[10]=d):d=h[10],h[11]!==s?(c=(0,t.jsx)("span",{children:(0,t.jsx)(k.Tooltip,{content:s,children:d})}),h[11]=s,h[12]=c):c=h[12],h[13]!==o||h[14]!==w||h[15]!==c?(f=(0,t.jsx)(F.GallerySectionModal,{defaultValues:o,shelfId:w,children:c}),h[13]=o,h[14]=w,h[15]=c,h[16]=f):f=h[16],f}function N(e){return{contractAddress:e.item.contractAddress,tokenId:e.item.tokenId,chain:e.item.chain.identifier,imageUrl:e.item.imageUrl,id:e.item.id}}var P=e.i(84060),O=e.i(790621),B=e.i(437153);function A(e){let r,l,i,a,o,s,d,c,u=(0,n.c)(15);u[0]!==e?({size:i,fill:a,fillAttribute:o,className:r,...l}=e,u[0]=e,u[1]=r,u[2]=l,u[3]=i,u[4]=a,u[5]=o):(r=u[1],l=u[2],i=u[3],a=u[4],o=u[5]);let f=void 0===i?24:i,h=void 0===a?"current":a,m=void 0===o?"currentColor":o;return u[6]!==r||u[7]!==h?(s=(0,B.classNames)((0,O.fillVariants)({fill:h}),r),u[6]=r,u[7]=h,u[8]=s):s=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M120-360v-80h320v80H120Zm0 160v-80h320v80H120Zm0-320v-80h320v80H120Zm0-160v-80h320v80H120Zm480 480q-33 0-56.5-23.5T520-280v-400q0-33 23.5-56.5T600-760h160q33 0 56.5 23.5T840-680v400q0 33-23.5 56.5T760-200H600Zm0-80h160v-400H600v400Zm80-200Z"}),u[9]=d):d=u[9],u[10]!==m||u[11]!==l||u[12]!==f||u[13]!==s?(c=(0,t.jsx)("svg",{"aria-label":"Vertical Split",className:s,fill:m,height:f,role:"img",viewBox:"0 -960 960 960",width:f,xmlns:"http://www.w3.org/2000/svg",...l,children:d}),u[10]=m,u[11]=l,u[12]=f,u[13]=s,u[14]=c):c=u[14],c}var G=e.i(751712);let _=(0,o.graphql)("\n  mutation updateShelfSide($id: ID!, $input: EditProfileShelfInput!) {\n    updateProfileShelf(id: $id, input: $input) {\n      success\n    }\n  }\n");function z(e){let r,l,i,a,o,s=(0,n.c)(17),{shelfId:d}=e,[c,f]=em((0,M.useShallow)(U)),h=(0,x.useTranslations)("ProfileGallery");if(s[0]!==d||s[1]!==c){let e;s[3]!==d?(e=e=>e.id===d,s[3]=d,s[4]=e):e=s[4],r=c.find(e),s[0]=d,s[1]=c,s[2]=r}else r=s[2];let m=r,[,g]=(0,P.useMutation)(_);s[5]!==m||s[6]!==d||s[7]!==f||s[8]!==g?(l=async()=>{let e=(null==m?void 0:m.singleItemShelfSide)==="LEFT"?"RIGHT":"LEFT";f(d,{...m,singleItemShelfSide:e}),await g({id:d,input:{singleItemShelfSide:e}})},s[5]=m,s[6]=d,s[7]=f,s[8]=g,s[9]=l):l=s[9];let p=(0,G.useAuthenticatedCallback)(l);return s[10]!==h?(i=h("switchSides"),s[10]=h,s[11]=i):i=s[11],s[12]!==p?(a=(0,t.jsx)(u.Button,{icon:A,onClick:p,size:"sm",variant:"secondary"}),s[12]=p,s[13]=a):a=s[13],s[14]!==i||s[15]!==a?(o=(0,t.jsx)(k.Tooltip,{content:i,children:a}),s[14]=i,s[15]=a,s[16]=o):o=s[16],o}function U(e){return[e.shelves,e.updateShelf]}var q=e.i(671828),H=e.i(728848);let $=(0,o.graphql)("\n  mutation updateProfileShelvesOrder($ids: [ID!]!) {\n    updateProfileShelvesOrder(ids: $ids) {\n      success\n    }\n  }\n");function Y(e){let r,l,i,a,o=(0,n.c)(16),{shelfId:s,direction:d,disabled:c}=e,f=em(X),h=(0,x.useTranslations)("ProfileGallery"),[,m]=(0,P.useMutation)($),g="up"===d?H.KeyboardArrowUp:q.KeyboardArrowDown;o[0]!==d||o[1]!==s||o[2]!==m||o[3]!==f?(r=()=>{f(s,"up"===d?-1:1,async e=>{let t=e.map(V);await m({ids:t})})},o[0]=d,o[1]=s,o[2]=m,o[3]=f,o[4]=r):r=o[4];let p=(0,G.useAuthenticatedCallback)(r);return o[5]!==d||o[6]!==h?(l=h("up"===d?"moveGalleryUp":"moveGalleryDown"),o[5]=d,o[6]=h,o[7]=l):l=o[7],o[8]!==c||o[9]!==p||o[10]!==g?(i=(0,t.jsx)("span",{children:(0,t.jsx)(u.Button,{disabled:c,icon:g,onClick:p,size:"sm",variant:"secondary"})}),o[8]=c,o[9]=p,o[10]=g,o[11]=i):i=o[11],o[12]!==c||o[13]!==l||o[14]!==i?(a=(0,t.jsx)(k.Tooltip,{content:l,disabled:c,children:i}),o[12]=c,o[13]=l,o[14]=i,o[15]=a):a=o[15],a}function V(e){return e.id}function X(e){return e.updateShelfOrder}function K(e){let r,l,i,a,o,s,d,c,u=(0,n.c)(15);u[0]!==e?({size:i,fill:a,fillAttribute:o,className:r,...l}=e,u[0]=e,u[1]=r,u[2]=l,u[3]=i,u[4]=a,u[5]=o):(r=u[1],l=u[2],i=u[3],a=u[4],o=u[5]);let f=void 0===i?24:i,h=void 0===a?"current":a,m=void 0===o?"currentColor":o;return u[6]!==r||u[7]!==h?(s=(0,B.classNames)((0,O.fillVariants)({fill:h}),r),u[6]=r,u[7]=h,u[8]=s):s=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M80-360v-240q0-33 23.5-56.5T160-680q33 0 56.5 23.5T240-600v240q0 33-23.5 56.5T160-280q-33 0-56.5-23.5T80-360Zm280 160q-33 0-56.5-23.5T280-280v-400q0-33 23.5-56.5T360-760h240q33 0 56.5 23.5T680-680v400q0 33-23.5 56.5T600-200H360Zm360-160v-240q0-33 23.5-56.5T800-680q33 0 56.5 23.5T880-600v240q0 33-23.5 56.5T800-280q-33 0-56.5-23.5T720-360Zm-360 80h240v-400H360v400Zm120-200Z"}),u[9]=d):d=u[9],u[10]!==m||u[11]!==l||u[12]!==f||u[13]!==s?(c=(0,t.jsx)("svg",{"aria-label":"View Carousel",className:s,fill:m,height:f,role:"img",viewBox:"0 -960 960 960",width:f,xmlns:"http://www.w3.org/2000/svg",...l,children:d}),u[10]=m,u[11]=l,u[12]=f,u[13]=s,u[14]=c):c=u[14],c}function W(e){let r,l,a,o,s=(0,n.c)(8),{shelfId:d}=e,c=(0,x.useTranslations)("ProfileGallery"),h=(0,i.useProfileAddress)();s[0]!==c?(r=c("viewGallery"),s[0]=c,s[1]=r):r=s[1];let m="/gallery/".concat(h,"/").concat(d);return s[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(u.Button,{icon:K,size:"sm",variant:"secondary"}),s[2]=l):l=s[2],s[3]!==m?(a=(0,t.jsx)(f.Link,{href:m,target:"_blank",variant:"unstyled",children:l}),s[3]=m,s[4]=a):a=s[4],s[5]!==r||s[6]!==a?(o=(0,t.jsx)(k.Tooltip,{content:r,children:a}),s[5]=r,s[6]=a,s[7]=o):o=s[7],o}function Z(e){let r,l=(0,n.c)(7),{shelfId:a,shelfIndex:o}=e,[s,d]=em((0,M.useShallow)(J)),c=d.length,u=d[o],f=(0,i.useIsOwnProfileAddress)();return l[0]!==f||l[1]!==s||l[2]!==c||l[3]!==u||l[4]!==a||l[5]!==o?(r=(0,t.jsx)(T.SpaceBetween,{className:"w-full items-center",children:(0,t.jsx)(h.Flex,{className:"items-center gap-3",children:f&&"edit"===s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y,{direction:"up",disabled:0===o,shelfId:a}),(0,t.jsx)(Y,{direction:"down",disabled:o===c-1,shelfId:a}),(0,t.jsx)(C.Separator,{className:"h-6",orientation:"vertical"}),u.shelfItems&&1===u.shelfItems.length?(0,t.jsx)(z,{shelfId:a}):null,(0,t.jsx)(W,{shelfId:a}),(0,t.jsx)(D.CopyGalleryLinkButton,{shelfId:a}),(0,t.jsx)(C.Separator,{className:"h-6",orientation:"vertical"}),(0,t.jsx)(E.DeleteShelfButton,{shelfId:a}),(0,t.jsx)(R,{shelfId:a})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W,{shelfId:a}),(0,t.jsx)(D.CopyGalleryLinkButton,{shelfId:a})]})})}),l[0]=f,l[1]=s,l[2]=c,l[3]=u,l[4]=a,l[5]=o,l[6]=r):r=l[6],r}function J(e){return[e.mode,e.shelves]}e.s(["shelfTitleClassNames",()=>Q],302092);let Q=(0,y.tv)({base:"flex flex-col gap-2",variants:{mode:{edit:"flex-col",view:"flex-col-reverse"}}});var ee=e.i(190519),et=e.i(600028),en=e.i(110950);let er=(0,o.graphql)("\n    fragment SingleItemGallery on ProfileShelf {\n      id\n      title\n      description\n      shelfItems {\n        description\n        item {\n          id\n          __typename\n          name\n          contractAddress\n          ...ItemMedia\n          ...ItemLink\n          ...GalleryItemEditModalItem\n        }\n      }\n      icon\n      singleItemShelfSide\n    }\n  ",[et.ItemMediaFragment,ee.ItemLinkFragment,en.GalleryItemEditModalFragment]),el=(0,y.tv)({base:"relative col-span-7 justify-center gap-4",variants:{shelfSide:{left:"order-1",right:"-order-1"}}}),ei=(0,y.tv)({base:"col-span-9 aspect-1/1 w-full object-contain lg:aspect-3/2",variants:{shelfSide:{left:"-order-1",right:"order-1"}}});function ea(e){let r,l,i,a,o,s,d,u,y,x,S,C,T,M,D,E=(0,n.c)(42),{shelf:k,shelfIndex:L}=e;E[0]!==k?(r=(0,c.readFragment)(er,k),E[0]=k,E[1]=r):r=E[1];let F=r,R=em(eo),N=(0,I.useGalleryUrl)(F.id),P="LEFT"===F.singleItemShelfSide?"left":"right";E[2]!==P?(l=el({shelfSide:P}),E[2]=P,E[3]=l):l=E[3],E[4]!==R?(i=Q({mode:R}),E[4]=R,E[5]=i):i=E[5],E[6]!==F.id||E[7]!==L?(a=(0,t.jsx)(Z,{shelfId:F.id,shelfIndex:L}),E[6]=F.id,E[7]=L,E[8]=a):a=E[8],E[9]!==F.icon||E[10]!==F.id?(o=(0,t.jsx)(j.GalleryIcon,{icon:F.icon,shelfId:F.id}),E[9]=F.icon,E[10]=F.id,E[11]=o):o=E[11],E[12]!==F.title?(s=(0,t.jsx)(v.TextHeading,{className:"hover:text-text-secondary",size:"lg",children:F.title}),E[12]=F.title,E[13]=s):s=E[13],E[14]!==N||E[15]!==s?(d=(0,t.jsx)(f.Link,{href:N,variant:"unstyled",children:s}),E[14]=N,E[15]=s,E[16]=d):d=E[16],E[17]!==o||E[18]!==d?(u=(0,t.jsxs)(h.Flex,{className:"items-center gap-3",children:[o,d]}),E[17]=o,E[18]=d,E[19]=u):u=E[19],E[20]!==i||E[21]!==a||E[22]!==u?(y=(0,t.jsxs)(g.FlexColumn,{className:i,children:[a,u]}),E[20]=i,E[21]=a,E[22]=u,E[23]=y):y=E[23],E[24]!==F.description?(x=F.description?(0,t.jsx)(p.TextBody,{className:"break-all",color:"text-secondary",size:"sm",children:F.description}):null,E[24]=F.description,E[25]=x):x=E[25],E[26]!==y||E[27]!==x||E[28]!==l?(S=(0,t.jsxs)(g.FlexColumn,{className:l,children:[y,x]}),E[26]=y,E[27]=x,E[28]=l,E[29]=S):S=E[29];let O="LEFT"===F.singleItemShelfSide?"left":"right";return E[30]!==O?(C=ei({shelfSide:O}),E[30]=O,E[31]=C):C=E[31],E[32]!==F.id||E[33]!==F.shelfItems[0]||E[34]!==F.singleItemShelfSide?(T=F.shelfItems[0]&&(0,t.jsxs)("div",{className:"group relative size-full",children:[(0,t.jsx)(b.ItemLink,{className:"size-full",item:F.shelfItems[0].item,children:(0,t.jsx)(w.ItemMedia,{className:"size-full object-contain",containerSize:"100%",disableLightbox:!0,enableIframe:!0,item:F.shelfItems[0].item,overrides:{mediaClassName:"LEFT"===F.singleItemShelfSide?"object-left":""},priority:!0})}),F.shelfItems[0].description&&(0,t.jsx)("div",{className:"absolute right-4 bottom-4 left-4 rounded-lg bg-gradient-to-t from-black/70 to-transparent p-4",children:(0,t.jsx)(p.TextBody,{className:"line-clamp-3",color:"white",size:"sm",children:F.shelfItems[0].description})}),(0,t.jsx)("div",{className:"absolute top-4 right-4 opacity-0 transition-opacity group-hover:opacity-100",children:(0,t.jsx)(es,{shelfId:F.id,shelfItem:F.shelfItems[0]})})]}),E[32]=F.id,E[33]=F.shelfItems[0],E[34]=F.singleItemShelfSide,E[35]=T):T=E[35],E[36]!==C||E[37]!==T?(M=(0,t.jsx)(m.FlexCenter,{className:C,children:T}),E[36]=C,E[37]=T,E[38]=M):M=E[38],E[39]!==S||E[40]!==M?(D=(0,t.jsxs)(h.Flex,{className:"flex-col gap-8 py-10 lg:grid lg:grid-cols-16",children:[S,M]}),E[39]=S,E[40]=M,E[41]=D):D=E[41],D}function eo(e){return e.mode}function es(e){let l,a,o=(0,n.c)(20),{shelfItem:s,shelfId:d}=e,c=(0,x.useTranslations)("ProfileItemsCard"),f=(0,x.useTranslations)("GalleryLabel"),h=(0,i.useIsOwnProfileAddress)(),[m,g]=(0,r.useState)(!1),p=(0,I.useGalleryUrl)(d,s.item.id);if(h){let e,n,r,l,i,a,c=!!(null==s?void 0:s.description);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>g(!0),o[0]=e):e=o[0],o[1]!==f||o[2]!==c?(n=f(c?"editGalleryLabel":"addGalleryLabel"),o[1]=f,o[2]=c,o[3]=n):n=o[3],o[4]!==n?(r=(0,t.jsx)(u.Button,{onClick:e,size:"sm",variant:"primary",children:n}),o[4]=n,o[5]=r):r=o[5];let h=(null==s?void 0:s.description)||void 0,p=s.item;return o[6]===Symbol.for("react.memo_cache_sentinel")?(l=()=>g(!1),o[6]=l):l=o[6],o[7]!==m||o[8]!==d||o[9]!==h||o[10]!==p?(i=(0,t.jsx)(S.GalleryItemEditModal,{currentDescription:h,isOpen:m,item:p,onClose:l,shelfId:d}),o[7]=m,o[8]=d,o[9]=h,o[10]=p,o[11]=i):i=o[11],o[12]!==r||o[13]!==i?(a=(0,t.jsxs)(t.Fragment,{children:[r,i]}),o[12]=r,o[13]=i,o[14]=a):a=o[14],a}return o[15]!==c?(l=c("viewInGallery"),o[15]=c,o[16]=l):l=o[16],o[17]!==p||o[18]!==l?(a=(0,t.jsx)(u.Button,{href:p,size:"sm",target:"_blank",variant:"primary",children:l}),o[17]=p,o[18]=l,o[19]=a):a=o[19],a}let ed=(0,o.graphql)("\n    fragment GallerySection on ProfileShelf {\n      ...SingleItemGallery\n      ...MultiItemGallery\n      items {\n        __typename\n      }\n    }\n  ",[er,d.MultiItemGalleryFragment]),ec=(0,o.graphql)("\n    fragment galleryList on ProfileShelf {\n      id\n      title\n      description\n      shelfItems {\n        description\n        item {\n          id\n          imageUrl\n          tokenId\n          chain {\n            identifier\n          }\n          contractAddress\n        }\n      }\n      icon\n      view\n      singleItemShelfSide\n      ...GallerySection\n    }\n  ",[ed]),eu=()=>(0,l.create)()((0,s.mutative)(e=>({mode:"view",shelves:[],hasSyncedShelves:!1,setShelves:t=>{e(e=>{e.shelves=t,e.hasSyncedShelves=!0})},updateShelf:(t,n)=>{e(e=>{e.shelves=e.shelves.map(e=>{if(e.id===t){let t={...e,...n};return n.selectedItemIds&&(t.shelfItems=n.selectedItemIds.map(t=>{var n;return null==(n=e.shelfItems)?void 0:n.find(e=>e.item.id===t)}).filter(e=>void 0!==e)),t}return e})})},updateShelfOrder:(t,n,r)=>{e(e=>{let l=e.shelves.findIndex(e=>e.id===t),i=Math.min(Math.max(0,l+n),e.shelves.length-1);e.shelves.splice(i,0,e.shelves.splice(l,1)[0]),null==r||r(e.shelves)})},updateSelectedItemsForShelf:(t,n)=>{e(e=>{e.shelves=e.shelves.map(e=>{if(e.id===t){var r;let t=(null==(r=e.shelfItems)?void 0:r.filter(e=>n.includes(e.item.id)))||[];return{...e,shelfItems:t}}return e})})},updateShelfItemDescription:(t,n,r)=>{e(e=>{e.shelves=e.shelves.map(e=>{if(e.id===t){var l;return{...e,shelfItems:(null==(l=e.shelfItems)?void 0:l.map(e=>e.item.id===n?{...e,description:r}:e))||[]}}return e})})},deleteShelf:t=>{e(e=>{e.shelves=e.shelves.filter(e=>e.id!==t)})},setMode:t=>{e({mode:t})},setRefetchShelves:t=>{e({refetchShelves:t})}}))),ef=(0,r.createContext)(eu());function eh(e){let l,o,s,d,c=(0,n.c)(9),{children:u}=e,f=(0,i.useIsOwnProfileAddress)(),[h]=(0,r.useState)(eu);return c[0]!==f||c[1]!==h?(l=()=>{f&&h.setState({mode:"edit"})},c[0]=f,c[1]=h,c[2]=l):l=c[2],c[3]!==f?(o=[f],c[3]=f,c[4]=o):o=c[4],(0,r.useEffect)(l,o),c[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(a.GalleryListBottomBar,{}),c[5]=s):s=c[5],c[6]!==u||c[7]!==h?(d=(0,t.jsxs)(ef.Provider,{value:h,children:[u,s]}),c[6]=u,c[7]=h,c[8]=d):d=c[8],d}let em=e=>{let t=(0,r.useContext)(ef);return(0,l.useStore)(t,e)}},715983,e=>{"use strict";let t;e.s(["GallerySectionModal",()=>t7],715983);var n,r,l,i,a,o,s,d,c,u,f=e.i(705378),h=e.i(590268),m=e.i(972483),g=e.i(940704),p=e.i(969498),v=e.i(302502),y=e.i(528198),x=e.i(84060),b=e.i(325636),w=e.i(254842),S=e.i(965523),I=e.i(284296),j=e.i(999258),C=e.i(784767),T=e.i(950293),M=e.i(683269),D=e.i(565673);e.i(712154);var E=e.i(998868),k=e.i(582310);let L="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function F(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function R(e){return"nodeType"in e}function N(e){var t,n;return e?F(e)?e:R(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function P(e){let{Document:t}=N(e);return e instanceof t}function O(e){return!F(e)&&e instanceof N(e).HTMLElement}function B(e){return e instanceof N(e).SVGElement}function A(e){return e?F(e)?e.document:R(e)?P(e)?e:O(e)||B(e)?e.ownerDocument:document:document:document}let G=L?p.useLayoutEffect:p.useEffect;function _(e){let t=(0,p.useRef)(e);return G(()=>{t.current=e}),(0,p.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function z(e,t){void 0===t&&(t=[e]);let n=(0,p.useRef)(e);return G(()=>{n.current!==e&&(n.current=e)},t),n}function U(e,t){let n=(0,p.useRef)();return(0,p.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function q(e){let t=_(e),n=(0,p.useRef)(null),r=(0,p.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,r]}function H(e){let t=(0,p.useRef)();return(0,p.useEffect)(()=>{t.current=e},[e]),t.current}let $={};function Y(e,t){return(0,p.useMemo)(()=>{if(t)return t;let n=null==$[e]?0:$[e]+1;return $[e]=n,e+"-"+n},[e,t])}function V(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((t,n)=>{for(let[r,l]of Object.entries(n)){let n=t[r];null!=n&&(t[r]=n+e*l)}return t},{...t})}}let X=V(1),K=V(-1);function W(e){if(!e)return!1;let{KeyboardEvent:t}=N(e.target);return t&&e instanceof t}function Z(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=N(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let J=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[J.Translate.toString(e),J.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Q="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ee={display:"none"};function et(e){let{id:t,value:n}=e;return p.default.createElement("div",{id:t,style:ee},n)}function en(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return p.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}let er=(0,p.createContext)(null),el={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ei={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ea(e){let{announcements:t=ei,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=el}=e,{announce:i,announcement:a}=function(){let[e,t]=(0,p.useState)("");return{announce:(0,p.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),o=Y("DndLiveRegion"),[s,d]=(0,p.useState)(!1);(0,p.useEffect)(()=>{d(!0)},[]);var c=(0,p.useMemo)(()=>({onDragStart(e){let{active:n}=e;i(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&i(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;i(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;i(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;i(t.onDragCancel({active:n,over:r}))}}),[i,t]);let u=(0,p.useContext)(er);if((0,p.useEffect)(()=>{if(!u)throw Error("useDndMonitor must be used within a children of <DndContext>");return u(c)},[c,u]),!s)return null;let f=p.default.createElement(p.default.Fragment,null,p.default.createElement(et,{id:r,value:l.draggable}),p.default.createElement(en,{id:o,announcement:a}));return n?(0,k.createPortal)(f,n):f}function eo(){}function es(e,t){return(0,p.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(n||(n={}));let ed=Object.freeze({x:0,y:0});function ec(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eu(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ef(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function eh(e){let{left:t,top:n,height:r,width:l}=e;return[{x:t,y:n},{x:t+l,y:n},{x:t,y:n+r},{x:t+l,y:n+r}]}function em(e,t){if(!e||0===e.length)return null;let[n]=e;return t?n[t]:n}function eg(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}let ep=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,l=eg(t,t.left,t.top),i=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=ec(eg(r),l);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(eu)},ev=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,l=[];for(let e of r){let{id:r}=e,i=n.get(r);if(i){let n=function(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height);if(r<l&&n<i){let a=t.width*t.height,o=e.width*e.height,s=(l-r)*(i-n);return Number((s/(a+o-s)).toFixed(4))}return 0}(i,t);n>0&&l.push({id:r,data:{droppableContainer:e,value:n}})}}return l.sort(ef)};function ey(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ed}let ex=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}(1);function eb(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let ew={ignoreTransform:!1};function eS(e,t){void 0===t&&(t=ew);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=N(e).getComputedStyle(e);t&&(n=function(e,t,n){let r=eb(t);if(!r)return e;let{scaleX:l,scaleY:i,x:a,y:o}=r,s=e.left-a-(1-l)*parseFloat(n),d=e.top-o-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),c=l?e.width/l:e.width,u=i?e.height/i:e.height;return{width:c,height:u,top:d,right:s+c,bottom:d+u,left:s}}(n,t,r))}let{top:r,left:l,width:i,height:a,bottom:o,right:s}=n;return{top:r,left:l,width:i,height:a,bottom:o,right:s}}function eI(e){return eS(e,{ignoreTransform:!0})}function ej(e,t){let n=[];return e?function r(l){var i;if(null!=t&&n.length>=t||!l)return n;if(P(l)&&null!=l.scrollingElement&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!O(l)||B(l)||n.includes(l))return n;let a=N(e).getComputedStyle(l);return(l!==e&&function(e,t){void 0===t&&(t=N(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let r=t[e];return"string"==typeof r&&n.test(r)})}(l,a)&&n.push(l),void 0===(i=a)&&(i=N(l).getComputedStyle(l)),"fixed"===i.position)?n:r(l.parentNode)}(e):n}function eC(e){let[t]=ej(e,1);return null!=t?t:null}function eT(e){return L&&e?F(e)?e:R(e)?P(e)||e===A(e).scrollingElement?window:O(e)?e:null:null:null}function eM(e){return F(e)?e.scrollX:e.scrollLeft}function eD(e){return F(e)?e.scrollY:e.scrollTop}function eE(e){return{x:eM(e),y:eD(e)}}function ek(e){return!!L&&!!e&&e===document.scrollingElement}function eL(e){let t={x:0,y:0},n=ek(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x;return{isTop:l,isLeft:i,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(r||(r={}));let eF={x:.2,y:.2};function eR(e){return e.reduce((e,t)=>X(e,eE(t)),ed)}function eN(e,t){if(void 0===t&&(t=eS),!e)return;let{top:n,left:r,bottom:l,right:i}=t(e);eC(e)&&(l<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let eP=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eM(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eD(t),0)}]];class eO{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=ej(t),r=eR(n);for(let[t,l,i]of(this.rect={...e},this.width=e.width,this.height=e.height,eP))for(let e of l)Object.defineProperty(this,e,{get:()=>{let l=i(n),a=r[t]-l;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eB{add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}}function eA(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}function eG(e){e.preventDefault()}function e_(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(l||(l={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(i||(i={}));let ez={start:[i.Space,i.Enter],cancel:[i.Esc],end:[i.Space,i.Enter,i.Tab]},eU=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case i.Right:return{...n,x:n.x+25};case i.Left:return{...n,x:n.x-25};case i.Down:return{...n,y:n.y+25};case i.Up:return{...n,y:n.y-25}}};class eq{attach(){this.handleStart(),this.windowListeners.add(l.Resize,this.handleCancel),this.windowListeners.add(l.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(l.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&eN(n),t(ed)}handleKeyDown(e){if(W(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:l=ez,coordinateGetter:a=eU,scrollBehavior:o="smooth"}=r,{code:s}=e;if(l.end.includes(s))return void this.handleEnd(e);if(l.cancel.includes(s))return void this.handleCancel(e);let{collisionRect:d}=n.current,c=d?{x:d.left,y:d.top}:ed;this.referenceCoordinates||(this.referenceCoordinates=c);let u=a(e,{active:t,context:n.current,currentCoordinates:c});if(u){let t=K(u,c),r={x:0,y:0},{scrollableAncestors:l}=n.current;for(let n of l){let l=e.code,{isTop:a,isRight:s,isLeft:d,isBottom:c,maxScroll:f,minScroll:h}=eL(n),m=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}(n),g={x:Math.min(l===i.Right?m.right-m.width/2:m.right,Math.max(l===i.Right?m.left:m.left+m.width/2,u.x)),y:Math.min(l===i.Down?m.bottom-m.height/2:m.bottom,Math.max(l===i.Down?m.top:m.top+m.height/2,u.y))},p=l===i.Right&&!s||l===i.Left&&!d,v=l===i.Down&&!c||l===i.Up&&!a;if(p&&g.x!==u.x){let e=n.scrollLeft+t.x,a=l===i.Right&&e<=f.x||l===i.Left&&e>=h.x;if(a&&!t.y)return void n.scrollTo({left:e,behavior:o});a?r.x=n.scrollLeft-e:r.x=l===i.Right?n.scrollLeft-f.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}if(v&&g.y!==u.y){let e=n.scrollTop+t.y,a=l===i.Down&&e<=f.y||l===i.Up&&e>=h.y;if(a&&!t.x)return void n.scrollTo({top:e,behavior:o});a?r.y=n.scrollTop-e:r.y=l===i.Down?n.scrollTop-f.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,X(K(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new eB(A(t)),this.windowListeners=new eB(N(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}}function eH(e){return!!(e&&"distance"in e)}function e$(e){return!!(e&&"delay"in e)}eq.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ez,onActivation:l}=t,{active:i}=n,{code:a}=e.nativeEvent;if(r.start.includes(a)){let t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==l||l({event:e.nativeEvent}),!0)}return!1}}];class eY{attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(l.Resize,this.handleCancel),this.windowListeners.add(l.DragStart,eG),this.windowListeners.add(l.VisibilityChange,this.handleCancel),this.windowListeners.add(l.ContextMenu,eG),this.documentListeners.add(l.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(e$(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(eH(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(l.Click,e_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(l.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:n,initialCoordinates:r,props:l}=this,{onMove:i,options:{activationConstraint:a}}=l;if(!r)return;let o=null!=(t=Z(e))?t:ed,s=K(r,o);if(!n&&a){if(eH(a)){if(null!=a.tolerance&&eA(s,a.tolerance))return this.handleCancel();if(eA(s,a.distance))return this.handleStart()}return e$(a)&&eA(s,a.tolerance)?this.handleCancel():void this.handlePending(a,s)}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===i.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}constructor(e,t,n){var r;void 0===n&&(n=function(e){let{EventTarget:t}=N(e);return e instanceof t?e:A(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:l}=e,{target:i}=l;this.props=e,this.events=t,this.document=A(i),this.documentListeners=new eB(this.document),this.listeners=new eB(n),this.windowListeners=new eB(N(i)),this.initialCoordinates=null!=(r=Z(l))?r:ed,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}}let eV={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class eX extends eY{constructor(e){let{event:t}=e;super(e,eV,A(t.target))}}eX.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!!n.isPrimary&&0===n.button&&(null==r||r({event:n}),!0)}}];!function(e){e[e.RightClick=2]="RightClick"}(a||(a={}));!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(o||(o={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(s||(s={}));let eK={x:{[r.Backward]:!1,[r.Forward]:!1},y:{[r.Backward]:!1,[r.Forward]:!1}};!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(d||(d={})),(c||(c={})).Optimized="optimized";let eW=new Map;function eZ(e,t){return U(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function eJ(e){let{callback:t,disabled:n}=e,r=_(t),l=(0,p.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,p.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}function eQ(e){return new eO(eS(e),e)}function e0(e,t,n){void 0===t&&(t=eQ);let[r,l]=(0,p.useState)(null);function i(){l(r=>{if(!e)return null;if(!1===e.isConnected){var l;return null!=(l=null!=r?r:n)?l:null}let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let a=function(e){let{callback:t,disabled:n}=e,r=_(t),l=(0,p.useMemo)(()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,p.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),o=eJ({callback:i});return G(()=>{i(),e?(null==o||o.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==a||a.disconnect())},[e]),r}let e1=[];function e2(e,t){void 0===t&&(t=[]);let n=(0,p.useRef)(null);return(0,p.useEffect)(()=>{n.current=null},t),(0,p.useEffect)(()=>{let t=e!==ed;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?K(e,n.current):ed}function e3(e){return(0,p.useMemo)(()=>e?function(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}let e5=[];function e6(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return O(t)?t:e}let e4=[{sensor:eX,options:{}},{sensor:eq,options:{}}],e9={current:{}},e8={draggable:{measure:eI},droppable:{measure:eI,strategy:d.WhileDragging,frequency:c.Optimized},dragOverlay:{measure:eS}};class e7 extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}let te={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new e7,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:eo},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:e8,measureDroppableContainers:eo,windowRect:null,measuringScheduled:!1},tt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:eo,draggableNodes:new Map,over:null,measureDroppableContainers:eo},tn=(0,p.createContext)(tt),tr=(0,p.createContext)(te);function tl(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new e7}}}function ti(e,t){switch(t.type){case n.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case n.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case n.DragEnd:case n.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case n.RegisterDroppable:{let{element:n}=t,{id:r}=n,l=new e7(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case n.SetDroppableDisabled:{let{id:n,key:r,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new e7(e.droppable.containers);return a.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case n.UnregisterDroppable:{let{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;let i=new e7(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ta(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:l}=(0,p.useContext)(tn),i=H(r),a=H(null==n?void 0:n.id);return(0,p.useEffect)(()=>{if(!t&&!r&&i&&null!=a){if(!W(i)||document.activeElement===i.target)return;let e=l.get(a);if(!e)return;let{activatorNode:t,node:n}=e;(t.current||n.current)&&requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=e.matches(Q)?e:e.querySelector(Q);if(t){t.focus();break}}})}},[r,t,l,a,i]),null}function to(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}let ts=(0,p.createContext)({...ed,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(u||(u={}));let td=(0,p.memo)(function(e){var t,l,i,a,c,f;let{id:h,accessibility:m,autoScroll:g=!0,children:v,sensors:y=e4,collisionDetection:x=ev,measuring:b,modifiers:w,...S}=e,[I,j]=(0,p.useReducer)(ti,void 0,tl),[C,T]=function(){let[e]=(0,p.useState)(()=>new Set),t=(0,p.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,p.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[M,D]=(0,p.useState)(u.Uninitialized),E=M===u.Initialized,{draggable:{active:F,nodes:R,translate:P},droppable:{containers:B}}=I,A=null!=F?R.get(F):null,_=(0,p.useRef)({initial:null,translated:null}),$=(0,p.useMemo)(()=>{var e;return null!=F?{id:F,data:null!=(e=null==A?void 0:A.data)?e:e9,rect:_}:null},[F,A]),V=(0,p.useRef)(null),[K,W]=(0,p.useState)(null),[J,Q]=(0,p.useState)(null),ee=z(S,Object.values(S)),et=Y("DndDescribedBy",h),en=(0,p.useMemo)(()=>B.getEnabled(),[B]),el=(0,p.useMemo)(()=>({draggable:{...e8.draggable,...null==b?void 0:b.draggable},droppable:{...e8.droppable,...null==b?void 0:b.droppable},dragOverlay:{...e8.dragOverlay,...null==b?void 0:b.dragOverlay}}),[null==b?void 0:b.draggable,null==b?void 0:b.droppable,null==b?void 0:b.dragOverlay]),{droppableRects:ei,measureDroppableContainers:eo,measuringScheduled:es}=function(e,t){let{dragging:n,dependencies:r,config:l}=t,[i,a]=(0,p.useState)(null),{frequency:o,measure:s,strategy:c}=l,u=(0,p.useRef)(e),f=function(){switch(c){case d.Always:return!1;case d.BeforeDragging:return n;default:return!n}}(),h=z(f),m=(0,p.useCallback)(function(e){void 0===e&&(e=[]),h.current||a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),g=(0,p.useRef)(null),v=U(t=>{if(f&&!n)return eW;if(!t||t===eW||u.current!==e||null!=i){let t=new Map;for(let n of e){if(!n)continue;if(i&&i.length>0&&!i.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new eO(s(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,i,n,f,s]);return(0,p.useEffect)(()=>{u.current=e},[e]),(0,p.useEffect)(()=>{f||m()},[n,f]),(0,p.useEffect)(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),(0,p.useEffect)(()=>{f||"number"!=typeof o||null!==g.current||(g.current=setTimeout(()=>{m(),g.current=null},o))},[o,f,m,...r]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:null!=i}}(en,{dragging:E,dependencies:[P.x,P.y],config:el.droppable}),ec=function(e,t){let n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return U(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(R,F),eu=(0,p.useMemo)(()=>J?Z(J):null,[J]),ef=function(){let e=(null==K?void 0:K.autoScrollEnabled)===!1,t="object"==typeof g?!1===g.enabled:!1===g,n=E&&!e&&!t;return"object"==typeof g?{...g,enabled:n}:{enabled:n}}(),eh=eZ(ec,el.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e,i=(0,p.useRef)(!1),{x:a,y:o}="boolean"==typeof l?{x:l,y:l}:l;G(()=>{if(!a&&!o||!t){i.current=!1;return}if(i.current||!r)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let l=ey(n(e),r);if(a||(l.x=0),o||(l.y=0),i.current=!0,Math.abs(l.x)>0||Math.abs(l.y)>0){let t=eC(e);t&&t.scrollBy({top:l.y,left:l.x})}},[t,a,o,r,n])}({activeNode:null!=F?R.get(F):null,config:ef.layoutShiftCompensation,initialRect:eh,measure:el.draggable.measure});let eg=e0(ec,el.draggable.measure,eh),ep=e0(ec?ec.parentElement:null),eb=(0,p.useRef)({activatorEvent:null,active:null,activeNode:ec,collisionRect:null,collisions:null,droppableRects:ei,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ew=B.getNodeFor(null==(t=eb.current.over)?void 0:t.id),eI=function(e){let{measure:t}=e,[n,r]=(0,p.useState)(null),l=eJ({callback:(0,p.useCallback)(e=>{for(let{target:n}of e)if(O(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[i,a]=q((0,p.useCallback)(e=>{let n=e6(e);null==l||l.disconnect(),n&&(null==l||l.observe(n)),r(n?t(n):null)},[t,l]));return(0,p.useMemo)(()=>({nodeRef:i,rect:n,setRef:a}),[n,i,a])}({measure:el.dragOverlay.measure}),eM=null!=(l=eI.nodeRef.current)?l:ec,eD=E?null!=(i=eI.rect)?i:eg:null,eN=!!(eI.nodeRef.current&&eI.rect),eP=function(e){let t=eZ(e);return ey(e,t)}(eN?null:eg),eB=e3(eM?N(eM):null),eA=function(e){let t=(0,p.useRef)(e),n=U(n=>e?n&&n!==e1&&e&&t.current&&e.parentNode===t.current.parentNode?n:ej(e):e1,[e]);return(0,p.useEffect)(()=>{t.current=e},[e]),n}(E?null!=ew?ew:ec:null),eG=function(e,t){void 0===t&&(t=eS);let[n]=e,r=e3(n?N(n):null),[l,i]=(0,p.useState)(e5);function a(){i(()=>e.length?e.map(e=>ek(e)?r:new eO(t(e),e)):e5)}let o=eJ({callback:a});return G(()=>{null==o||o.disconnect(),a(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),l}(eA),e_=to(w,{transform:{x:P.x-eP.x,y:P.y-eP.y,scaleX:1,scaleY:1},activatorEvent:J,active:$,activeNodeRect:eg,containerNodeRect:ep,draggingNodeRect:eD,over:eb.current.over,overlayNodeRect:eI.rect,scrollableAncestors:eA,scrollableAncestorRects:eG,windowRect:eB}),ez=eu?X(eu,P):null,eU=function(e){let[t,n]=(0,p.useState)(null),r=(0,p.useRef)(e),l=(0,p.useCallback)(e=>{let t=eT(e.target);t&&n(e=>e?(e.set(t,eE(t)),new Map(e)):null)},[]);return(0,p.useEffect)(()=>{let t=r.current;if(e!==t){i(t);let a=e.map(e=>{let t=eT(e);return t?(t.addEventListener("scroll",l,{passive:!0}),[t,eE(t)]):null}).filter(e=>null!=e);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach(e=>{let t=eT(e);null==t||t.removeEventListener("scroll",l)})}},[l,e]),(0,p.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>X(e,t),ed):eR(e):ed,[e,t])}(eA),eq=e2(eU),eH=e2(eU,[eg]),e$=X(e_,eq),eY=eD?ex(eD,e_):null,eV=$&&eY?x({active:$,collisionRect:eY,droppableRects:ei,droppableContainers:en,pointerCoordinates:ez}):null,eX=em(eV,"id"),[eQ,e7]=(0,p.useState)(null),te=(c=eN?e_:X(e_,eH),f=null!=(a=null==eQ?void 0:eQ.rect)?a:null,{...c,scaleX:f&&eg?f.width/eg.width:1,scaleY:f&&eg?f.height/eg.height:1}),tt=(0,p.useRef)(null),td=(0,p.useCallback)((e,t)=>{let{sensor:r,options:l}=t;if(null==V.current)return;let i=R.get(V.current);if(!i)return;let a=e.nativeEvent,o=new r({active:V.current,activeNode:i,event:a,options:l,context:eb,onAbort(e){if(!R.get(e))return;let{onDragAbort:t}=ee.current,n={id:e};null==t||t(n),C({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!R.get(e))return;let{onDragPending:l}=ee.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==l||l(i),C({type:"onDragPending",event:i})},onStart(e){let t=V.current;if(null==t)return;let r=R.get(t);if(!r)return;let{onDragStart:l}=ee.current,i={activatorEvent:a,active:{id:t,data:r.data,rect:_}};(0,k.unstable_batchedUpdates)(()=>{null==l||l(i),D(u.Initializing),j({type:n.DragStart,initialCoordinates:e,active:t}),C({type:"onDragStart",event:i}),W(tt.current),Q(a)})},onMove(e){j({type:n.DragMove,coordinates:e})},onEnd:s(n.DragEnd),onCancel:s(n.DragCancel)});function s(e){return async function(){let{active:t,collisions:r,over:l,scrollAdjustedTranslate:i}=eb.current,o=null;if(t&&i){let{cancelDrop:s}=ee.current;o={activatorEvent:a,active:t,collisions:r,delta:i,over:l},e===n.DragEnd&&"function"==typeof s&&await Promise.resolve(s(o))&&(e=n.DragCancel)}V.current=null,(0,k.unstable_batchedUpdates)(()=>{j({type:e}),D(u.Uninitialized),e7(null),W(null),Q(null),tt.current=null;let t=e===n.DragEnd?"onDragEnd":"onDragCancel";if(o){let e=ee.current[t];null==e||e(o),C({type:t,event:o})}})}}tt.current=o},[R]),tc=(0,p.useCallback)((e,t)=>(n,r)=>{let l=n.nativeEvent,i=R.get(r);null!==V.current||!i||l.dndKit||l.defaultPrevented||!0===e(n,t.options,{active:i})&&(l.dndKit={capturedBy:t.sensor},V.current=r,td(n,t))},[R,td]),tu=(0,p.useMemo)(()=>y.reduce((e,t)=>{let{sensor:n}=t;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:tc(e.handler,t)}))]},[]),[y,tc]);(0,p.useEffect)(()=>{if(!L)return;let e=y.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},y.map(e=>{let{sensor:t}=e;return t})),G(()=>{eg&&M===u.Initializing&&D(u.Initialized)},[eg,M]),(0,p.useEffect)(()=>{let{onDragMove:e}=ee.current,{active:t,activatorEvent:n,collisions:r,over:l}=eb.current;if(!t||!n)return;let i={active:t,activatorEvent:n,collisions:r,delta:{x:e$.x,y:e$.y},over:l};(0,k.unstable_batchedUpdates)(()=>{null==e||e(i),C({type:"onDragMove",event:i})})},[e$.x,e$.y]),(0,p.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:l}=eb.current;if(!e||null==V.current||!t||!l)return;let{onDragOver:i}=ee.current,a=r.get(eX),o=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,s={active:e,activatorEvent:t,collisions:n,delta:{x:l.x,y:l.y},over:o};(0,k.unstable_batchedUpdates)(()=>{e7(o),null==i||i(s),C({type:"onDragOver",event:s})})},[eX]),G(()=>{eb.current={activatorEvent:J,active:$,activeNode:ec,collisionRect:eY,collisions:eV,droppableRects:ei,draggableNodes:R,draggingNode:eM,draggingNodeRect:eD,droppableContainers:B,over:eQ,scrollableAncestors:eA,scrollAdjustedTranslate:e$},_.current={initial:eD,translated:eY}},[$,ec,eV,eY,R,eM,eD,ei,B,eQ,eA,e$]),function(e){let{acceleration:t,activator:n=o.Pointer,canScroll:l,draggingRect:i,enabled:a,interval:d=5,order:c=s.TreeOrder,pointerCoordinates:u,scrollableAncestors:f,scrollableAncestorRects:h,delta:m,threshold:g}=e,v=function(e){let{delta:t,disabled:n}=e,l=H(t);return U(e=>{if(n||!l||!e)return eK;let i={x:Math.sign(t.x-l.x),y:Math.sign(t.y-l.y)};return{x:{[r.Backward]:e.x[r.Backward]||-1===i.x,[r.Forward]:e.x[r.Forward]||1===i.x},y:{[r.Backward]:e.y[r.Backward]||-1===i.y,[r.Forward]:e.y[r.Forward]||1===i.y}}},[n,t,l])}({delta:m,disabled:!a}),[y,x]=function(){let e=(0,p.useRef)(null);return[(0,p.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,p.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),b=(0,p.useRef)({x:0,y:0}),w=(0,p.useRef)({x:0,y:0}),S=(0,p.useMemo)(()=>{switch(n){case o.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case o.DraggableRect:return i}},[n,i,u]),I=(0,p.useRef)(null),j=(0,p.useCallback)(()=>{let e=I.current;if(!e)return;let t=b.current.x*w.current.x,n=b.current.y*w.current.y;e.scrollBy(t,n)},[]),C=(0,p.useMemo)(()=>c===s.TreeOrder?[...f].reverse():f,[c,f]);(0,p.useEffect)(()=>{if(!a||!f.length||!S)return void x();for(let e of C){if((null==l?void 0:l(e))===!1)continue;let n=h[f.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=function(e,t,n,l,i){let{top:a,left:o,right:s,bottom:d}=n;void 0===l&&(l=10),void 0===i&&(i=eF);let{isTop:c,isBottom:u,isLeft:f,isRight:h}=eL(e),m={x:0,y:0},g={x:0,y:0},p={height:t.height*i.y,width:t.width*i.x};return!c&&a<=t.top+p.height?(m.y=r.Backward,g.y=l*Math.abs((t.top+p.height-a)/p.height)):!u&&d>=t.bottom-p.height&&(m.y=r.Forward,g.y=l*Math.abs((t.bottom-p.height-d)/p.height)),!h&&s>=t.right-p.width?(m.x=r.Forward,g.x=l*Math.abs((t.right-p.width-s)/p.width)):!f&&o<=t.left+p.width&&(m.x=r.Backward,g.x=l*Math.abs((t.left+p.width-o)/p.width)),{direction:m,speed:g}}(e,n,S,t,g);for(let e of["x","y"])v[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){x(),I.current=e,y(j,d),b.current=a,w.current=i;return}}b.current={x:0,y:0},w.current={x:0,y:0},x()},[t,j,l,x,a,d,JSON.stringify(S),JSON.stringify(v),y,f,C,h,JSON.stringify(g)])}({...ef,delta:P,draggingRect:eY,pointerCoordinates:ez,scrollableAncestors:eA,scrollableAncestorRects:eG});let tf=(0,p.useMemo)(()=>({active:$,activeNode:ec,activeNodeRect:eg,activatorEvent:J,collisions:eV,containerNodeRect:ep,dragOverlay:eI,draggableNodes:R,droppableContainers:B,droppableRects:ei,over:eQ,measureDroppableContainers:eo,scrollableAncestors:eA,scrollableAncestorRects:eG,measuringConfiguration:el,measuringScheduled:es,windowRect:eB}),[$,ec,eg,J,eV,ep,eI,R,B,ei,eQ,eo,eA,eG,el,es,eB]),th=(0,p.useMemo)(()=>({activatorEvent:J,activators:tu,active:$,activeNodeRect:eg,ariaDescribedById:{draggable:et},dispatch:j,draggableNodes:R,over:eQ,measureDroppableContainers:eo}),[J,tu,$,eg,j,et,R,eQ,eo]);return p.default.createElement(er.Provider,{value:T},p.default.createElement(tn.Provider,{value:th},p.default.createElement(tr.Provider,{value:tf},p.default.createElement(ts.Provider,{value:te},v)),p.default.createElement(ta,{disabled:(null==m?void 0:m.restoreFocus)===!1})),p.default.createElement(ea,{...m,hiddenTextDescribedById:et}))}),tc=(0,p.createContext)(null),tu="button";function tf(){return(0,p.useContext)(tr)}let th={timeout:25};function tm(e){let{animation:t,children:n}=e,[r,l]=(0,p.useState)(null),[i,a]=(0,p.useState)(null),o=H(n);return n||r||!o||l(o),G(()=>{if(!i)return;let e=null==r?void 0:r.key,n=null==r?void 0:r.props.id;if(null==e||null==n)return void l(null);Promise.resolve(t(n,i)).then(()=>{l(null)})},[t,r,i]),p.default.createElement(p.default.Fragment,null,n,r?(0,p.cloneElement)(r,{ref:a}):null)}let tg={x:0,y:0,scaleX:1,scaleY:1};function tp(e){let{children:t}=e;return p.default.createElement(tn.Provider,{value:tt},p.default.createElement(ts.Provider,{value:tg},t))}let tv={position:"fixed",touchAction:"none"},ty=e=>W(e)?"transform 250ms ease":void 0,tx=(0,p.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:i,className:a,rect:o,style:s,transform:d,transition:c=ty}=e;if(!o)return null;let u=l?d:{...d,scaleX:1,scaleY:1},f={...tv,width:o.width,height:o.height,top:o.top,left:o.left,transform:J.Transform.toString(u),transformOrigin:l&&r?function(e,t){let n=Z(e);if(!n)return"0 0";let r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}(r,o):void 0,transition:"function"==typeof c?c(r):c,...s};return p.default.createElement(n,{className:a,style:f,ref:t},i)}),tb={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:J.Transform.toString(t)},{transform:J.Transform.toString(n)}]},sideEffects:(t={styles:{active:{opacity:"0"}}},e=>{let{active:n,dragOverlay:r}=e,l={},{styles:i,className:a}=t;if(null!=i&&i.active)for(let[e,t]of Object.entries(i.active))void 0!==t&&(l[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(null!=i&&i.dragOverlay)for(let[e,t]of Object.entries(i.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=a&&a.active&&n.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(let[e,t]of Object.entries(l))n.node.style.setProperty(e,t);null!=a&&a.active&&n.node.classList.remove(a.active)}})},tw=0,tS=p.default.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:i,modifiers:a,wrapperElement:o="div",className:s,zIndex:d=999}=e,{activatorEvent:c,active:u,activeNodeRect:f,containerNodeRect:h,draggableNodes:m,droppableContainers:g,dragOverlay:v,over:y,measuringConfiguration:x,scrollableAncestors:b,scrollableAncestorRects:w,windowRect:S}=tf(),I=(0,p.useContext)(ts),j=function(e){return(0,p.useMemo)(()=>{if(null!=e)return++tw},[e])}(null==u?void 0:u.id),C=to(a,{activatorEvent:c,active:u,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:v.rect,over:y,overlayNodeRect:v.rect,scrollableAncestors:b,scrollableAncestorRects:w,transform:I,windowRect:S}),T=eZ(f),M=function(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return _((e,i)=>{if(null===t)return;let a=n.get(e);if(!a)return;let o=a.node.current;if(!o)return;let s=e6(i);if(!s)return;let{transform:d}=N(i).getComputedStyle(i),c=eb(d);if(!c)return;let u="function"==typeof t?t:function(e){let{duration:t,easing:n,sideEffects:r,keyframes:l}={...tb,...e};return e=>{let{active:i,dragOverlay:a,transform:o,...s}=e;if(!t)return;let d={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},c={scaleX:1!==o.scaleX?i.rect.width*o.scaleX/a.rect.width:1,scaleY:1!==o.scaleY?i.rect.height*o.scaleY/a.rect.height:1},u={x:o.x-d.x,y:o.y-d.y,...c},f=l({...s,active:i,dragOverlay:a,transform:{initial:o,final:u}}),[h]=f,m=f[f.length-1];if(JSON.stringify(h)===JSON.stringify(m))return;let g=null==r?void 0:r({active:i,dragOverlay:a,...s}),p=a.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{p.onfinish=()=>{null==g||g(),e()}})}}(t);return eN(o,l.draggable.measure),u({active:{id:e,data:a.data,node:o,rect:l.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:i,rect:l.dragOverlay.measure(s)},droppableContainers:r,measuringConfiguration:l,transform:c})})}({config:r,draggableNodes:m,droppableContainers:g,measuringConfiguration:x}),D=T?v.setRef:void 0;return p.default.createElement(tp,null,p.default.createElement(tm,{animation:M},u&&j?p.default.createElement(tx,{key:j,id:u.id,ref:D,as:o,activatorEvent:c,adjustScale:t,className:s,transition:i,rect:T,style:{zIndex:d,...l},transform:C},n):null))});function tI(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function tj(e){return null!==e&&e>=0}let tC=e=>{let{rects:t,activeIndex:n,overIndex:r,index:l}=e,i=tI(t,r,n),a=t[l],o=i[l];return o&&a?{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}:null},tT="Sortable",tM=p.default.createContext({activeIndex:-1,containerId:tT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tC,disabled:{draggable:!1,droppable:!1}});function tD(e){let{children:t,id:n,items:r,strategy:l=tC,disabled:i=!1}=e,{active:a,dragOverlay:o,droppableRects:s,over:d,measureDroppableContainers:c}=tf(),u=Y(tT,n),f=null!==o.rect,h=(0,p.useMemo)(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),m=null!=a,g=a?h.indexOf(a.id):-1,v=d?h.indexOf(d.id):-1,y=(0,p.useRef)(h),x=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,y.current),b=-1!==v&&-1===g||x,w="boolean"==typeof i?{draggable:i,droppable:i}:i;G(()=>{x&&m&&c(h)},[x,h,m,c]),(0,p.useEffect)(()=>{y.current=h},[h]);let S=(0,p.useMemo)(()=>({activeIndex:g,containerId:u,disabled:w,disableTransforms:b,items:h,overIndex:v,useDragOverlay:f,sortedRects:h.reduce((e,t,n)=>{let r=s.get(t);return r&&(e[n]=r),e},Array(h.length)),strategy:l}),[g,u,w.draggable,w.droppable,b,h,v,s,f,l]);return p.default.createElement(tM.Provider,{value:S},t)}let tE=e=>{let{id:t,items:n,activeIndex:r,overIndex:l}=e;return tI(n,r,l).indexOf(t)},tk=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:l,items:i,newIndex:a,previousItems:o,previousContainerId:s,transition:d}=e;return!!d&&!!r&&(o===i||l!==a)&&(!!n||a!==l&&t===s)},tL={duration:200,easing:"ease"},tF="transform",tR=J.Transition.toString({property:tF,duration:0,easing:"linear"}),tN={roleDescription:"sortable"};function tP(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let tO=[i.Down,i.Right,i.Up,i.Left],tB=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:l,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(tO.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let a=l.get(n.id);if(a)switch(e.code){case i.Down:r.top<a.top&&t.push(n);break;case i.Up:r.top>a.top&&t.push(n);break;case i.Left:r.left>a.left&&t.push(n);break;case i.Right:r.left<a.left&&t.push(n)}});let d=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,l=eh(t),i=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=eh(r),a=Number((l.reduce((e,t,r)=>e+ec(n[r],t),0)/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:a}})}}return i.sort(eu)})({active:n,collisionRect:r,droppableRects:l,droppableContainers:t,pointerCoordinates:null}),c=em(d,"id");if(c===(null==o?void 0:o.id)&&d.length>1&&(c=d[1].id),null!=c){let e=a.get(n.id),t=a.get(c),i=t?l.get(t.id):null,o=null==t?void 0:t.node.current;if(o&&i&&e&&t){let n=ej(o).some((e,t)=>s[t]!==e),l=tA(e,t),a=function(e,t){return!!tP(e)&&!!tP(t)&&!!tA(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),d=n||!l?{x:0,y:0}:{x:a?r.width-i.width:0,y:a?r.height-i.height:0},c={x:i.left,y:i.top};return d.x&&d.y?c:K(c,d)}}}};function tA(e,t){return!!tP(e)&&!!tP(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var tG=e.i(457628),t_=e.i(217961),tz=e.i(754459),tU=e.i(639371),tq=e.i(466598),tH=e.i(502732),t$=e.i(100868),tY=e.i(323917),tV=e.i(509906);function tX(e){var t;let r,l,i,a,o,s,d,c,u,m,g=(0,h.c)(36),{item:v,onRemove:y}=e;g[0]!==v?(r={type:"gallery-item",item:v},g[0]=v,g[1]=r):r=g[1],g[2]!==v.id||g[3]!==r?(l={id:v.id,data:r},g[2]=v.id,g[3]=r,g[4]=l):l=g[4];let{attributes:x,listeners:b,setNodeRef:w,transform:S,transition:I,isDragging:j,isOver:C}=function(e){var t,r,l,i;let{animateLayoutChanges:a=tk,attributes:o,disabled:s,data:d,getNewIndex:c=tE,id:u,strategy:f,resizeObserverConfig:h,transition:m=tL}=e,{items:g,containerId:v,activeIndex:y,disabled:x,disableTransforms:b,sortedRects:w,overIndex:S,useDragOverlay:I,strategy:j}=(0,p.useContext)(tM),C=(t=s,r=x,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(l=null==t?void 0:t.draggable)?l:r.draggable,droppable:null!=(i=null==t?void 0:t.droppable)?i:r.droppable}),T=g.indexOf(u),M=(0,p.useMemo)(()=>({sortable:{containerId:v,index:T,items:g},...d}),[v,d,T,g]),D=(0,p.useMemo)(()=>g.slice(g.indexOf(u)),[g,u]),{rect:E,node:k,isOver:L,setNodeRef:F}=function(e){let{data:t,disabled:r=!1,id:l,resizeObserverConfig:i}=e,a=Y("Droppable"),{active:o,dispatch:s,over:d,measureDroppableContainers:c}=(0,p.useContext)(tn),u=(0,p.useRef)({disabled:r}),f=(0,p.useRef)(!1),h=(0,p.useRef)(null),m=(0,p.useRef)(null),{disabled:g,updateMeasurementsFor:v,timeout:y}={...th,...i},x=z(null!=v?v:l),b=eJ({callback:(0,p.useCallback)(()=>{if(!f.current){f.current=!0;return}null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),disabled:g||!o}),[w,S]=q((0,p.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),f.current=!1),e&&b.observe(e))},[b])),I=z(t);return(0,p.useEffect)(()=>{b&&w.current&&(b.disconnect(),f.current=!1,b.observe(w.current))},[w,b]),(0,p.useEffect)(()=>(s({type:n.RegisterDroppable,element:{id:l,key:a,disabled:r,node:w,rect:h,data:I}}),()=>s({type:n.UnregisterDroppable,key:a,id:l})),[l]),(0,p.useEffect)(()=>{r!==u.current.disabled&&(s({type:n.SetDroppableDisabled,id:l,key:a,disabled:r}),u.current.disabled=r)},[l,a,r,s]),{active:o,rect:h,isOver:(null==d?void 0:d.id)===l,node:w,over:d,setNodeRef:S}}({id:u,data:M,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...h}}),{active:R,activatorEvent:N,activeNodeRect:P,attributes:O,setNodeRef:B,listeners:A,isDragging:_,over:U,setActivatorNodeRef:H,transform:$}=function(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e,i=Y("Draggable"),{activators:a,activatorEvent:o,active:s,activeNodeRect:d,ariaDescribedById:c,draggableNodes:u,over:f}=(0,p.useContext)(tn),{role:h=tu,roleDescription:m="draggable",tabIndex:g=0}=null!=l?l:{},v=(null==s?void 0:s.id)===t,y=(0,p.useContext)(v?ts:tc),[x,b]=q(),[w,S]=q(),I=(0,p.useMemo)(()=>a.reduce((e,n)=>{let{eventName:r,handler:l}=n;return e[r]=e=>{l(e,t)},e},{}),[a,t]),j=z(n);return G(()=>(u.set(t,{id:t,key:i,node:x,activatorNode:w,data:j}),()=>{let e=u.get(t);e&&e.key===i&&u.delete(t)}),[u,t]),{active:s,activatorEvent:o,activeNodeRect:d,attributes:(0,p.useMemo)(()=>({role:h,tabIndex:g,"aria-disabled":r,"aria-pressed":!!v&&h===tu||void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[r,h,g,v,m,c.draggable]),isDragging:v,listeners:r?void 0:I,node:x,over:f,setNodeRef:b,setActivatorNodeRef:S,transform:y}}({id:u,data:M,attributes:{...tN,...o},disabled:C.draggable}),V=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,p.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(F,B),X=!!R,K=X&&!b&&tj(y)&&tj(S),Z=!I&&_,Q=Z&&K?$:null,ee=K?null!=Q?Q:(null!=f?f:j)({rects:w,activeNodeRect:P,activeIndex:y,overIndex:S,index:T}):null,et=tj(y)&&tj(S)?c({id:u,items:g,activeIndex:y,overIndex:S}):T,en=null==R?void 0:R.id,er=(0,p.useRef)({activeId:en,items:g,newIndex:et,containerId:v}),el=g!==er.current.items,ei=a({active:R,containerId:v,isDragging:_,isSorting:X,id:u,index:T,items:g,newIndex:er.current.newIndex,previousItems:er.current.items,previousContainerId:er.current.containerId,transition:m,wasDragging:null!=er.current.activeId}),ea=function(e){let{disabled:t,index:n,node:r,rect:l}=e,[i,a]=(0,p.useState)(null),o=(0,p.useRef)(n);return G(()=>{if(!t&&n!==o.current&&r.current){let e=l.current;if(e){let t=eS(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}n!==o.current&&(o.current=n)},[t,n,r,l]),(0,p.useEffect)(()=>{i&&a(null)},[i]),i}({disabled:!ei,index:T,node:k,rect:E});return(0,p.useEffect)(()=>{X&&er.current.newIndex!==et&&(er.current.newIndex=et),v!==er.current.containerId&&(er.current.containerId=v),g!==er.current.items&&(er.current.items=g)},[X,et,v,g]),(0,p.useEffect)(()=>{if(en===er.current.activeId)return;if(null!=en&&null==er.current.activeId){er.current.activeId=en;return}let e=setTimeout(()=>{er.current.activeId=en},50);return()=>clearTimeout(e)},[en]),{active:R,activeIndex:y,attributes:O,data:M,rect:E,index:T,newIndex:et,items:g,isOver:L,isSorting:X,isDragging:_,listeners:A,node:k,overIndex:S,over:U,setNodeRef:V,setActivatorNodeRef:H,setDroppableNodeRef:F,setDraggableNodeRef:B,transform:null!=ea?ea:ee,transition:ea||el&&er.current.newIndex===T?tR:(!Z||W(N))&&m&&(X||ei)?J.Transition.toString({...m,property:tF}):void 0}}(l);g[5]!==S?(i=J.Transform.toString(S),g[5]=S,g[6]=i):i=g[6];let T=j?.3:1,M=j?1e3:1;g[7]!==i||g[8]!==T||g[9]!==M||g[10]!==I?(a={transform:i,transition:I,opacity:T,zIndex:M},g[7]=i,g[8]=T,g[9]=M,g[10]=I,g[11]=a):a=g[11];let D=a,E=(0,tY.extractMediaVariant)(null!=(t=v.imageUrl)?t:""),k="relative col-span-1 aspect-square cursor-grab overflow-hidden rounded-lg transition-all duration-200 ease-in-out active:cursor-grabbing ".concat(j?"ring-2 ring-primary-blue ring-opacity-50":""," ").concat(C?"ring-2 ring-green-500 ring-opacity-30":""," hover:shadow-lg hover:brightness-110"),L="object-cover object-center transition-all duration-200 ".concat(j?"brightness-75":""," "),F=(null==E?void 0:E.type)!=="image"?1:void 0;return g[12]!==v.id||g[13]!==v.imageUrl||g[14]!==L||g[15]!==F?(o=(0,f.jsx)(t$.Image,{alt:v.id,className:L,frameTime:F,height:200,priority:!0,src:v.imageUrl,width:200}),g[12]=v.id,g[13]=v.imageUrl,g[14]=L,g[15]=F,g[16]=o):o=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(s=(0,f.jsx)(tV.Delete,{size:16}),g[17]=s):s=g[17],g[18]!==v||g[19]!==y?(d=(0,f.jsx)("div",{className:"absolute top-0 right-0 overflow-hidden rounded bg-bg-bg-app",children:(0,f.jsx)(tH.Button,{className:"rounded-lg transition-opacity duration-200 hover:opacity-80",icon:s,onClick:e=>{e.stopPropagation(),y(v)},size:"xs",variant:"secondary"})}),g[18]=v,g[19]=y,g[20]=d):d=g[20],g[21]!==j?(c=j&&(0,f.jsx)("div",{className:"absolute inset-0 animate-pulse rounded-lg border-2 border-primary-blue border-dashed bg-primary-blue/20"}),g[21]=j,g[22]=c):c=g[22],g[23]!==j||g[24]!==C?(u=C&&!j&&(0,f.jsx)("div",{className:"absolute inset-0 rounded-lg border-2 border-green-500 border-dashed bg-green-500/10"}),g[23]=j,g[24]=C,g[25]=u):u=g[25],g[26]!==x||g[27]!==b||g[28]!==w||g[29]!==D||g[30]!==o||g[31]!==d||g[32]!==c||g[33]!==u||g[34]!==k?(m=(0,f.jsxs)("div",{className:k,ref:w,style:D,...x,...b,children:[o,d,c,u]}),g[26]=x,g[27]=b,g[28]=w,g[29]=D,g[30]=o,g[31]=d,g[32]=c,g[33]=u,g[34]=k,g[35]=m):m=g[35],m}let tK=(0,p.createContext)({selectedItems:[],selectItem:()=>null,reorderItems:()=>null});function tW(e){let t,n,r,l,i,a=(0,h.c)(9),{children:o,defaultSelectedItems:s}=e;a[0]!==s?(t=void 0===s?[]:s,a[0]=s,a[1]=t):t=a[1];let d=t,[c,u]=(0,p.useState)(d);a[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{u(t=>-1===t.findIndex(t=>t.id===e.id)?[...t,e]:t.filter(t=>t.id!==e.id))},r=(e,t)=>{u(n=>{let r=Array.from(n),[l]=r.splice(e,1);return r.splice(t,0,l),r})},a[2]=n,a[3]=r):(n=a[2],r=a[3]),a[4]!==c?(l={selectedItems:c,selectItem:n,reorderItems:r},a[4]=c,a[5]=l):l=a[5];let m=l;return a[6]!==o||a[7]!==m?(i=(0,f.jsx)(tK.Provider,{value:m,children:o}),a[6]=o,a[7]=m,a[8]=i):i=a[8],i}function tZ(){return(0,p.useContext)(tK)}function tJ(e){let t,n,r,l,i,a,o,s,d,c,u,m,g,v,y=(0,h.c)(43),{shelfId:x,closeModal:w}=e,{selectedItems:S,selectItem:I,reorderItems:j}=tZ(),[C,T]=(0,p.useState)(null),[M,D,E]=(0,tq.useProfileItemsSelectionStore)((0,tz.useShallow)(t1)),k=(0,b.useRouter)();y[0]===Symbol.for("react.memo_cache_sentinel")?(t={activationConstraint:{distance:8}},y[0]=t):t=y[0],y[1]===Symbol.for("react.memo_cache_sentinel")?(n={coordinateGetter:tB},y[1]=n):n=y[1];let L=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,p.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(es(eX,t),es(eq,n));y[2]!==D||y[3]!==w||y[4]!==k||y[5]!==S||y[6]!==M||y[7]!==E||y[8]!==x?(r=()=>{x&&(M("gallery"),D(S),E(x),k.push("/profile")),w()},y[2]=D,y[3]=w,y[4]=k,y[5]=S,y[6]=M,y[7]=E,y[8]=x,y[9]=r):r=y[9];let F=r;y[10]!==S?(l=e=>{let{active:t}=e;T(S.find(e=>e.id===t.id)||null)},y[10]=S,y[11]=l):l=y[11];let R=l;y[12]!==j||y[13]!==S?(i=e=>{let{active:t,over:n}=e;T(null),n&&t.id!==n.id&&j(S.findIndex(e=>e.id===t.id),S.findIndex(e=>e.id===n.id))},y[12]=j,y[13]=S,y[14]=i):i=y[14];let N=i;if(y[15]!==S?(a=S.map(t0),y[15]=S,y[16]=a):a=y[16],y[17]!==I||y[18]!==S){let e;y[20]!==I?(e=e=>(0,f.jsx)(tX,{item:e,onRemove:I},e.id),y[20]=I,y[21]=e):e=y[21],o=S.map(e),y[17]=I,y[18]=S,y[19]=o}else o=y[19];return y[22]!==a||y[23]!==o?(s=(0,f.jsx)(tD,{items:a,strategy:tC,children:o}),y[22]=a,y[23]=o,y[24]=s):s=y[24],y[25]!==F||y[26]!==S.length||y[27]!==x?(d=S.length<tU.MAX_ITEMS_FOR_GALLERY&&x?(0,f.jsx)(tG.UnstyledButton,{className:"col-span-1 flex aspect-square items-center justify-center overflow-hidden rounded-lg bg-base-2",onClick:F,children:(0,f.jsx)(t_.Add,{})}):null,y[25]=F,y[26]=S.length,y[27]=x,y[28]=d):d=y[28],y[29]!==s||y[30]!==d?(c=(0,f.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[s,d]}),y[29]=s,y[30]=d,y[31]=c):c=y[31],y[32]===Symbol.for("react.memo_cache_sentinel")?(u={transformOrigin:"0 0"},y[32]=u):u=y[32],y[33]!==C?(m=C?(0,f.jsx)("div",{className:"relative aspect-square rotate-3 scale-105 overflow-hidden rounded-lg opacity-90 shadow-lg",children:(0,f.jsx)(tX,{item:C,onRemove:tQ})}):null,y[33]=C,y[34]=m):m=y[34],y[35]!==m?(g=(0,f.jsx)(tS,{adjustScale:!0,style:u,children:m}),y[35]=m,y[36]=g):g=y[36],y[37]!==N||y[38]!==R||y[39]!==L||y[40]!==c||y[41]!==g?(v=(0,f.jsxs)(td,{collisionDetection:ep,onDragEnd:N,onDragStart:R,sensors:L,children:[c,g]}),y[37]=N,y[38]=R,y[39]=L,y[40]=c,y[41]=g,y[42]=v):v=y[42],v}function tQ(){}function t0(e){return e.id}function t1(e){return[e.setAction,e.addSelectedItems,e.setSelectedShelfId]}var t2=e.i(751712);let t3=(0,y.graphql)("\n  mutation CreateProfileShelfMutation($input: CreateProfileShelfInput!) {\n    createProfileShelf(input: $input) {\n      success\n      error {\n        __typename\n      }\n    }\n  }\n"),t5=(0,y.graphql)("\n  mutation EditProfileShelfMutation($id: ID!, $input: EditProfileShelfInput!) {\n    updateProfileShelf(id: $id, input: $input) {\n      success\n      error {\n        __typename\n      }\n    }\n  }\n");function t6(e){let t,n,r,l,i,a,o,s,d,c,u,y,k,L,F,R,N,P,O,B,A,G,_,z,U,q,H,$,Y,V,X,K,W,Z,J,Q,ee,et,en,er,el,ei,ea,eo,es,ed=(0,h.c)(127),{onClose:ec,defaultValues:eu,shelfId:ef}=e,eh=(0,g.useTranslations)("ProfileGallery"),{selectedItems:em}=tZ(),{showErrorMessage:eg,showSuccessMessage:ep}=(0,M.useToasts)(),[ev,ey]=(0,p.useState)(!1),ex=(0,b.useRouter)(),eb=(0,E.useGalleryListStore)(t8),[ew,eS]=(0,x.useMutation)(t3),{error:eI}=ew,[ej,eC]=(0,x.useMutation)(t5),{error:eT}=ej;ed[0]!==eu?(t=null!=eu?eu:{},ed[0]=eu,ed[1]=t):t=ed[1],ed[2]!==t?(n={mode:"onChange",defaultValues:{title:"",description:"",...t}},ed[2]=t,ed[3]=n):n=ed[3];let{register:eM,formState:eD,handleSubmit:eE,control:ek}=(0,D.useForm)(n);ed[4]!==ek?(r={control:ek,name:"title"},ed[4]=ek,ed[5]=r):r=ed[5];let eL=(0,D.useWatch)(r);ed[6]!==ek?(l={control:ek,name:"description"},ed[6]=ek,ed[7]=l):l=ed[7];let eF=(0,D.useWatch)(l);ed[8]!==em?(i=em.map(t9),ed[8]=em,ed[9]=i):i=ed[9];let eR=i;ed[10]!==eS||ed[11]!==eC||ed[12]!==eR||ed[13]!==ec||ed[14]!==ex||ed[15]!==em||ed[16]!==ef||ed[17]!==eg||ed[18]!==ep||ed[19]!==eh||ed[20]!==eb?(a=async e=>{var t,n,r,l,i,a,o,s;if(ey(!0),ef){let i=await eC({id:ef,input:{title:e.title,description:e.description,items:eR}});eb(ef,{title:e.title,description:e.description,selectedItemIds:em.map(t4)}),(null==(n=i.data)||null==(t=n.updateProfileShelf)?void 0:t.success)?(ep(eh("changesSaved"),{duration:1e4}),(0,v.track)("Edit Gallery"),ec(),ex.refresh()):(i.error||(null==(l=i.data)||null==(r=l.updateProfileShelf)?void 0:r.error))&&(ey(!1),eg(eh("errorSavingChanges"),{duration:1e4}))}else{let t=await eS({input:{title:e.title,description:e.description,items:eR}});(null==(a=t.data)||null==(i=a.createProfileShelf)?void 0:i.success)?(ep(eh("galleryCreated"),{duration:1e4}),(0,v.track)("Create Gallery"),ec(),ex.push("/profile/galleries")):(t.error||(null==(s=t.data)||null==(o=s.createProfileShelf)?void 0:o.error))&&(ey(!1),eg(eh("errorCreatingShelf"),{duration:1e4}))}},ed[10]=eS,ed[11]=eC,ed[12]=eR,ed[13]=ec,ed[14]=ex,ed[15]=em,ed[16]=ef,ed[17]=eg,ed[18]=ep,ed[19]=eh,ed[20]=eb,ed[21]=a):a=ed[21];let eN=(0,t2.useAuthenticatedCallback)(a);ed[22]!==eE||ed[23]!==eN?(o=eE(eN),ed[22]=eE,ed[23]=eN,ed[24]=o):o=ed[24];let eP=o;if(ed[25]!==eI||ed[26]!==eg||ed[27]!==eh?(s=()=>{eI&&eg(eh("errorCreatingShelf"),{duration:1e4})},d=[eh,eI,eg],ed[25]=eI,ed[26]=eg,ed[27]=eh,ed[28]=s,ed[29]=d):(s=ed[28],d=ed[29]),(0,p.useEffect)(s,d),ed[30]!==eT||ed[31]!==eg||ed[32]!==eh?(c=()=>{eT&&eg(eh("errorSavingChanges"),{duration:1e4})},u=[eh,eT,eg],ed[30]=eT,ed[31]=eg,ed[32]=eh,ed[33]=c,ed[34]=u):(c=ed[33],u=ed[34]),(0,p.useEffect)(c,u),ed[35]!==eh?(y=eh("title"),ed[35]=eh,ed[36]=y):y=ed[36],ed[37]!==y?(k=(0,f.jsx)(T.TextBody,{size:"sm",weight:"semibold",children:y}),ed[37]=y,ed[38]=k):k=ed[38],ed[39]!==eh?(L=eh("requiredAsterisk"),ed[39]=eh,ed[40]=L):L=ed[40],ed[41]!==L?(F=(0,f.jsx)(T.TextBody,{color:"error-1",size:"sm",children:L}),ed[41]=L,ed[42]=F):F=ed[42],ed[43]!==k||ed[44]!==F?(R=(0,f.jsxs)(w.Flex,{className:"gap-1",children:[k,F]}),ed[43]=k,ed[44]=F,ed[45]=R):R=ed[45],ed[46]!==eM||ed[47]!==eh){let e;ed[49]!==eh?(e=e=>0!==e.trim().length||eh("titleRequired"),ed[49]=eh,ed[50]=e):e=ed[50],N=eM("title",{maxLength:{value:100,message:eh("titleMaxLength",{max:100})},validate:{required:e}}),ed[46]=eM,ed[47]=eh,ed[48]=N}else N=ed[48];ed[51]!==N?(P=(0,f.jsx)(I.Input,{...N,placeholder:"Add a section title"}),ed[51]=N,ed[52]=P):P=ed[52],ed[53]!==eD.errors.title||ed[54]!==eh||ed[55]!==eL?(O=eD.errors.title?(0,f.jsx)(T.TextBody,{color:"error-1",size:"xs",children:eD.errors.title.message}):(0,f.jsxs)(T.TextBody,{color:eL.length>100?"error-1":"text-secondary",size:"xs",children:[eL.length,eh("stringMax",{max:100})]}),ed[53]=eD.errors.title,ed[54]=eh,ed[55]=eL,ed[56]=O):O=ed[56],ed[57]!==R||ed[58]!==P||ed[59]!==O?(B=(0,f.jsxs)(S.FlexColumn,{className:"gap-2",children:[R,P,O]}),ed[57]=R,ed[58]=P,ed[59]=O,ed[60]=B):B=ed[60],ed[61]!==eh?(A=eh("description"),ed[61]=eh,ed[62]=A):A=ed[62],ed[63]!==A?(G=(0,f.jsx)(T.TextBody,{size:"sm",weight:"semibold",children:A}),ed[63]=A,ed[64]=G):G=ed[64],ed[65]!==eM||ed[66]!==eh?(_=eM("description",{maxLength:{value:500,message:eh("descriptionMaxLength",{max:500})}}),ed[65]=eM,ed[66]=eh,ed[67]=_):_=ed[67],ed[68]!==_?(z=(0,f.jsx)(C.TextArea,{..._,className:"resize-none bg-bg-primary",placeholder:"Add a description"}),ed[68]=_,ed[69]=z):z=ed[69],ed[70]!==eF||ed[71]!==eD.errors.description||ed[72]!==eh?(U=eD.errors.description?(0,f.jsx)(T.TextBody,{color:"error-1",size:"xs",children:eD.errors.description.message}):(0,f.jsxs)(T.TextBody,{color:eF.length>500?"error-1":"text-secondary",size:"xs",children:[eF.length,eh("stringMax",{max:500})]}),ed[70]=eF,ed[71]=eD.errors.description,ed[72]=eh,ed[73]=U):U=ed[73],ed[74]!==G||ed[75]!==z||ed[76]!==U?(q=(0,f.jsxs)(S.FlexColumn,{className:"gap-2",children:[G,z,U]}),ed[74]=G,ed[75]=z,ed[76]=U,ed[77]=q):q=ed[77],ed[78]!==eh?(H=eh("itemsSelected"),ed[78]=eh,ed[79]=H):H=ed[79],ed[80]!==H?($=(0,f.jsx)(T.TextBody,{size:"sm",weight:"semibold",children:H}),ed[80]=H,ed[81]=$):$=ed[81],ed[82]!==ec||ed[83]!==ef?(Y=(0,f.jsx)(tJ,{closeModal:ec,shelfId:ef}),ed[82]=ec,ed[83]=ef,ed[84]=Y):Y=ed[84],ed[85]!==$||ed[86]!==Y?(V=(0,f.jsxs)(S.FlexColumn,{className:"gap-2",children:[$,Y]}),ed[85]=$,ed[86]=Y,ed[87]=V):V=ed[87],ed[88]!==B||ed[89]!==q||ed[90]!==V?(X=(0,f.jsxs)(S.FlexColumn,{className:"gap-6",children:[B,q,V]}),ed[88]=B,ed[89]=q,ed[90]=V,ed[91]=X):X=ed[91],ed[92]!==eP||ed[93]!==X?(K=(0,f.jsx)(m.ModalBody,{asChild:!0,children:(0,f.jsx)("form",{id:"gallery-section-form",onSubmit:eP,children:X})}),ed[92]=eP,ed[93]=X,ed[94]=K):K=ed[94],ed[95]===Symbol.for("react.memo_cache_sentinel")?(W=(0,f.jsx)(j.Separator,{}),ed[95]=W):W=ed[95],ed[96]!==eh?(Z=eh("requiredAsterisk"),ed[96]=eh,ed[97]=Z):Z=ed[97],ed[98]!==Z?(J=(0,f.jsx)(T.TextBody,{color:"error-1",size:"sm",children:Z}),ed[98]=Z,ed[99]=J):J=ed[99],ed[100]!==eh?(Q=eh("required"),ed[100]=eh,ed[101]=Q):Q=ed[101],ed[102]!==Q?(ee=(0,f.jsx)(T.TextBody,{color:"text-secondary",size:"sm",children:Q}),ed[102]=Q,ed[103]=ee):ee=ed[103],ed[104]!==J||ed[105]!==ee?(et=(0,f.jsxs)(w.Flex,{className:"basis-1/2 items-center gap-1",children:[J,ee]}),ed[104]=J,ed[105]=ee,ed[106]=et):et=ed[106],ed[107]!==eh?(en=eh("cancel"),ed[107]=eh,ed[108]=en):en=ed[108],ed[109]!==ec||ed[110]!==en?(er=(0,f.jsx)(m.ModalFooterButton,{onClick:ec,variant:"secondary",children:en}),ed[109]=ec,ed[110]=en,ed[111]=er):er=ed[111];let eO=!(eD.isValid&&em.length)||ev;return ed[112]!==ef||ed[113]!==eh?(el=ef?eh("save"):eh("create"),ed[112]=ef,ed[113]=eh,ed[114]=el):el=ed[114],ed[115]!==eO||ed[116]!==el?(ei=(0,f.jsx)(m.ModalFooterButton,{disabled:eO,form:"gallery-section-form",type:"submit",children:el}),ed[115]=eO,ed[116]=el,ed[117]=ei):ei=ed[117],ed[118]!==er||ed[119]!==ei?(ea=(0,f.jsxs)(w.Flex,{className:"basis-1/2 gap-4",children:[er,ei]}),ed[118]=er,ed[119]=ei,ed[120]=ea):ea=ed[120],ed[121]!==et||ed[122]!==ea?(eo=(0,f.jsxs)(m.ModalFooter,{children:[et,ea]}),ed[121]=et,ed[122]=ea,ed[123]=eo):eo=ed[123],ed[124]!==K||ed[125]!==eo?(es=(0,f.jsxs)(f.Fragment,{children:[K,W,eo]}),ed[124]=K,ed[125]=eo,ed[126]=es):es=ed[126],es}function t4(e){return e.id}function t9(e){return{contractAddress:e.contractAddress,tokenId:e.tokenId,chain:e.chain}}function t8(e){return e.updateShelf}function t7(e){let t,n,r,l,i,a,o,s,d,c,u,v=(0,h.c)(24);v[0]!==e?({children:t,defaultValues:n,shelfId:l,...r}=e,v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=l):(t=v[1],n=v[2],r=v[3],l=v[4]);let[y,x]=(0,p.useState)(!1),b=(0,g.useTranslations)("ProfileGallery"),w=null==n?void 0:n.selectedItems;return v[5]!==l||v[6]!==b?(i=b(l?"editGallery":"createGallery"),v[5]=l,v[6]=b,v[7]=i):i=v[7],v[8]!==i?(a=(0,f.jsx)(m.ModalHeader,{children:(0,f.jsx)(m.ModalHeaderTitle,{children:i})}),v[8]=i,v[9]=a):a=v[9],v[10]===Symbol.for("react.memo_cache_sentinel")?(o=()=>x(!1),v[10]=o):o=v[10],v[11]!==n||v[12]!==l?(s=(0,f.jsx)(t6,{defaultValues:n,onClose:o,shelfId:l}),v[11]=n,v[12]=l,v[13]=s):s=v[13],v[14]!==w||v[15]!==a||v[16]!==s?(d=(0,f.jsxs)(tW,{defaultSelectedItems:w,children:[a,s]}),v[14]=w,v[15]=a,v[16]=s,v[17]=d):d=v[17],v[18]===Symbol.for("react.memo_cache_sentinel")?(c=e=>x(e),v[18]=c):c=v[18],v[19]!==t||v[20]!==y||v[21]!==r||v[22]!==d?(u=(0,f.jsx)(m.Modal,{content:d,onOpenChange:c,open:y,...r,children:t}),v[19]=t,v[20]=y,v[21]=r,v[22]=d,v[23]=u):u=v[23],u}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7ad97ea5-5224-5355-a08b-58b2f7f80800")}catch(e){}}();
//# debugId=7ad97ea5-5224-5355-a08b-58b2f7f80800
