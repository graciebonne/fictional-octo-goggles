(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,417689,e=>{"use strict";e.s(["ExpandedSearch",()=>np],417689);var t=e.i(705378),n=e.i(976078),r=e.i(302502),a=e.i(194153),l=e.i(437153),s=e.i(230834),i=e.i(969498),c=e.i(754459),o=e.i(590268),d=e.i(147850),u=e.i(254842),m=e.i(965523),h=e.i(806056);let p=(0,l.classNames)("transition duration-300 ease-out-quint"),x=(0,l.classNames)("hover:bg-bg-additional-2 border-border-1 hover:border-border-2 transition-colors duration-150 ease-out cursor-pointer"),y=(0,l.classNames)("bg-bg-additional-2 border-border-2");var g=e.i(165102),f=e.i(861690),v=e.i(790621);let C=e=>{let n,r,a,s,i,c,d,u,m=(0,o.c)(15);m[0]!==e?({size:a,fill:s,fillAttribute:i,className:n,...r}=e,m[0]=e,m[1]=n,m[2]=r,m[3]=a,m[4]=s,m[5]=i):(n=m[1],r=m[2],a=m[3],s=m[4],i=m[5]);let h=void 0===a?24:a,p=void 0===s?"current":s,x=void 0===i?"currentColor":i;return m[6]!==n||m[7]!==p?(c=(0,l.classNames)((0,v.fillVariants)({fill:p}),"animate-spin",n),m[6]=n,m[7]=p,m[8]=c):c=m[8],m[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("path",{d:"M480-71.87q-83.91 0-158.34-32.12-74.43-32.11-129.99-87.68-55.57-55.56-87.68-129.99Q71.87-396.09 71.87-480q0-84.71 32.11-158.7 32.12-73.99 87.68-129.61 55.56-55.62 129.99-87.72 74.44-32.1 158.35-32.1 19.15 0 32.33 13.17 13.17 13.18 13.17 32.33t-13.17 32.33q-13.18 13.17-32.33 13.17-131.81 0-224.47 92.66T162.87-480q0 131.8 92.66 224.47 92.66 92.66 224.47 92.66 131.8 0 224.47-92.66 92.66-92.66 92.66-224.47 0-19.15 13.17-32.33 13.18-13.17 32.33-13.17t32.33 13.17q13.17 13.18 13.17 32.33 0 83.91-32.11 158.35-32.12 74.44-87.68 130.01-55.56 55.57-129.58 87.67-74.02 32.1-158.76 32.1Z"}),m[9]=d):d=m[9],m[10]!==x||m[11]!==r||m[12]!==h||m[13]!==c?(u=(0,t.jsx)("svg",{"aria-label":"Progress Activity",className:c,fill:x,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...r,children:d}),m[10]=x,m[11]=r,m[12]=h,m[13]=c,m[14]=u):u=m[14],u};var j=e.i(940704),S=e.i(776589);function N(e){let n,r,a,s,i=(0,o.c)(9);i[0]!==e?({className:n,...r}=e,i[0]=e,i[1]=n,i[2]=r):(n=i[1],r=i[2]);let c=(0,S.useExpandedSearchStore)(b)?"":"opacity-0";return i[3]!==n||i[4]!==c?(a=(0,l.classNames)("w-full bg-bg-app",p,c,n),i[3]=n,i[4]=c,i[5]=a):a=i[5],i[6]!==r||i[7]!==a?(s=(0,t.jsx)(u.Flex,{className:a,...r}),i[6]=r,i[7]=a,i[8]=s):s=i[8],s}function b(e){return e.open}function k(e){let n,a,s,d,u,m,h,x,y,v,b,k,T,F,I,_,P=(0,o.c)(37),{query:L,setQuery:E,onKeyDown:A,selectedCategory:q}=e,U=(0,j.useTranslations)("ExpandedSearchMenuInput"),[B,R,D,V]=(0,S.useExpandedSearchStore)((0,c.useShallow)(w)),z=(0,i.useRef)(null),$=(0,i.useRef)(!1);P[0]!==B?(n=()=>{var e,t;B?null==(e=z.current)||e.focus():null==(t=z.current)||t.blur()},a=[B],P[0]=B,P[1]=n,P[2]=a):(n=P[1],a=P[2]),(0,i.useEffect)(n,a),P[3]!==L?(s=()=>{z.current&&(z.current.value=L)},d=[L],P[3]=L,P[4]=s,P[5]=d):(s=P[4],d=P[5]),(0,i.useEffect)(s,d),P[6]!==q?(u=()=>{$.current||((0,r.track)("Search Started",{category:q}),$.current=!0)},P[6]=q,P[7]=u):u=P[7];let O=u;P[8]!==B?(m=()=>{if(B){var e;null==(e=z.current)||e.focus()}},P[8]=B,P[9]=m):m=P[9],P[10]!==E?(h=e=>{E(e.target.value.trim())},P[10]=E,P[11]=h):h=P[11],P[12]!==U?(x=U("searchPlaceholder"),P[12]=U,P[13]=x):x=P[13],P[14]!==O||P[15]!==A||P[16]!==m||P[17]!==h||P[18]!==x?(y=(0,t.jsx)("input",{autoComplete:"off",className:"w-full bg-transparent text-display-sm outline-hidden","data-testid":"ExpandedSearchMenuInput",id:"expanded-search-input",name:"expanded-search-query",onBlur:m,onChange:h,onFocus:O,onKeyDown:A,placeholder:x,ref:z,type:"text"}),P[14]=O,P[15]=A,P[16]=m,P[17]=h,P[18]=x,P[19]=y):y=P[19];let Q=D&&"scale-100 opacity-100";return P[20]!==Q?(v=(0,l.classNames)("scale-50 opacity-0",p,Q),P[20]=Q,P[21]=v):v=P[21],P[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)(C,{fill:"text-secondary"}),P[22]=b):b=P[22],P[23]!==v?(k=(0,t.jsx)("div",{className:v,children:b}),P[23]=v,P[24]=k):k=P[24],P[25]!==L||P[26]!==q||P[27]!==R||P[28]!==V?(T=()=>{(0,r.track)("Search Dismissed",{query:L,query_length:L.length,category:q,has_query:L.length>0,dismiss_source:"close_button"}),R(!1),V("")},P[25]=L,P[26]=q,P[27]=R,P[28]=V,P[29]=T):T=P[29],P[30]===Symbol.for("react.memo_cache_sentinel")?(F=(0,t.jsx)(f.Close,{size:27.5}),P[30]=F):F=P[30],P[31]!==T?(I=(0,t.jsx)(g.Media,{lessThan:"lg",children:(0,t.jsx)("button",{onClick:T,type:"button",children:F})}),P[31]=T,P[32]=I):I=P[32],P[33]!==k||P[34]!==I||P[35]!==y?(_=(0,t.jsxs)(N,{className:"h-20 w-full items-center justify-center gap-3 border-border-1 border-b px-6",children:[y,k,I]}),P[33]=k,P[34]=I,P[35]=y,P[36]=_):_=P[36],_}function w(e){return[e.open,e.setOpen,e.loading,e.setSearchQuery]}var T=e.i(325636),F=e.i(104062),I=e.i(266341),_=e.i(35720),P=e.i(734630),L=e.i(615670),E=e.i(575789),A=e.i(508833),q=e.i(22764),U=e.i(635341),B=e.i(601056),R=e.i(519078),D=e.i(39771),V=e.i(738480),z=e.i(209959),$=e.i(28155),O=e.i(967593),Q=e.i(365739),M=e.i(668493);e.i(513736);var W=e.i(142804),G=e.i(803577),H=e.i(81810),K=e.i(528198),Z=e.i(609644),Y=e.i(818304);let J=(0,K.graphql)("\n    fragment TrendingCurrencyCard on CurrencyV2 {\n      id\n      imageUrl\n      name\n      usdPrice\n      chainIdentifier\n      stats {\n        marketCapUsd\n        oneDay {\n          volume\n          priceChange\n        }\n      }\n      chain {\n        ...ChainBadge\n      }\n      ...CurrencyV2Link\n      ...CurrencyV2Lockup\n      ...CurrencySparkLineChart\n    }\n  ",[Z.CurrencyV2LinkFragment,G.ChainBadgeFragment,H.CurrencyV2LockupFragment,Y.CurrencySparkLineChartFragment]);function X(e){var n,r,a,s,i;let c,d,u,m,h,p,g,f,v,C,S,N,b,k=(0,o.c)(35),{currency:w,className:T,onSelect:F,selected:I,onPointerEnter:_}=e;k[0]!==w?(c=(0,U.readFragment)(J,w),k[0]=w,k[1]=c):c=k[1];let P=c,L=(0,j.useTranslations)("TrendingCurrenciesCarousel"),E=void 0!==I&&I&&y;k[2]!==T||k[3]!==E?(d=(0,l.classNames)("flex h-16 w-full items-center justify-center overflow-hidden rounded-lg border bg-bg-primary p-3 shadow-xs",x,E,T),k[2]=T,k[3]=E,k[4]=d):d=k[4],k[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(A.CurrencyLockupAvatar,{}),k[5]=u):u=k[5],k[6]!==P.name?(m=(0,t.jsx)(B.Item,{variant:"unstyled",children:(0,t.jsx)($.TextOverflowTooltip,{children:(0,t.jsx)(R.ItemTitle,{className:"truncate text-sm",weight:"semibold",children:P.name})})}),k[6]=P.name,k[7]=m):m=k[7],k[8]!==L?(h=L("marketCap"),k[8]=L,k[9]=h):h=k[9];let G=null==(n=P.stats)?void 0:n.marketCapUsd;return k[10]!==G?(p=(0,t.jsx)(Q.Truncate,{className:"text-sm text-text-secondary",children:(0,t.jsx)(V.NumberDisplay,{bounded:!1,display:"usd",value:G})}),k[10]=G,k[11]=p):p=k[11],k[12]!==h||k[13]!==p?(g=(0,t.jsx)(O.Tooltip,{content:h,children:p}),k[12]=h,k[13]=p,k[14]=g):g=k[14],k[15]!==P.stats?(f=(null==(a=P.stats)||null==(r=a.oneDay)?void 0:r.priceChange)!==void 0&&(null==(i=P.stats)||null==(s=i.oneDay)?void 0:s.priceChange)!==0&&(0,t.jsx)(z.StatChange,{change:P.stats.oneDay.priceChange,className:"text-sm"}),k[15]=P.stats,k[16]=f):f=k[16],k[17]!==g||k[18]!==f?(v=(0,t.jsxs)(D.FlexCenter,{className:"gap-2",children:[g,f]}),k[17]=g,k[18]=f,k[19]=v):v=k[19],k[20]!==v||k[21]!==m?(C=(0,t.jsxs)(q.CurrencyLockupContent,{className:"min-w-0 flex-1 overflow-hidden",children:[m,v]}),k[20]=v,k[21]=m,k[22]=C):C=k[22],k[23]!==P||k[24]!==C?(S=(0,t.jsxs)(A.CurrencyLockup,{currency:P,size:"md",children:[u,C]}),k[23]=P,k[24]=C,k[25]=S):S=k[25],k[26]!==P?(N=(0,t.jsx)("div",{className:"ml-3 h-8 w-14 shrink-0",children:(0,t.jsx)(W.CurrencySparkLineChart,{className:"pointer-events-none h-full w-full",currency:P,showTooltip:!1,timeframe:"ONE_DAY"})}),k[26]=P,k[27]=N):N=k[27],k[28]!==P||k[29]!==_||k[30]!==F||k[31]!==S||k[32]!==N||k[33]!==d?(b=(0,t.jsxs)(M.CurrencyLink,{className:d,currency:P,onClick:F,onPointerEnter:_,children:[S,N]}),k[28]=P,k[29]=_,k[30]=F,k[31]=S,k[32]=N,k[33]=d,k[34]=b):b=k[34],b}var ee=e.i(491150),et=e.i(747998);e.i(257620);var en=e.i(877330),er=e.i(472821),ea=e.i(392024),el=e.i(567089),es=e.i(310578),ei=e.i(747460),ec=e.i(950293),eo=e.i(471966),ed=e.i(207225),eu=e.i(646426),em=e.i(682576),eh=e.i(581147),ep=e.i(916511),ex=e.i(190627),ey=e.i(684108),eg=e.i(62793);e.i(106969);var ef=e.i(861060),ev=e.i(959105),eC=e.i(9300),ej=e.i(743342);let eS=(0,K.graphql)("\n  fragment UniversalSearchPerpetual on PerpetualFutureV2 {\n    id\n    name\n    symbol\n    imageUrl\n    maxLeverage\n    stats {\n      markPrice\n      priceChangePercent24h\n    }\n  }\n"),eN=(0,K.graphql)("\n    fragment ExpandedSearchAccount on ProfileIdentifier {\n      address\n      ...AccountLockup\n      ...AccountEnforcementBadge\n      ...profileUrl\n      ... on Profile {\n        dateJoined\n      }\n    }\n  ",[eu.AccountLockupFragment,ey.AccountEnforcementBadgeFragment,ep.profileUrlFragment]),eb=(0,K.graphql)("\n    fragment UniversalSearchCollection on Collection {\n      id\n      chain {\n        identifier\n      }\n      ...collectionUrl\n      ...CollectionLockup\n      ...CollectionLink\n      floorPrice {\n        pricePerItem {\n          ...TokenPrice\n        }\n      }\n      collectionStats: stats {\n        totalSupply\n        oneDay {\n          floorPriceChange\n        }\n      }\n    }\n  ",[eg.collectionUrlFragment,em.CollectionLockupFragment,ev.CollectionLinkFragment,ex.TokenPriceFragment]),ek=(0,K.graphql)("\n    fragment UniversalSearchCurrency on Currency {\n      id\n      contractAddress\n      chainIdentifier\n      symbol\n      name\n      isNative\n      isStablecoin\n      usdPrice\n      networkCount\n      tokenGroup {\n        perpetuals {\n          id\n        }\n      }\n      currencyStats: stats {\n        marketCapUsd\n        oneDay {\n          priceChange\n        }\n      }\n      chain {\n        identifier\n        ...ChainBadge\n      }\n      ...CurrencyLockup\n      ...CurrencyLink\n      ...currencyUrl\n    }\n  ",[G.ChainBadgeFragment,H.CurrencyLockupFragment,Z.CurrencyLinkFragment,eh.currencyUrlFragment]),ew=(0,K.graphql)("\n    fragment UniversalSearchCurrencyV2 on CurrencyV2 {\n      id\n      contractAddress\n      chainIdentifier\n      symbol\n      name\n      imageUrl\n      isNative\n      isStablecoin\n      usdPrice\n      tokenGroup {\n        perpetuals {\n          id\n        }\n      }\n      currencyV2Stats: stats {\n        marketCapUsd\n        oneDay {\n          priceChange\n        }\n      }\n      chain {\n        identifier\n        ...ChainBadge\n      }\n      ...CurrencyV2Lockup\n      ...currencyV2Url\n    }\n  ",[G.ChainBadgeFragment,H.CurrencyV2LockupFragment,eh.currencyV2UrlFragment]),eT=(0,K.graphql)("\n    fragment UniversalSearchItem on Item {\n      id\n      name\n      imageUrl\n      ...itemUrl\n      ...ItemAvatar\n      ...ItemPreviewTooltip\n      owner {\n        ...AccountLockup\n      }\n      collection {\n        ...CollectionLockup\n        chain {\n          identifier\n        }\n      }\n    }\n  ",[ej.itemUrlFragment,ef.ItemAvatarFragment,eC.ItemPreviewTooltipFragment,eu.AccountLockupFragment,em.CollectionLockupFragment]);var eF=e.i(976644);function eI(){let{persona:e}=(0,eF.usePersona)();return"collector"===e?"lg":"md"}let{container:e_}=(0,eo.tv)({slots:{container:"h-16 border-none p-0"}})(),eP=e=>({id:(0,U.readFragment)(eN,e).address,data:e,type:"account"});function eL(e){var n;let r,a,s,i,c,d=(0,o.c)(17),{item:u,className:m,selectedCategory:h,onSelect:p}=e,x=(0,U.readFragment)(eN,u.data),y=eI(),g=(0,ed.useAddress)(),f=(0,j.useTranslations)("ExpandedSearchMenuResults.types"),v="all"===h,C=(0,er.useLocale)(),S=(0,en.dateTimeFormatter)(C),N="Profile"===x.__typename?x.dateJoined:null,b=v||N||x.address,k=et.AccountLockup;d[0]!==m?(r=(0,l.classNames)(e_(),"hover:bg-transparent",m),d[0]=m,d[1]=r):r=d[1];let w=null!=g?g:null;d[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(et.AccountLockupAvatar,{}),d[2]=a):a=d[2];let T=ea.LockupContent;d[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(et.AccountLockupTitle,{weight:"semibold"}),d[3]=s):s=d[3];let F=b&&(0,t.jsxs)(D.FlexCenter,{className:"gap-1",children:[v&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:f("wallet")}),N&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:f("joined",{date:S(new Date(N),{display:"custom",month:"short",year:"numeric"})})}),x.address&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:(n=x.address).length<=6?n:n.slice(-6)})]});return d[4]!==T||d[5]!==s||d[6]!==F?(i=(0,t.jsxs)(T,{className:"gap-1",children:[s,F]}),d[4]=T,d[5]=s,d[6]=F,d[7]=i):i=d[7],d[8]!==k||d[9]!==x||d[10]!==p||d[11]!==y||d[12]!==r||d[13]!==w||d[14]!==a||d[15]!==i?(c=(0,t.jsxs)(k,{account:x,className:r,connectedAddress:w,displayYou:!1,onClick:p,size:y,children:[a,i]}),d[8]=k,d[9]=x,d[10]=p,d[11]=y,d[12]=r,d[13]=w,d[14]=a,d[15]=i,d[16]=c):c=d[16],c}function eE(e){let n,r=(0,o.c)(2);return r[0]!==e?(n=(0,t.jsx)(eL,{...e}),r[0]=e,r[1]=n):n=r[1],n}var eA=e.i(794835),eq=e.i(439765),eU=e.i(47667),eB=e.i(258343);let{container:eR,content:eD,contentInner:eV,statsContainer:ez}=(0,eo.tv)({slots:{container:"h-16 border-none p-0",content:"w-full items-center",contentInner:"w-full",statsContainer:""}})(),e$=["w-1/2","w-1/3","w-2/5","w-3/5"];function eO(e){var n,r,a;let s,i,c,d,u,m,h,p,x,y=(0,o.c)(25),{item:g,onSelect:f,className:v,hideStats:C,selectedCategory:S}=e;y[0]!==g.data?(s=(0,U.readFragment)(eb,g.data),y[0]=g.data,y[1]=s):s=y[1];let N=s,b=N.collectionStats,k=eI(),w="all"===S,T=(0,j.useTranslations)("ExpandedSearchMenuResults.types");return y[2]!==v?(i=(0,l.classNames)(eR(),"hover:bg-transparent",v),y[2]=v,y[3]=i):i=y[3],y[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(eA.CollectionLockupAvatar,{}),y[4]=c):c=y[4],y[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(D.FlexCenter,{className:"gap-2",children:(0,t.jsx)(eA.CollectionLockupTitle,{weight:"semibold"})}),y[5]=d):d=y[5],y[6]!==w||y[7]!==T?(u=w&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:T("collection")}),y[6]=w,y[7]=T,y[8]=u):u=y[8],y[9]!==C||y[10]!==b?(m=!C&&(null==b?void 0:b.totalSupply)!==void 0&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:(0,t.jsx)(V.NumberDisplay,{display:"quantity",suffix:"items",value:b.totalSupply})}),y[9]=C,y[10]=b,y[11]=m):m=y[11],y[12]!==u||y[13]!==m?(h=(0,t.jsxs)(eq.CollectionLockupContent,{children:[d,(0,t.jsxs)(D.FlexCenter,{className:"mt-1 gap-1",children:[u,m]})]}),y[12]=u,y[13]=m,y[14]=h):h=y[14],y[15]!==(null==(n=N.floorPrice)?void 0:n.pricePerItem)||y[16]!==C?(p=!C&&(0,t.jsx)(R.ItemSide,{children:(0,t.jsx)(eU.TokenPrice,{className:"text-sm",price:null==(r=N.floorPrice)?void 0:r.pricePerItem})}),y[15]=null==(a=N.floorPrice)?void 0:a.pricePerItem,y[16]=C,y[17]=p):p=y[17],y[18]!==N||y[19]!==f||y[20]!==k||y[21]!==i||y[22]!==h||y[23]!==p?(x=(0,t.jsxs)(eA.CollectionLockup,{className:i,collection:N,onClick:f,size:k,children:[c,h,p]}),y[18]=N,y[19]=f,y[20]=k,y[21]=i,y[22]=h,y[23]=p,y[24]=x):x=y[24],x}function eQ(e){let n,r,a,s,i,c,d,u,h,p,x,y,g,f,v,C,j,S=(0,o.c)(43),{index:N,hideStats:b,className:k}=e,w=eI();if(S[0]!==k||S[1]!==N||S[2]!==w){let{text:e}=(0,ei.tableRowSizeVariants)({size:w});i=B.Item,S[13]!==k?(h=(0,l.classNames)(eR(),"px-3",k),S[13]=k,S[14]=h):h=S[14],S[15]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(es.SkeletonBlock,{className:"size-12 shrink-0 rounded"}),S[15]=p):p=S[15],s=R.ItemContent,a=eB.SpaceBetween,S[16]===Symbol.for("react.memo_cache_sentinel")?(u=eD(),S[16]=u):u=S[16],r=m.FlexColumn,S[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.classNames)(eV(),"w-1/2"),S[17]=d):d=S[17],n=ec.TextBodySkeleton,c=(0,l.classNames)(e(),e$[N%e$.length]),S[0]=k,S[1]=N,S[2]=w,S[3]=n,S[4]=r,S[5]=a,S[6]=s,S[7]=i,S[8]=c,S[9]=d,S[10]=u,S[11]=h,S[12]=p}else n=S[3],r=S[4],a=S[5],s=S[6],i=S[7],c=S[8],d=S[9],u=S[10],h=S[11],p=S[12];return S[18]!==n||S[19]!==c?(x=(0,t.jsx)(n,{className:c}),S[18]=n,S[19]=c,S[20]=x):x=S[20],S[21]!==b?(y=!b&&(0,t.jsx)(D.FlexCenter,{className:ez(),children:(0,t.jsx)(ec.TextBodySkeleton,{className:"w-[80px]"})}),S[21]=b,S[22]=y):y=S[22],S[23]!==r||S[24]!==d||S[25]!==x||S[26]!==y?(g=(0,t.jsxs)(r,{className:d,children:[x,y]}),S[23]=r,S[24]=d,S[25]=x,S[26]=y,S[27]=g):g=S[27],S[28]!==b?(f=!b&&(0,t.jsx)(ec.TextBodySkeleton,{className:"w-[100px]"}),S[28]=b,S[29]=f):f=S[29],S[30]!==a||S[31]!==u||S[32]!==g||S[33]!==f?(v=(0,t.jsxs)(a,{className:u,children:[g,f]}),S[30]=a,S[31]=u,S[32]=g,S[33]=f,S[34]=v):v=S[34],S[35]!==s||S[36]!==v?(C=(0,t.jsx)(s,{children:v}),S[35]=s,S[36]=v,S[37]=C):C=S[37],S[38]!==i||S[39]!==C||S[40]!==h||S[41]!==p?(j=(0,t.jsxs)(i,{className:h,children:[p,C]}),S[38]=i,S[39]=C,S[40]=h,S[41]=p,S[42]=j):j=S[42],j}let eM=e=>({id:(0,U.readFragment)(eb,e).id,data:e,type:"collection"});function eW(e){let n,r=(0,o.c)(2);return r[0]!==e?(n=(0,t.jsx)(eO,{...e}),r[0]=e,r[1]=n):n=r[1],n}function eG(e){let n,r=(0,o.c)(2);return r[0]!==e?(n=(0,t.jsx)(eQ,{...e}),r[0]=e,r[1]=n):n=r[1],n}function eH(e){return null!==e&&"object"==typeof e&&"collectionStats"in e}function eK(e){return null!==e&&"object"==typeof e&&"currencyStats"in e&&!("currencyV2Stats"in e)}function eZ(e){return null!==e&&"object"==typeof e&&"currencyV2Stats"in e}function eY(e){return null!==e&&"object"==typeof e&&"usdPrice"in e&&!("currencyStats"in e)&&!("currencyV2Stats"in e)}e.i(652565);var eJ=e.i(132553);let{container:eX}=(0,eo.tv)({slots:{container:"h-16 border-none p-0"}})(),e0=["w-1/2","w-1/3","w-2/5","w-3/5"];function e1(e){var n,r,a,s,i,c,d,u;let m,p,x,y,g,f,v,C,S,N,b,k,w,T,F,I,_,P,L=(0,o.c)(95),{item:E,onSelect:$,className:O,hideStats:Q,selectedCategory:M}=e,{persona:W}=(0,eF.usePersona)(),G="collector"===W?"lg":"md",H="all"===M,K=(0,j.useTranslations)("ExpandedSearchMenuResults.types"),Z=(0,h.useIsPerpetualsEnabled)();if(eZ(E.data)){let e,i,c,o,d,u,m,h,p,x,y,g,f,v;L[0]!==E.data?(e=(0,U.readFragment)(ew,E.data),L[0]=E.data,L[1]=e):e=L[1];let C=e,j=C.currencyV2Stats,S=Z&&(null!=(a=null==(r=C.tokenGroup)||null==(n=r.perpetuals)?void 0:n.length)?a:0)>0;return L[2]!==O?(i=(0,l.classNames)(eX(),"hover:bg-transparent",O),L[2]=O,L[3]=i):i=L[3],L[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(A.CurrencyLockupAvatar,{}),L[4]=c):c=L[4],L[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(A.CurrencyLockupTitle,{}),d=(0,t.jsx)(A.CurrencyLockupSymbol,{}),u=(0,t.jsx)(A.CurrencyLockupBadge,{}),L[5]=o,L[6]=d,L[7]=u):(o=L[5],d=L[6],u=L[7]),L[8]!==S?(m=S&&(0,t.jsx)(A.CurrencyLockupPerpetualBadge,{}),L[8]=S,L[9]=m):m=L[9],L[10]!==m?(h=(0,t.jsxs)(D.FlexCenter,{className:"gap-1.5",children:[o,d,u,m]}),L[10]=m,L[11]=h):h=L[11],L[12]!==C.isNative||L[13]!==C.isStablecoin||L[14]!==H||L[15]!==K?(p=(H||C.isNative||C.isStablecoin)&&(0,t.jsxs)(D.FlexCenter,{className:"mt-1 gap-1",children:[H&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("token")}),C.isNative&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("native")}),C.isStablecoin&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("stablecoin")})]}),L[12]=C.isNative,L[13]=C.isStablecoin,L[14]=H,L[15]=K,L[16]=p):p=L[16],L[17]!==h||L[18]!==p?(x=(0,t.jsxs)(q.CurrencyLockupContent,{children:[h,p]}),L[17]=h,L[18]=p,L[19]=x):x=L[19],L[20]!==C||L[21]!==G||L[22]!==x?(y=(0,t.jsxs)(A.CurrencyLockup,{className:"min-w-0 flex-1",currency:C,size:G,children:[c,x]}),L[20]=C,L[21]=G,L[22]=x,L[23]=y):y=L[23],L[24]!==C.isNative||L[25]!==C.isStablecoin||L[26]!==C.usdPrice||L[27]!==Q||L[28]!==j||L[29]!==K?(g=C.isStablecoin?null:(0,t.jsxs)(t.Fragment,{children:[C.isNative?(0,t.jsx)(ec.TextBody,{className:"text-sm",children:(0,t.jsx)(eJ.CurrencyPriceDisplay,{value:Number(C.usdPrice)})}):(0,t.jsxs)(D.FlexCenter,{className:"justify-end gap-1",children:[(0,t.jsx)(V.NumberDisplay,{bounded:!1,display:"usd",value:null==j?void 0:j.marketCapUsd}),(0,t.jsx)(ec.TextBody,{className:"text-text-secondary",children:K("mcap")})]}),!Q&&(null==j||null==(s=j.oneDay)?void 0:s.priceChange)!==void 0&&(0,t.jsx)(ec.TextBody,{className:"shrink-0 font-mono text-sm",children:(0,t.jsx)(z.StatChange,{change:j.oneDay.priceChange})})]}),L[24]=C.isNative,L[25]=C.isStablecoin,L[26]=C.usdPrice,L[27]=Q,L[28]=j,L[29]=K,L[30]=g):g=L[30],L[31]!==g?(f=(0,t.jsx)(R.ItemSide,{className:"shrink-0 items-end justify-center text-right text-sm",children:g}),L[31]=g,L[32]=f):f=L[32],L[33]!==$||L[34]!==y||L[35]!==f||L[36]!==i?(v=(0,t.jsxs)(B.Item,{className:i,onClick:$,children:[y,f]}),L[33]=$,L[34]=y,L[35]=f,L[36]=i,L[37]=v):v=L[37],v}if(L[38]!==O||L[39]!==Z||L[40]!==E.data||L[41]!==$||L[42]!==H||L[43]!==G||L[44]!==K){let e,n,r,a;g=(y=(0,U.readFragment)(ek,E.data)).currencyStats;let s=Z&&(null!=(d=null==(c=y.tokenGroup)||null==(i=c.perpetuals)?void 0:i.length)?d:0)>0;x=B.Item,L[58]!==O?(k=(0,l.classNames)(eX(),"hover:bg-transparent",O),L[58]=O,L[59]=k):k=L[59],w=$,p=A.CurrencyLockup,C="min-w-0 flex-1",S=y,N=G;let o=y.networkCount>1?null:void 0;L[60]!==o?(b=(0,t.jsx)(A.CurrencyLockupAvatar,{badge:o}),L[60]=o,L[61]=b):b=L[61],m=q.CurrencyLockupContent,L[62]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(A.CurrencyLockupTitle,{}),n=(0,t.jsx)(A.CurrencyLockupSymbol,{}),r=(0,t.jsx)(A.CurrencyLockupBadge,{}),L[62]=e,L[63]=n,L[64]=r):(e=L[62],n=L[63],r=L[64]),L[65]!==s?(a=s&&(0,t.jsx)(A.CurrencyLockupPerpetualBadge,{}),L[65]=s,L[66]=a):a=L[66],L[67]!==a?(f=(0,t.jsxs)(D.FlexCenter,{className:"gap-1.5",children:[e,n,r,a]}),L[67]=a,L[68]=f):f=L[68],v=(H||y.isNative||y.isStablecoin||y.networkCount>1)&&(0,t.jsxs)(D.FlexCenter,{className:"mt-1 gap-1",children:[H&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("token")}),y.isNative&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("native")}),y.isStablecoin&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("stablecoin")}),y.networkCount>1&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:K("networks",{count:y.networkCount})})]}),L[38]=O,L[39]=Z,L[40]=E.data,L[41]=$,L[42]=H,L[43]=G,L[44]=K,L[45]=m,L[46]=p,L[47]=x,L[48]=y,L[49]=g,L[50]=f,L[51]=v,L[52]=C,L[53]=S,L[54]=N,L[55]=b,L[56]=k,L[57]=w}else m=L[45],p=L[46],x=L[47],y=L[48],g=L[49],f=L[50],v=L[51],C=L[52],S=L[53],N=L[54],b=L[55],k=L[56],w=L[57];return L[69]!==m||L[70]!==f||L[71]!==v?(T=(0,t.jsxs)(m,{children:[f,v]}),L[69]=m,L[70]=f,L[71]=v,L[72]=T):T=L[72],L[73]!==p||L[74]!==C||L[75]!==S||L[76]!==N||L[77]!==b||L[78]!==T?(F=(0,t.jsxs)(p,{className:C,currency:S,size:N,children:[b,T]}),L[73]=p,L[74]=C,L[75]=S,L[76]=N,L[77]=b,L[78]=T,L[79]=F):F=L[79],L[80]!==y.isNative||L[81]!==y.isStablecoin||L[82]!==y.usdPrice||L[83]!==Q||L[84]!==g||L[85]!==K?(I=y.isStablecoin?null:(0,t.jsxs)(t.Fragment,{children:[y.isNative?(0,t.jsx)(ec.TextBody,{className:"text-sm",children:(0,t.jsx)(eJ.CurrencyPriceDisplay,{value:Number(y.usdPrice)})}):(0,t.jsxs)(D.FlexCenter,{className:"justify-end gap-1",children:[(0,t.jsx)(V.NumberDisplay,{bounded:!1,display:"usd",value:null==g?void 0:g.marketCapUsd}),(0,t.jsx)(ec.TextBody,{className:"text-text-secondary",children:K("mcap")})]}),!Q&&(null==g||null==(u=g.oneDay)?void 0:u.priceChange)!==void 0&&(0,t.jsx)(ec.TextBody,{className:"shrink-0 font-mono text-sm",children:(0,t.jsx)(z.StatChange,{change:g.oneDay.priceChange})})]}),L[80]=y.isNative,L[81]=y.isStablecoin,L[82]=y.usdPrice,L[83]=Q,L[84]=g,L[85]=K,L[86]=I):I=L[86],L[87]!==I?(_=(0,t.jsx)(R.ItemSide,{className:"shrink-0 items-end justify-center text-right text-sm",children:I}),L[87]=I,L[88]=_):_=L[88],L[89]!==x||L[90]!==F||L[91]!==_||L[92]!==k||L[93]!==w?(P=(0,t.jsxs)(x,{className:k,onClick:w,children:[F,_]}),L[89]=x,L[90]=F,L[91]=_,L[92]=k,L[93]=w,L[94]=P):P=L[94],P}function e2(e){let n,r,a,s,i,c,d,u,m,h,p=(0,o.c)(23),{index:x,hideStats:y,className:g}=e,f=eI();p[0]!==g?(n=(0,l.classNames)(eX(),"px-3",g),p[0]=g,p[1]=n):n=p[1],p[2]!==f?(r=(0,l.classNames)((0,ei.tableRowSizeVariants)({size:f}).image(),"shrink-0"),p[2]=f,p[3]=r):r=p[3],p[4]!==r?(a=(0,t.jsx)("div",{className:"w-auto shrink-0",children:(0,t.jsx)(es.SkeletonCircle,{className:r})}),p[4]=r,p[5]=a):a=p[5];let v=e0[x%e0.length];p[6]!==v?(s=(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(ec.TextBodySkeleton,{className:v})}),p[6]=v,p[7]=s):s=p[7];let C=e0[(x+1)%e0.length];return p[8]!==C?(i=(0,t.jsx)("div",{className:"w-1/4",children:(0,t.jsx)(ec.TextBodySkeleton,{className:C})}),p[8]=C,p[9]=i):i=p[9],p[10]!==s||p[11]!==i?(c=(0,t.jsxs)(R.ItemSide,{className:"w-full",children:[s,i]}),p[10]=s,p[11]=i,p[12]=c):c=p[12],p[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(ec.TextBodySkeleton,{}),p[13]=d):d=p[13],p[14]!==y?(u=!y&&(0,t.jsx)(ec.TextBodySkeleton,{className:"w-1/2 shrink-0",size:"xs"}),p[14]=y,p[15]=u):u=p[15],p[16]!==u?(m=(0,t.jsxs)(R.ItemSide,{className:"w-[100px] items-end text-right text-sm",children:[d,u]}),p[16]=u,p[17]=m):m=p[17],p[18]!==n||p[19]!==m||p[20]!==a||p[21]!==c?(h=(0,t.jsxs)(B.Item,{className:n,children:[a,c,m]}),p[18]=n,p[19]=m,p[20]=a,p[21]=c,p[22]=h):h=p[22],h}function e3(e){return eY(e)?{id:(0,U.readFragment)(J,e).id,data:e,type:"currency"}:eZ(e)?{id:(0,U.readFragment)(ew,e).id,data:e,type:"currency"}:{id:(0,U.readFragment)(ek,e).id,data:e,type:"currency"}}function e6(e){let n,r=(0,o.c)(2);return r[0]!==e?(n=(0,t.jsx)(e1,{...e}),r[0]=e,r[1]=n):n=r[1],n}function e4(e){let n,r=(0,o.c)(2);return r[0]!==e?(n=(0,t.jsx)(e2,{...e}),r[0]=e,r[1]=n):n=r[1],n}var e5=e.i(101304),e7=e.i(630945);let{container:e8,content:e9}=(0,eo.tv)({slots:{container:"h-16 border-none p-0",content:"w-full"}})();function te(e){let n,r,a,s,i,c,d,u,m,h=(0,o.c)(29),{item:p,onSelect:x,className:y,selectedCategory:g}=e;h[0]!==p.data?(n=(0,U.readFragment)(eT,p.data),h[0]=p.data,h[1]=n):n=h[1];let f=n,v=eI(),{image:C,text:S}=(0,ei.tableRowSizeVariants)({size:v}),N="all"===g,b=(0,j.useTranslations)("ExpandedSearchMenuResults.types");h[2]!==y?(r=(0,l.classNames)(e8(),"hover:bg-transparent",y),h[2]=y,h[3]=r):r=h[3];let k=R.ItemContent;h[4]===Symbol.for("react.memo_cache_sentinel")?(a=e9(),h[4]=a):a=h[4];let w=e7.ItemPreviewTooltip,T=D.FlexCenter,F=Q.Truncate,I=R.ItemTitle,_=(0,l.classNames)(S(),"font-normal");return h[5]!==I||h[6]!==f.name||h[7]!==_?(s=(0,t.jsx)(I,{className:_,children:f.name}),h[5]=I,h[6]=f.name,h[7]=_,h[8]=s):s=h[8],h[9]!==F||h[10]!==s?(i=(0,t.jsx)(F,{children:s}),h[9]=F,h[10]=s,h[11]=i):i=h[11],h[12]!==T||h[13]!==i?(c=(0,t.jsx)(T,{className:"w-full gap-1",children:i}),h[12]=T,h[13]=i,h[14]=c):c=h[14],h[15]!==w||h[16]!==f||h[17]!==c?(d=(0,t.jsx)(w,{item:f,children:c}),h[15]=w,h[16]=f,h[17]=c,h[18]=d):d=h[18],h[19]!==f.collection||h[20]!==N||h[21]!==v||h[22]!==b?(u=N?(0,t.jsx)(D.FlexCenter,{className:"mt-2 gap-1",children:(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:b("item")})}):f.collection?(0,t.jsx)(eA.CollectionLockup,{collection:f.collection,size:v,children:(0,t.jsx)(eq.CollectionLockupContent,{children:(0,t.jsx)(eA.CollectionLockupTitle,{className:"font-mono",color:"text-secondary",disableTextOverflowTooltip:!0})})}):null,h[19]=f.collection,h[20]=N,h[21]=v,h[22]=b,h[23]=u):u=h[23],h[24]!==k||h[25]!==u||h[26]!==a||h[27]!==d?(m=(0,t.jsxs)(k,{className:a,children:[d,u]}),h[24]=k,h[25]=u,h[26]=a,h[27]=d,h[28]=m):m=h[28],(0,t.jsxs)(B.Item,{className:r,onClick:x,variant:"unstyled",children:[(0,t.jsx)(e7.ItemPreviewTooltip,{item:f,children:(0,t.jsx)(e5.ItemAvatar,{className:(0,l.classNames)(C(),"aspect-square shrink-0"),item:f,size:ei.TABLE_SIZES[v].image})}),m]})}let tt=e=>({id:(0,U.readFragment)(eT,e).id,data:e,type:"item"});function tn(e){let n,r=(0,o.c)(2);return r[0]!==e?(n=(0,t.jsx)(te,{...e}),r[0]=e,r[1]=n):n=r[1],n}function tr(e){let n,r,a,s,i=(0,o.c)(10),{item:c,className:d}=e,u=c.data.icon;return i[0]!==d?(n=(0,l.classNames)("h-9 w-full",d),i[0]=d,i[1]=n):n=i[1],i[2]!==u?(r=(0,t.jsx)(u,{className:"mr-2 scale-90"}),i[2]=u,i[3]=r):r=i[3],i[4]!==c.data.title?(a=(0,t.jsx)(Q.Truncate,{children:(0,t.jsx)(ec.TextBody,{size:"md",children:c.data.title})}),i[4]=c.data.title,i[5]=a):a=i[5],i[6]!==n||i[7]!==r||i[8]!==a?(s=(0,t.jsxs)(D.FlexCenter,{className:n,children:[r,a]}),i[6]=n,i[7]=r,i[8]=a,i[9]=s):s=i[9],s}var ta=e.i(788331),tl=e.i(73868),ts=e.i(628946);let ti=(0,K.graphql)("\n    fragment TrendingPerpetualCard on PerpetualFutureV2 {\n      ...UniversalSearchPerpetual\n      ...PerpetualLink\n    }\n  ",[eS,ts.PerpetualLinkFragment]);function tc(e){var n,r;let a,s,i,c,d,m,h,p,g,f,v,C=(0,o.c)(30),{perpetual:j,className:S,onSelect:N,selected:b,onPointerEnter:k}=e;C[0]!==j?(s=(0,U.readFragment)(ti,j),a=(0,U.readFragment)(eS,s),C[0]=j,C[1]=a,C[2]=s):(a=C[1],s=C[2]);let w=a,T=void 0!==b&&b&&y;C[3]!==S||C[4]!==T?(i=(0,l.classNames)("flex h-16 w-full items-center justify-center overflow-hidden rounded-lg border bg-bg-primary p-3 shadow-xs",x,T,S),C[3]=S,C[4]=T,C[5]=i):i=C[5];let F=null!=(n=w.imageUrl)?n:void 0;return C[6]!==w.symbol||C[7]!==F?(c=(0,t.jsx)(ea.LockupAvatar,{border:!0,className:"shrink-0 rounded-full bg-white object-cover",onError:to,seed:w.symbol,src:F}),C[6]=w.symbol,C[7]=F,C[8]=c):c=C[8],C[9]!==w.name?(d=(0,t.jsx)($.TextOverflowTooltip,{children:(0,t.jsx)(R.ItemTitle,{className:"truncate text-sm",weight:"semibold",children:w.name})}),C[9]=w.name,C[10]=d):d=C[10],C[11]!==w.maxLeverage?(m=(0,t.jsxs)(el.Chip,{className:"shrink-0 font-mono text-xs uppercase",variant:"frosted",children:[w.maxLeverage,"x"]}),C[11]=w.maxLeverage,C[12]=m):m=C[12],C[13]!==d||C[14]!==m?(h=(0,t.jsx)("div",{className:"min-w-0 flex-1 overflow-hidden",children:(0,t.jsx)(B.Item,{variant:"unstyled",children:(0,t.jsxs)(u.Flex,{className:"items-center gap-2",children:[d,m]})})}),C[13]=d,C[14]=m,C[15]=h):h=C[15],C[16]!==c||C[17]!==h?(p=(0,t.jsxs)(ea.Lockup,{className:"min-w-0 flex-1 gap-3",size:"md",children:[c,h]}),C[16]=c,C[17]=h,C[18]=p):p=C[18],C[19]!==w.stats?(g=(null==(r=w.stats)?void 0:r.priceChangePercent24h)!==void 0&&null!==w.stats.priceChangePercent24h&&(0,t.jsx)(z.StatChange,{change:w.stats.priceChangePercent24h/100,className:"text-sm"}),C[19]=w.stats,C[20]=g):g=C[20],C[21]!==g?(f=(0,t.jsx)("div",{className:"ml-3 shrink-0 text-right",children:g}),C[21]=g,C[22]=f):f=C[22],C[23]!==k||C[24]!==N||C[25]!==p||C[26]!==f||C[27]!==i||C[28]!==s?(v=(0,t.jsxs)(tl.PerpetualLink,{className:i,onClick:N,onPointerEnter:k,perpetual:s,children:[p,f]}),C[23]=k,C[24]=N,C[25]=p,C[26]=f,C[27]=i,C[28]=s,C[29]=v):v=C[29],v}function to(e){e.currentTarget.src=ta.TRANSPARENT_PIXEL,e.currentTarget.onerror=null}let{container:td}=(0,eo.tv)({slots:{container:"h-16 border-none p-0"}})(),tu=["w-1/2","w-1/3","w-2/5","w-3/5"];function tm(e){let t=(0,U.readFragment)(ti,e);return{id:(0,U.readFragment)(eS,t).id,data:t,type:"perpetual"}}function th(e){var n;let r,a,s,i,c,d,u,m,h=(0,o.c)(21),{item:p,onSelect:x,className:y,selectedCategory:g}=e,f=(0,U.readFragment)(eS,p.data),v=f.stats,{persona:C}=(0,eF.usePersona)(),S="all"===g,N=(0,j.useTranslations)("ExpandedSearchMenuResults.types");h[0]!==y?(r=(0,l.classNames)(td(),"hover:bg-transparent",y),h[0]=y,h[1]=r):r=h[1];let b=null!=(n=f.imageUrl)?n:void 0;h[2]!==b?(a=(0,t.jsx)(ea.LockupAvatar,{border:!0,className:"shrink-0 rounded-full bg-white object-cover",onError:tp,src:b}),h[2]=b,h[3]=a):a=h[3];let k=D.FlexCenter;h[4]!==S||h[5]!==N?(s=S&&(0,t.jsx)(el.Chip,{className:"text-text-secondary",children:N("perpetual")}),h[4]=S,h[5]=N,h[6]=s):s=h[6];let w=el.Chip,T=N("leverage",{value:f.maxLeverage});return h[7]!==w||h[8]!==T?(i=(0,t.jsx)(w,{className:"text-text-secondary",children:T}),h[7]=w,h[8]=T,h[9]=i):i=h[9],h[10]!==k||h[11]!==s||h[12]!==i?(c=(0,t.jsxs)(k,{className:"mt-1 gap-1",children:[s,i]}),h[10]=k,h[11]=s,h[12]=i,h[13]=c):c=h[13],h[14]!==v?(d=(null==v?void 0:v.markPrice)!==void 0&&null!==v.markPrice&&(0,t.jsx)(ec.TextBody,{className:"text-sm",children:(0,t.jsx)(eJ.CurrencyPriceDisplay,{value:Number(v.markPrice)})}),h[14]=v,h[15]=d):d=h[15],h[16]!==v?(u=(null==v?void 0:v.priceChangePercent24h)!==void 0&&null!==v.priceChangePercent24h&&(0,t.jsx)(ec.TextBody,{className:"shrink-0 font-mono text-sm",children:(0,t.jsx)(z.StatChange,{change:v.priceChangePercent24h/100})}),h[16]=v,h[17]=u):u=h[17],h[18]!==d||h[19]!==u?(m=(0,t.jsxs)(R.ItemSide,{className:"shrink-0 items-end justify-center text-right text-sm",children:[d,u]}),h[18]=d,h[19]=u,h[20]=m):m=h[20],(0,t.jsxs)(B.Item,{className:r,onClick:x,children:[(0,t.jsxs)(ea.Lockup,{className:"min-w-0 flex-1",size:"collector"===C?"lg":"md",children:[a,(0,t.jsxs)(ea.LockupContent,{children:[(0,t.jsxs)(D.FlexCenter,{className:"gap-1.5",children:[(0,t.jsx)($.TextOverflowTooltip,{className:"w-auto leading-tight",lines:1,children:(0,t.jsx)(ea.LockupTitle,{weight:"semibold",children:f.name})}),(0,t.jsx)($.TextOverflowTooltip,{className:"shrink-0",children:(0,t.jsx)(ea.LockupTitle,{color:"text-secondary",weight:"regular",children:f.symbol})})]}),c]})]}),m]})}function tp(e){e.currentTarget.src=ta.TRANSPARENT_PIXEL,e.currentTarget.onerror=null}function tx(e){let n,r,a,s,i,c,d,u,m=(0,o.c)(18),{index:h,className:p}=e,x=eI();m[0]!==p?(n=(0,l.classNames)(td(),"px-3",p),m[0]=p,m[1]=n):n=m[1],m[2]!==x?(r=(0,l.classNames)((0,ei.tableRowSizeVariants)({size:x}).image(),"shrink-0"),m[2]=x,m[3]=r):r=m[3],m[4]!==r?(a=(0,t.jsx)("div",{className:"w-auto shrink-0",children:(0,t.jsx)(es.SkeletonCircle,{className:r})}),m[4]=r,m[5]=a):a=m[5];let y=tu[h%tu.length];m[6]!==y?(s=(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsx)(ec.TextBodySkeleton,{className:y})}),m[6]=y,m[7]=s):s=m[7];let g=tu[(h+1)%tu.length];return m[8]!==g?(i=(0,t.jsx)("div",{className:"w-1/4",children:(0,t.jsx)(ec.TextBodySkeleton,{className:g})}),m[8]=g,m[9]=i):i=m[9],m[10]!==s||m[11]!==i?(c=(0,t.jsxs)(R.ItemSide,{className:"w-full",children:[s,i]}),m[10]=s,m[11]=i,m[12]=c):c=m[12],m[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsxs)(R.ItemSide,{className:"w-[100px] items-end text-right text-sm",children:[(0,t.jsx)(ec.TextBodySkeleton,{}),(0,t.jsx)(ec.TextBodySkeleton,{className:"w-1/2 shrink-0",size:"xs"})]}),m[13]=d):d=m[13],m[14]!==n||m[15]!==a||m[16]!==c?(u=(0,t.jsxs)(B.Item,{className:n,children:[a,c,d]}),m[14]=n,m[15]=a,m[16]=c,m[17]=u):u=m[17],u}function ty(e){let n,r,a,s=(0,o.c)(7),{item:i,className:c}=e;return s[0]!==c?(n=(0,l.classNames)("h-8 w-full items-center",c),s[0]=c,s[1]=n):n=s[1],s[2]!==i.data.query?(r=(0,t.jsx)(Q.Truncate,{children:(0,t.jsx)(ec.TextBody,{size:"md",children:i.data.query})}),s[2]=i.data.query,s[3]=r):r=s[3],s[4]!==n||s[5]!==r?(a=(0,t.jsx)(eB.SpaceBetween,{className:n,children:r}),s[4]=n,s[5]=r,s[6]=a):a=s[6],a}let tg=e=>({id:e.timestamp.toString(),data:e,type:"recent-search"});function tf(e){let n,r,a=(0,o.c)(26);switch(a[0]!==e?({item:n,...r}=e,a[0]=e,a[1]=n,a[2]=r):(n=a[1],r=a[2]),n.data.type){case"query":{let e;return a[3]!==n.data||a[4]!==r?(e=(0,t.jsx)(ty,{item:n.data,...r}),a[3]=n.data,a[4]=r,a[5]=e):e=a[5],e}case"account":{let e,l;return a[6]!==n.data.data?(e=eP(n.data.data),a[6]=n.data.data,a[7]=e):e=a[7],a[8]!==r||a[9]!==e?(l=(0,t.jsx)(eE,{item:e,...r}),a[8]=r,a[9]=e,a[10]=l):l=a[10],l}case"collection":{let e,l;a[11]!==n.data.data?(e=eM(n.data.data),a[11]=n.data.data,a[12]=e):e=a[12];let s=e;return a[13]!==r||a[14]!==s?(l=(0,t.jsx)(eW,{item:s,...r}),a[13]=r,a[14]=s,a[15]=l):l=a[15],l}case"item":{let e,l;a[16]!==n.data.data?(e=tt(n.data.data),a[16]=n.data.data,a[17]=e):e=a[17];let s=e;return a[18]!==r||a[19]!==s?(l=(0,t.jsx)(tn,{item:s,...r}),a[18]=r,a[19]=s,a[20]=l):l=a[20],l}case"currency":{let e,l;a[21]!==n.data.data?(e=e3(n.data.data),a[21]=n.data.data,a[22]=e):e=a[22];let s=e;return a[23]!==r||a[24]!==s?(l=(0,t.jsx)(e6,{item:s,...r}),a[23]=r,a[24]=s,a[25]=l):l=a[25],l}}}function tv(e){let n=(0,o.c)(35),{item:r,selected:a,onSelect:l,selectedCategory:s}=e;switch(r.type){case"link":{let e;return n[0]!==r||n[1]!==l||n[2]!==a||n[3]!==s?(e=(0,t.jsx)(tr,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[0]=r,n[1]=l,n[2]=a,n[3]=s,n[4]=e):e=n[4],e}case"account":{let e;return n[5]!==r||n[6]!==l||n[7]!==a||n[8]!==s?(e=(0,t.jsx)(eE,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[5]=r,n[6]=l,n[7]=a,n[8]=s,n[9]=e):e=n[9],e}case"collection":{let e;return n[10]!==l||n[11]!==a||n[12]!==s||n[13]!==r?(e=(0,t.jsx)(eW,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[10]=l,n[11]=a,n[12]=s,n[13]=r,n[14]=e):e=n[14],e}case"recent-search":{let e;return n[15]!==r||n[16]!==l||n[17]!==a||n[18]!==s?(e=(0,t.jsx)(tf,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[15]=r,n[16]=l,n[17]=a,n[18]=s,n[19]=e):e=n[19],e}case"item":{let e;return n[20]!==l||n[21]!==a||n[22]!==s||n[23]!==r?(e=(0,t.jsx)(tn,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[20]=l,n[21]=a,n[22]=s,n[23]=r,n[24]=e):e=n[24],e}case"currency":{let e;return n[25]!==l||n[26]!==a||n[27]!==s||n[28]!==r?(e=(0,t.jsx)(e6,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[25]=l,n[26]=a,n[27]=s,n[28]=r,n[29]=e):e=n[29],e}case"perpetual":{let e;return n[30]!==l||n[31]!==a||n[32]!==s||n[33]!==r?(e=(0,t.jsx)(th,{item:r,onSelect:l,selected:a,selectedCategory:s}),n[30]=l,n[31]=a,n[32]=s,n[33]=r,n[34]=e):e=n[34],e}}}var tC=e.i(688280),tj=e.i(485435);function tS(e){let t=(0,U.readFragment)(eN,e);return(0,ep.getProfileUrl)(t)}function tN(e){let t=(0,U.readFragment)(eb,e);return(0,eg.getCollectionUrl)(t)}function tb(e){let t=(0,U.readFragment)(eT,e);return(0,ej.itemUrl)(t)}function tk(e){let t=(0,U.readFragment)(eS,e);return(0,tj.buildPerpetualUrl)(t.symbol)}function tw(){let e,t=(0,o.c)(2),{getCurrencyUrl:n}=(0,tC.useCurrencyUrl)();return t[0]!==n?(e=e=>{switch(e.type){case"link":return e.data.href;case"account":return tS(e.data);case"collection":return tN(e.data);case"item":return tb(e.data);case"currency":return n((0,U.readFragment)(ek,e.data));case"perpetual":return tk(e.data);case"recent-search":switch(e.data.type){case"account":return tS(e.data.data);case"collection":return tN(e.data.data);case"item":return tb(e.data.data);case"currency":if(eZ(e.data.data))return n((0,U.readFragment)(ew,e.data.data));return n((0,U.readFragment)(ek,e.data.data));case"perpetual":return tk(e.data.data);default:return null}default:return null}},t[0]=n,t[1]=e):e=t[1],e}function tT(e){let n,r,a,s,c,d,u,m,h,p=(0,o.c)(39),{item:x,selected:y,selectionMethod:g,selectedItemIndex:f,resultsListRef:v,onClick:C,onHover:j,onSelect:S,selectedCategory:N}=e,b=(0,i.useRef)(null),k=(0,i.useRef)(null);p[0]!==v||p[1]!==y||p[2]!==f||p[3]!==g?(n=()=>{if(!(y&&v)||"keyboard"!==g||!(b.current&&v.current))return;if(0===f)return void v.current.scrollTo(0,0);let e=b.current.getBoundingClientRect(),t=v.current.getBoundingClientRect(),n=v.current.scrollTop+(e.y-t.y),r=v.current.scrollTop,a=v.current.scrollTop+t.height;if(n<r)return void b.current.scrollIntoView();let l=n+e.height+12;l>a&&v.current.scrollTo({top:l-t.height})},p[0]=v,p[1]=y,p[2]=f,p[3]=g,p[4]=n):n=p[4],p[5]!==x.id||p[6]!==v||p[7]!==y||p[8]!==f||p[9]!==g?(r=[x.id,v,f,g,y],p[5]=x.id,p[6]=v,p[7]=y,p[8]=f,p[9]=g,p[10]=r):r=p[10],(0,i.useEffect)(n,r),p[11]!==C?(a=()=>{null==C||C()},p[11]=C,p[12]=a):a=p[12],p[13]!==j?(s=()=>{null==j||j()},p[13]=j,p[14]=s):s=p[14],p[15]!==a||p[16]!==s?(c={onClick:a,onPointerEnter:s},p[15]=a,p[16]=s,p[17]=c):c=p[17];let w=c,T=tw();p[18]!==T||p[19]!==x?(d=T(x),p[18]=T,p[19]=x,p[20]=d):d=p[20];let F=d,I=y&&"bg-bg-additional-2";p[21]!==I?(u=(0,l.classNames)("w-full scroll-my-3 rounded-lg px-3 transition-colors duration-150 ease-out",I),p[21]=I,p[22]=u):u=p[22];let _=void 0!==f?"search-result-".concat(f):void 0;p[23]!==x||p[24]!==S||p[25]!==y||p[26]!==N?(m=(0,t.jsx)(tv,{item:x,onSelect:S,selected:y,selectedCategory:N}),p[23]=x,p[24]=S,p[25]=y,p[26]=N,p[27]=m):m=p[27],p[28]!==w||p[29]!==x.id||p[30]!==y||p[31]!==m||p[32]!==u||p[33]!==_?(h=(0,t.jsx)(D.FlexCenter,{"aria-selected":y,className:u,id:_,ref:b,role:"option",...w,children:m},x.id),p[28]=w,p[29]=x.id,p[30]=y,p[31]=m,p[32]=u,p[33]=_,p[34]=h):h=p[34];let P=h;if(F){let e;return p[35]!==P||p[36]!==F||p[37]!==w?(e=(0,t.jsx)(ee.Link,{className:"*:pointer-events-none",href:F,ref:k,variant:"unstyled",...w,children:P}),p[35]=P,p[36]=F,p[37]=w,p[38]=e):e=p[38],e}return P}var tF=e.i(155757),tI=e.i(806957),t_=e.i(279853),tP=e.i(268288),tL=e.i(398821),tE=e.i(83617);function tA(e){let n,a,s,c,m=(0,o.c)(34),{chainType:h,category:p,value:x,onSelectChainAction:y,className:f}=e,v=void 0===h?"all":h,C=(0,j.useTranslations)("ExpandedSearchChainFilter"),{chains:S,evmChains:N,getLogo:b,isChainCurrencyOnly:k}=(0,d.useChains)(),[w,T]=(0,i.useState)(!1),F=(0,g.useIsLessThanMd)()?5:8;m[0]!==p?(n=function(){switch(p){case"collections":case"items":return["ethereum","abstract","bera_chain","base","ronin","polygon","ape_chain","arbitrum"];case"tokens":return["ethereum","solana","abstract","bera_chain","base","polygon","arbitrum","avalanche"];default:return["ethereum","solana","abstract","bera_chain","base","ronin","polygon","ape_chain"]}},m[0]=p,m[1]=n):n=m[1];let I=n;m[2]!==I?(a=I(),m[2]=I,m[3]=a):a=m[3];let _=a;m[4]!==v||m[5]!==S||m[6]!==N||m[7]!==k?(s=function(){let e=tU;switch(v){case"evm":return e(N);case"currency-only":return e(S.filter(e=>k(e.identifier)));default:return e(S)}},m[4]=v,m[5]=S,m[6]=N,m[7]=k,m[8]=s):s=m[8];let P=s;if(m[9]!==p||m[10]!==f||m[11]!==P||m[12]!==b||m[13]!==w||m[14]!==y||m[15]!==_||m[16]!==C||m[17]!==x||m[18]!==F){let e,n,a,s,i,o=P(),d=function(){let e=o.filter(e=>_.includes(e.identifier)),t=o.filter(e=>!_.includes(e.identifier));return e.sort((e,t)=>_.indexOf(e.identifier)-_.indexOf(t.identifier)),t.sort(tq),[...e,...t]}(),h=d.find(e=>e.identifier===x),v=[...d];h&&v.findIndex(e=>e.identifier===h.identifier)>=F&&(v=v.filter(e=>e.identifier!==h.identifier)).splice(F-1,0,h);let j=v.slice(0,F),S=v.slice(F),N="all"===x;m[20]!==p||m[21]!==y||m[22]!==x?(e=e=>{(0,r.track)("Search Filter Applied",{filter_type:"chain",chain_selected:e,previous_chain:x,category:p}),y(e)},m[20]=p,m[21]=y,m[22]=x,m[23]=e):e=m[23];let k=e;m[24]!==f?(n=(0,l.classNames)("gap-2 px-4",f),m[24]=f,m[25]=n):n=m[25],m[26]!==k?(a=()=>k("all"),m[26]=k,m[27]=a):a=m[27],m[28]!==C?(s=C("all"),m[28]=C,m[29]=s):s=m[29],m[30]!==N||m[31]!==a||m[32]!==s?(i=(0,t.jsx)(tP.SwitchPill,{checked:N,className:"h-9 grow rounded-md font-medium text-sm",onClick:a,value:"all",children:s}),m[30]=N,m[31]=a,m[32]=s,m[33]=i):i=m[33],c=(0,t.jsxs)(u.Flex,{className:n,children:[i,j.map(e=>(0,t.jsx)(O.Tooltip,{content:e.name,children:(0,t.jsx)("span",{className:"grow",children:(0,t.jsx)(tP.SwitchPill,{checked:x===e.identifier,className:"h-9 w-full rounded-md",onClick:()=>k(e.identifier),value:e.identifier,children:(0,t.jsxs)("div",{className:(0,l.classNames)("relative inset-shadow-border size-[18px] rounded-full"),children:[" ",(0,t.jsx)(tF.Avatar,{...b(e.identifier,{circle:!0}),size:18})," "]})},e.identifier)})},e.identifier)),S.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Media,{greaterThanOrEqual:"md",children:(0,t.jsx)(tI.Dropdown,{align:"end",content:S.map(e=>(0,t.jsxs)(tI.DropdownItem,{onClick:t=>{t.stopPropagation(),k(e.identifier)},children:[(0,t.jsx)(tF.Avatar,{...b(e.identifier,{circle:!0}),size:16}),(0,t.jsx)(tI.DropdownItemContent,{children:(0,t.jsx)(tI.DropdownItemTitle,{children:e.name})})]},e.identifier)),overrides:{Content:{className:"z-[9999]"}},children:(0,t.jsx)(tP.SwitchPill,{className:"h-9 grow rounded-md",children:(0,t.jsxs)(D.FlexCenter,{className:"gap-1",children:[(0,t.jsx)(ec.TextBody,{className:"font-medium text-sm",children:C("more")}),(0,t.jsx)(tL.ExpandMore,{size:16})]})})})}),(0,t.jsx)(g.Media,{lessThan:"md",children:(0,t.jsx)(t_.BottomSheet,{className:"z-[9999]",content:(0,t.jsx)(t_.BottomSheetBody,{className:"py-2",children:S.map(e=>(0,t.jsxs)(B.Item,{className:"py-2",onClick:t=>{t.stopPropagation(),k(e.identifier),T(!1)},variant:"unstyled",children:[(0,t.jsx)(B.ItemAvatar,{...b(e.identifier,{circle:!0})}),(0,t.jsx)(R.ItemContent,{children:(0,t.jsx)(R.ItemTitle,{children:e.name})})]},e.identifier))}),nested:!0,onOpenChange:T,open:w,children:(0,t.jsx)(tP.SwitchPill,{className:"h-9 grow rounded-md",children:(0,t.jsxs)(D.FlexCenter,{className:"gap-1",children:[(0,t.jsx)(ec.TextBody,{className:"font-medium text-sm",children:C("more")}),(0,t.jsx)(tL.ExpandMore,{size:16})]})})})})]}):null]}),m[9]=p,m[10]=f,m[11]=P,m[12]=b,m[13]=w,m[14]=y,m[15]=_,m[16]=C,m[17]=x,m[18]=F,m[19]=c}else c=m[19];return c}function tq(e,t){return e.name.localeCompare(t.name)}function tU(e){return e.filter(tB)}function tB(e){return!tE.HIDDEN_CHAIN_IDENTIFIERS.includes(e.identifier)}function tR(e){let n,r,a,s,i,c,d,u=(0,o.c)(14);u[0]!==e?({children:n,className:r,direction:a,presented:i,...s}=e,u[0]=e,u[1]=n,u[2]=r,u[3]=a,u[4]=s,u[5]=i):(n=u[1],r=u[2],a=u[3],s=u[4],i=u[5]);let h=void 0!==i&&i;return u[6]!==r||u[7]!==a||u[8]!==h?(c=(0,l.classNames)("scrollbar-hidden absolute inset-0 gap-3 overflow-x-hidden overflow-y-scroll",p,h?"pointer-events-auto translate-x-0 scale-100 opacity-100 blur-0":(0,l.classNames)("pointer-events-none scale-95 opacity-0 blur-sm","left"===a&&"-translate-x-5","right"===a&&"translate-x-5","center"===a&&"translate-x-0"),r),u[6]=r,u[7]=a,u[8]=h,u[9]=c):c=u[9],u[10]!==n||u[11]!==s||u[12]!==c?(d=(0,t.jsx)(m.FlexColumn,{className:c,...s,children:n}),u[10]=n,u[11]=s,u[12]=c,u[13]=d):d=u[13],d}function tD(e){let n,r,a,s,i,c,d,u,h,p,x=(0,o.c)(22);x[0]!==e?({heading:r,headingClassName:a,children:n,...s}=e,x[0]=e,x[1]=n,x[2]=r,x[3]=a,x[4]=s):(n=x[1],r=x[2],a=x[3],s=x[4]),x[5]!==a?(i=(0,l.classNames)("leading-normal text-text-secondary mb-2",a),x[5]=a,x[6]=i):i=x[6],x[7]!==i?(c={size:"sm",className:i},x[7]=i,x[8]=c):c=x[8];let y=c,g=s["data-testid"];return(x[9]!==r||x[10]!==y?(d=(0,t.jsx)(I.TextLabel,{...y,children:r}),x[9]=r,x[10]=y,x[11]=d):d=x[11],x[12]!==y||x[13]!==e)?(u=void 0!==e.action?(0,t.jsx)(I.TextLabel,{...y,className:(0,l.classNames)(y.className,"cursor-pointer text-blue-3 opacity-100"),onClick:e.onActionClick,children:e.action}):null,x[12]=y,x[13]=e,x[14]=u):u=x[14],x[15]!==d||x[16]!==u?(h=(0,t.jsxs)(eB.SpaceBetween,{children:[d,u]}),x[15]=d,x[16]=u,x[17]=h):h=x[17],x[18]!==n||x[19]!==g||x[20]!==h?(p=(0,t.jsxs)(m.FlexColumn,{"data-testid":g,children:[h,n]}),x[18]=n,x[19]=g,x[20]=h,x[21]=p):p=x[21],p}var tV=e.i(430903);function tz(e){var n,r,a,s,i;let c,d,u,m,h,p,g,f,v,C=(0,o.c)(23),{collection:j,className:S,onSelect:N,selected:b,onPointerEnter:k}=e;C[0]!==j?(c=(0,U.readFragment)(eb,j),C[0]=j,C[1]=c):c=C[1];let w=c,T=void 0!==b&&b&&y;return C[2]!==S||C[3]!==T?(d=(0,l.classNames)("flex h-16 w-full items-center justify-center overflow-hidden rounded-lg border bg-bg-primary p-3 shadow-xs",x,T,S),C[2]=S,C[3]=T,C[4]=d):d=C[4],C[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(eA.CollectionLockupAvatar,{}),C[5]=u):u=C[5],C[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(B.Item,{variant:"unstyled",children:(0,t.jsx)($.TextOverflowTooltip,{children:(0,t.jsx)(R.ItemTitle,{className:"truncate",children:(0,t.jsx)(eA.CollectionLockupTitle,{className:"text-sm",disableTextOverflowTooltip:!0})})})}),C[6]=m):m=C[6],C[7]!==w.floorPrice?(h=(null==(n=w.floorPrice)?void 0:n.pricePerItem)&&(0,t.jsx)(eU.TokenPrice,{className:"text-sm",price:w.floorPrice.pricePerItem,valueColor:"text-secondary"}),C[7]=w.floorPrice,C[8]=h):h=C[8],C[9]!==w.collectionStats?(p=(null==(a=w.collectionStats)||null==(r=a.oneDay)?void 0:r.floorPriceChange)!==void 0&&(null==(i=w.collectionStats)||null==(s=i.oneDay)?void 0:s.floorPriceChange)!==0&&(0,t.jsx)(z.StatChange,{change:w.collectionStats.oneDay.floorPriceChange,className:"text-sm"}),C[9]=w.collectionStats,C[10]=p):p=C[10],C[11]!==h||C[12]!==p?(g=(0,t.jsxs)(eq.CollectionLockupContent,{className:"min-w-0 flex-1 overflow-hidden",children:[m,(0,t.jsxs)(D.FlexCenter,{className:"gap-2",children:[h,p]})]}),C[11]=h,C[12]=p,C[13]=g):g=C[13],C[14]!==w||C[15]!==g?(f=(0,t.jsxs)(eA.CollectionLockup,{collection:w,size:"md",children:[u,g]}),C[14]=w,C[15]=g,C[16]=f):f=C[16],C[17]!==w||C[18]!==k||C[19]!==N||C[20]!==f||C[21]!==d?(v=(0,t.jsx)(tV.CollectionLink,{className:d,collection:w,onClick:N,onPointerEnter:k,children:f}),C[17]=w,C[18]=k,C[19]=N,C[20]=f,C[21]=d,C[22]=v):v=C[22],v}var t$=e.i(333799);let tO=(0,K.graphql)("\n    query HydrateRecentSearchCollectionsQuery($slugs: [String!]!) {\n      collectionsBySlugs(slugs: $slugs) {\n        __typename\n        ... on Collection {\n          slug\n          ...UniversalSearchCollection\n        }\n      }\n    }\n  ",[eb]),tQ=(0,K.graphql)("\n    query HydrateRecentSearchCurrencyV2Query(\n      $contract: ContractIdentifierInput!\n    ) {\n      currencyV2(contract: $contract) {\n        contractAddress\n        chainIdentifier\n        ...UniversalSearchCurrencyV2\n      }\n    }\n  ",[ew]),tM={suspense:!1,requestPolicy:"network-only"};function tW(e,t){return t.timestamp-e.timestamp}function tG(e){return{...e,id:e.timestamp.toString()}}function tH(e){return{storeRecentSearches:e.recentSearches,open:e.open}}let tK=["collection","currency","item","account"],tZ=(0,K.graphql)("\n    query ExpandedSearchQueryAccount($query: String!, $limit: Int!) {\n      accountsByQuery(query: $query, limit: $limit) {\n        ...ExpandedSearchAccount\n      }\n    }\n  ",[eN]),tY=(0,K.graphql)("\n    query ExpandedSearchUniversalQuery(\n      $query: String!\n      $limit: Int!\n      $chains: [ChainIdentifier!]\n      $assetTypes: [AssetTypeFilter!]\n      $includeTokenGroups: Boolean\n    ) {\n      searchUniversal(\n        query: $query\n        limit: $limit\n        chains: $chains\n        assetTypes: $assetTypes\n        includeTokenGroups: $includeTokenGroups\n      ) {\n        ... on Collection {\n          ...UniversalSearchCollection\n        }\n        ... on Currency {\n          ...UniversalSearchCurrency\n        }\n        ... on CurrencyV2 {\n          ...UniversalSearchCurrencyV2\n        }\n        ... on Item {\n          ...UniversalSearchItem\n        }\n        ... on PerpetualFutureV2 {\n          ...UniversalSearchPerpetual\n        }\n      }\n    }\n  ",[eb,ek,ew,eT,eS]),tJ={throwOnError:!1};function tX(e){return!!e}function t0(e){if("Collection"===e.__typename)return eM(e);if(eK(e)||eZ(e))return e3(e);if("Item"===e.__typename)return tt(e);if("PerpetualFutureV2"===e.__typename)return{id:(0,U.readFragment)(eS,e).id,data:e,type:"perpetual"};throw Error("Unknown result type in universal search")}function t1(e){return"Item"===e.__typename}function t2(e){return"Collection"===e.__typename}let t3=(0,K.graphql)("\n    query ExpandedSearchTopCollectionsItemsQuery(\n      $limit: Int!\n      $filter: TopCollectionsFilter!\n      $sort: TopCollectionsSort!\n    ) {\n      topCollections(limit: $limit, filter: $filter, sort: $sort) {\n        items {\n          ...UniversalSearchCollection\n        }\n      }\n    }\n  ",[eb]),t6=(0,K.graphql)("\n    query ExpandedSearchTrendingCurrenciesQuery(\n      $filter: CurrenciesFilter!\n      $limit: Int!\n      $sort: CurrenciesSort!\n    ) {\n      topCurrenciesV2(filter: $filter, limit: $limit, sort: $sort) {\n        items {\n          __typename\n          ... on CurrencyV2 {\n            imageUrl\n            ...TrendingCurrencyCard\n          }\n        }\n      }\n    }\n  ",[J]),t4=(0,K.graphql)("\n    query ExpandedSearchTrendingPerpetualsQuery(\n      $limit: Int\n      $sort: PerpetualFutureSort\n    ) {\n      topPerpetualFutures(limit: $limit, sort: $sort) {\n        items {\n          id\n          imageUrl\n          ...TrendingPerpetualCard\n        }\n      }\n    }\n  ",[ti]),t5={suspense:!1};function t7(e){return e.imageUrl}function t8(e){return"CurrencyV2"===e.__typename}function t9(e){return e.imageUrl}function ne(e){let{query:n,setQuery:h,selectionMethod:p,selectedCategory:x,selectedChain:y,onSelectChainAction:g,onPointerMove:f,trendingCollections:v,topCurrencies:C,topPerpetuals:b,expandedSearchMenuResultsRef:k}=e,w=(0,j.useTranslations)("ExpandedSearchMenuResults"),A=(0,T.useRouter)(),[q,B,R,D,V]=(0,S.useExpandedSearchStore)((0,c.useShallow)(e=>[e.open,e.setOpen,e.setLoading,e.pushRecentSearch,e.clearRecentSearches])),z=n.trim().length>0,[$]=(0,s.useDebounceValue)(n,200),O=(0,i.useRef)(null),Q=(0,i.useRef)(null);(0,i.useEffect)(()=>{var e,t;null==(e=O.current)||e.scrollTo(0,0),null==(t=Q.current)||t.scrollTo(0,0)},[$]);let[M,W]=(0,i.useState)(0),{searchResults:G,recentSearches:H,errors:K,fetching:Z}=function(e){let t,n,r,a,l,s,i,u,m,h,p,x,y,g,f,v=(0,o.c)(37),{query:C,debouncedQuery:j,selectedCategory:N,selectedChain:b}=e,k=void 0===N?"all":N,w=void 0===b?"all":b,{isChainCurrencyOnly:T}=(0,d.useChains)(),F=0===j.trim().length;v[0]===Symbol.for("react.memo_cache_sentinel")?(t={suspense:!1},v[0]=t):t=v[0];let I=t;v[1]!==T||v[2]!==k||v[3]!==w?(n=()=>{if("all"!==w&&T(w))return["TOKENS"];switch(k){case"collections":return["COLLECTIONS"];case"items":return["ITEMS"];case"tokens":return["TOKENS"];case"perpetuals":return["PERPETUALS"];default:return}},v[1]=T,v[2]=k,v[3]=w,v[4]=n):n=v[4];let _=n;v[5]!==w?(r=()=>{if("all"!==w)return[w]},v[5]=w,v[6]=r):r=v[6];let P=r;v[7]!==P?(a=P(),v[7]=P,v[8]=a):a=v[8],v[9]!==_?(l=_(),v[9]=_,v[10]=l):l=v[10];let L=l;v[11]!==j||v[12]!==a||v[13]!==L?(s={query:j,limit:10,chains:a,assetTypes:L,includeTokenGroups:!0},v[11]=j,v[12]=a,v[13]=L,v[14]=s):s=v[14];let E=F||"wallets"===k;v[15]!==E||v[16]!==s?(i={query:tY,variables:s,pause:E,context:I},v[15]=E,v[16]=s,v[17]=i):i=v[17];let[A]=(0,t$.useQuery)(i,tJ),{data:q,error:B,fetching:R}=A,D="wallets"===k?12:3*("all"===k);v[18]!==j||v[19]!==D?(u={query:j,limit:D},v[18]=j,v[19]=D,v[20]=u):u=v[20];let V=F||"all"!==k&&"wallets"!==k;v[21]!==u||v[22]!==V?(m={query:tZ,variables:u,pause:V,context:I},v[21]=u,v[22]=V,v[23]=m):m=v[23];let[z]=(0,t$.useQuery)(m,tJ),{data:$,error:O,fetching:Q}=z;v[24]!==(null==$?void 0:$.accountsByQuery)?(h=(null==$?void 0:$.accountsByQuery)||[],v[24]=null==$?void 0:$.accountsByQuery,v[25]=h):h=v[25];let M=h;v[26]!==(null==q?void 0:q.searchUniversal)?(p=(null==q?void 0:q.searchUniversal)||[],v[26]=null==q?void 0:q.searchUniversal,v[27]=p):p=v[27];let W=p;if(v[28]!==j){let e=j.trim().toLowerCase();x=e.endsWith(".eth")||e.endsWith(".crypto"),v[28]=j,v[29]=x}else x=v[29];let G=x;v[30]!==G?(y=e=>{if("Item"===e.__typename&&!G){let t=(0,U.readFragment)(eT,e),n=(0,U.readFragment)(eu.AccountLockupFragment,t.owner);return(null==n?void 0:n.address)!==tE.ENS_WRAPPER_ADDRESS}return!0},v[30]=G,v[31]=y):y=v[31];let H=W.filter(y),K=H.filter(t2),Z=[...H.filter(eK),...H.filter(eZ)],Y=H.filter(t1),J=function(){let e,t=(0,o.c)(2),{storeRecentSearches:n,open:r}=(0,S.useExpandedSearchStore)((0,c.useShallow)(tH));return t[0]!==n?(e=n.map(tG).sort(tW),t[0]=n,t[1]=e):e=t[1],function(e,t){let n,r,a,l,s,i,c,d,u,m,h,p,x,y=(0,o.c)(34);y[0]!==e?(r=function(e){let t=[];for(let n of e)if("collection"===n.type&&eH(n.data)){let e=(0,U.readFragment)(eb,n.data),r=(0,U.readFragment)(eg.collectionUrlFragment,e);r.slug&&t.push(r.slug)}return t}(e),y[0]=e,y[1]=r):r=y[1],n=r,y[2]!==e?(l=function(e){let t=[];for(let n of e)if("currency"===n.type){if(eZ(n.data)){let e=(0,U.readFragment)(ew,n.data);e.contractAddress&&e.chainIdentifier&&t.push({address:e.contractAddress,chain:e.chainIdentifier})}else if(eK(n.data)){let e=(0,U.readFragment)(ek,n.data);e.contractAddress&&e.chainIdentifier&&t.push({address:e.contractAddress,chain:e.chainIdentifier})}}return t}(e),y[2]=e,y[3]=l):l=y[3],a=l,y[4]!==n?(s={slugs:n},y[4]=n,y[5]=s):s=y[5];let g=t||0===n.length;y[6]!==s||y[7]!==g?(i={query:tO,variables:s,pause:g,context:tM},y[6]=s,y[7]=g,y[8]=i):i=y[8];let[f]=(0,t$.useQuery)(i),{data:v,error:C}=f;y[9]!==a[0]?(c={contract:a[0]?{address:a[0].address,chain:a[0].chain}:{address:"",chain:""}},y[9]=a[0],y[10]=c):c=y[10];let j=t||a.length<1;y[11]!==c||y[12]!==j?(d={query:tQ,variables:c,pause:j,context:tM},y[11]=c,y[12]=j,y[13]=d):d=y[13];let[S]=(0,t$.useQuery)(d),{data:N,error:b}=S;y[14]!==a[1]?(u={contract:a[1]?{address:a[1].address,chain:a[1].chain}:{address:"",chain:""}},y[14]=a[1],y[15]=u):u=y[15];let k=t||a.length<2;y[16]!==u||y[17]!==k?(m={query:tQ,variables:u,pause:k,context:tM},y[16]=u,y[17]=k,y[18]=m):m=y[18];let[w]=(0,t$.useQuery)(m),{data:T,error:F}=w;y[19]!==a[2]?(h={contract:a[2]?{address:a[2].address,chain:a[2].chain}:{address:"",chain:""}},y[19]=a[2],y[20]=h):h=y[20];let I=t||a.length<3;y[21]!==h||y[22]!==I?(p={query:tQ,variables:h,pause:I,context:tM},y[21]=h,y[22]=I,y[23]=p):p=y[23];let[_]=(0,t$.useQuery)(p),{data:P,error:L}=_;if(C&&console.error("Failed to hydrate collection data:",C),b&&console.error("Failed to hydrate currency data:",b),F&&console.error("Failed to hydrate currency data:",F),L&&console.error("Failed to hydrate currency data:",L),y[24]!==v||y[25]!==N||y[26]!==T||y[27]!==P||y[28]!==e){let t,n=new Map,r=new Map;if(null==v?void 0:v.collectionsBySlugs)for(let e of v.collectionsBySlugs)"Collection"===e.__typename&&e.slug&&n.set(e.slug,e);for(let e of(y[30]!==N||y[31]!==T||y[32]!==P?(t=[N,T,P],y[30]=N,y[31]=T,y[32]=P,y[33]=t):t=y[33],t))if(null==e?void 0:e.currencyV2){let t=e.currencyV2;if(t.contractAddress&&t.chainIdentifier){let e="".concat(t.chainIdentifier,":").concat(t.contractAddress);r.set(e,t)}}x=e.map(e=>{if("collection"===e.type&&eH(e.data)){let t=(0,U.readFragment)(eb,e.data),r=(0,U.readFragment)(eg.collectionUrlFragment,t),a=n.get(r.slug);if(a)return{...e,data:a}}if("currency"===e.type){let t;if(eZ(e.data)){let n=(0,U.readFragment)(ew,e.data);t="".concat(n.chainIdentifier,":").concat(n.contractAddress)}else if(eK(e.data)){let n=(0,U.readFragment)(ek,e.data);t="".concat(n.chainIdentifier,":").concat(n.contractAddress)}if(t){let n=r.get(t);if(n)return{...e,data:n}}}return e}),y[24]=v,y[25]=N,y[26]=T,y[27]=P,y[28]=e,y[29]=x}else x=y[29];return x}(e,!r)}();v[32]!==C?(g=function(e){let t=new Set;return(e.endsWith(".eth")||e.endsWith(".crypto"))&&(t.add("account"),t.add("item")),e.startsWith("0x")&&(t.add("account"),t.add("currency")),(e.startsWith("$")||e.toLocaleLowerCase().startsWith("anime"))&&t.add("currency"),Array.from(new Set([...Array.from(t),...tK]))}(C),v[32]=C,v[33]=g):g=v[33];let X=g,ee=[...H.map(t0),...M.map(eP)];return v[34]!==O||v[35]!==B?(f=[B,O].filter(tX),v[34]=O,v[35]=B,v[36]=f):f=v[36],{searchResults:ee,sections:X,accounts:M,isAccountsLoading:Q,collections:K,isCollectionsLoading:R,items:Y,isItemsLoading:R,currencies:Z,isCurrenciesLoading:R,recentSearches:J,errors:f,fetching:R||Q}}({query:n,debouncedQuery:$,selectedCategory:x,selectedChain:y}),[Y]=(0,s.useDebounceValue)(Z,200),ee=n.trim().length>0&&$.trim().length>0&&n.trim()!==$.trim()||n.trim().length>0&&0===$.trim().length,et=(n.length>0||G.length>0?Z:Y)||ee;(0,_.useOnChange)(et,()=>{R(et)});let{visibleItems:en}=function(e){let{searchResults:t,isQueryNotEmpty:n,recentSearches:r=[],trendingCollections:a=[],topCurrencies:l=[],topPerpetuals:s=[],selectedCategory:i="all",selectedChain:c="all"}=e,o="all"===c?r:r.filter(e=>"currency"===e.type?function(e){var t,n;if(!e)return;if(eY(e)){let t=(0,U.readFragment)(J,e);return null==t?void 0:t.chainIdentifier}if(eZ(e)){let t=(0,U.readFragment)(ew,e);return null==t||null==(n=t.chain)?void 0:n.identifier}let r=(0,U.readFragment)(ek,e);return null==r||null==(t=r.chain)?void 0:t.identifier}(e.data)===c:"item"===e.type?function(e){var t,n;if(!e)return;let r=(0,U.readFragment)(eT,e);return null==r||null==(n=r.collection)||null==(t=n.chain)?void 0:t.identifier}(e.data)===c:"collection"!==e.type||function(e){var t;if(!e)return;let n=(0,U.readFragment)(eb,e);return null==n||null==(t=n.chain)?void 0:t.identifier}(e.data)===c),d=function(){switch(i){case"collections":return o.filter(e=>"collection"===e.type);case"items":return o.filter(e=>"item"===e.type);case"tokens":return o.filter(e=>"currency"===e.type);case"wallets":return o.filter(e=>"account"===e.type);case"perpetuals":return[];default:return o}}();return{visibleItems:function(){if(n)return(t||[]).filter(e=>{switch(i){case"collections":return"collection"===e.type;case"items":return"item"===e.type;case"tokens":return"currency"===e.type;case"wallets":return"account"===e.type;case"perpetuals":return"perpetual"===e.type;default:return!0}});let e=[];return e.push(...d.map(tg)),("all"===i||"collections"===i)&&e.push(...a.map(eM)),("all"===i||"tokens"===i)&&e.push(...l.map(e3)),("all"===i||"perpetuals"===i)&&e.push(...s.map(tm)),e}()}}({searchResults:G,isQueryNotEmpty:z,recentSearches:H,trendingCollections:v,topCurrencies:C,topPerpetuals:b,selectedCategory:x,selectedChain:y}),er=tw(),ea=function(e){let{openInNewTab:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{openInNewTab:!1},n=er(e);if(n){if(t)return void window.open(n,"_blank");A.push(n),B(!1)}},el=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=arguments.length>2?arguments[2]:void 0,l=en.at(e);if(l)switch(l.type){case"recent-search":switch((0,r.track)("Recent Search Selected",{recent_search_type:l.data.type,category:x}),l.data.type){case"query":h(l.data.data.query),D({key:l.data.key,data:l.data.data,type:l.data.type});break;case"account":case"item":case"collection":case"currency":case"perpetual":D({key:l.data.key,data:l.data.data,type:l.data.type}),t?ea(l,a):B(!1)}break;case"account":case"item":case"collection":case"currency":case"perpetual":(0,r.track)("Search Result Clicked",{result_type:l.type,result_id:l.id,result_position:e,query:n,category:x}),D({key:l.id,data:l.data,type:l.type}),t?ea(l,a):B(!1);break;case"link":(0,r.track)("Search Result Clicked",{result_type:"link",category:x,query:n}),t?ea(l,a):B(!1)}},es=(e,n)=>{let r=en.findIndex(t=>t.id===e.id);return(0,t.jsx)(tT,{item:e,onClick:()=>{el(r,!1)},onHover:()=>{"mouse"===p&&W(r)},onSelect:()=>{el(r)},resultsListRef:n,selected:r===M,selectedCategory:x,selectedItemIndex:M,selectionMethod:p},e.id)};(0,i.useImperativeHandle)(k,()=>({navigate:e=>{el(void 0,void 0,e)},previous:()=>{if(0===en.length)return;let e=M-1;W(e>=0?e:en.length-1),ec()},forward:()=>{if(0===en.length)return;let e=M+1;W(e<en.length?e:0),ec()},setSelectedItemIndex:W}));let ei=(0,i.useRef)(!1),ec=()=>{0===n.trim().length||ei.current||(D({key:n,data:{query:n},type:"query"}),ei.current=!0)};return(0,i.useEffect)(()=>{if(!q){var e,t;h(""),W(0),null==(e=O.current)||e.scrollTo(0,0),null==(t=Q.current)||t.scrollTo(0,0)}},[q]),(0,t.jsx)(N,{"aria-activedescendant":en.length>0&&M>=0?"search-result-".concat(M):void 0,className:"relative size-full flex-1 select-none",onPointerLeave:()=>{"mouse"===p&&W(-1)},onPointerMove:f,role:"listbox",children:(0,t.jsxs)(m.FlexColumn,{className:"h-full w-full flex-1",children:["all"===x&&(0,t.jsx)(tA,{category:"all",chainType:"all",className:"border-border-1 border-b py-3",onSelectChainAction:g,value:y}),"tokens"===x&&(0,t.jsx)(tA,{category:"tokens",chainType:"all",className:"border-border-1 border-b py-3",onSelectChainAction:g,value:y}),"collections"===x&&(0,t.jsx)(tA,{category:"collections",chainType:"evm",className:"border-border-1 border-b py-3",onSelectChainAction:g,value:y}),"items"===x&&(0,t.jsx)(tA,{category:"items",chainType:"evm",className:"border-border-1 border-b py-3",onSelectChainAction:g,value:y}),(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(tR,{className:"p-4",direction:"right",presented:n.trim().length>0,ref:Q,children:(0,t.jsx)("div",{"data-testid":"ExpandedSearchMenuCollections",children:en.length>0?(0,t.jsx)(m.FlexColumn,{className:"gap-2",children:en.map(e=>es(e,Q))}):et?(0,t.jsx)(m.FlexColumn,{className:"gap-2",children:(0,E.range)(6).map((e,n)=>(0,t.jsx)(eG,{index:n},n))}):(0,t.jsx)(a.CenterAligned,{className:"size-full p-8",children:"wallets"===x?(0,t.jsx)(F.EmptyState,{className:"text-center",description:w("walletsZeroState"),icon:P.Search,title:w("searchWallets"),variant:"no-results"}):"items"===x?(0,t.jsx)(F.EmptyState,{className:"text-center",description:w("itemsZeroState"),icon:P.Search,title:w("searchItems"),variant:"no-results"}):"perpetuals"===x?(0,t.jsx)(F.EmptyState,{className:"text-center",description:w("perpetualsZeroState"),icon:P.Search,title:w("searchPerpetuals"),variant:"no-results"}):(0,t.jsx)(F.EmptyState,{className:"text-center",description:w("universalSearchNoResultsDescription"),icon:L.SearchOff,title:w("universalSearchNoResults"),variant:"no-results"})})})}),(0,t.jsx)(tR,{className:"p-4",direction:"center",presented:!!et&&K.length>0,ref:O,children:(0,t.jsx)(u.Flex,{className:"size-full items-center justify-center opacity-25",children:(0,t.jsx)(I.TextLabel,{children:w("somethingWentWrong")})})}),(0,t.jsxs)(tR,{className:"p-4",direction:"left",presented:!et&&0===n.trim().length,ref:O,children:[function(){{let e=en.filter(e=>"recent-search"===e.type);return e.length>0&&(0,t.jsx)(tD,{action:w("clearAction"),heading:w("recentSearches"),headingClassName:"mb-2",onActionClick:()=>{V()},children:e.map(e=>es(e,O))})}}(),v&&("all"===x||"collections"===x)?(0,t.jsx)(tD,{heading:w("trendingCollections"),children:v.length>0?(0,t.jsx)("div",{className:(0,l.classNames)("grid grid-cols-1 gap-3 md:grid-cols-2"),children:v.map((e,n)=>{let r=eM(e),a=en.findIndex(e=>e.id===r.id),l=a===M;return(0,t.jsx)(tz,{collection:e,onPointerEnter:()=>{"mouse"===p&&a>=0&&W(a)},onSelect:()=>{a>=0?el(a,!1):ea(r)},selected:l},"trending-collection-".concat(n))})}):(0,t.jsx)("div",{className:(0,l.classNames)("grid grid-cols-1 gap-3 md:grid-cols-2"),children:(0,E.range)("collections"===x?12:5).map((e,n)=>(0,t.jsx)(eG,{className:"rounded-lg p-3",index:n},n))})}):void 0,C&&("all"===x||"tokens"===x)?(0,t.jsx)(tD,{heading:w("topTokens"),children:C.length>0?(0,t.jsx)("div",{className:(0,l.classNames)("grid grid-cols-1 gap-3 md:grid-cols-2"),children:C.map((e,n)=>{let r=e3(e),a=en.findIndex(e=>e.id===r.id),l=a===M;return(0,t.jsx)(X,{currency:e,onPointerEnter:()=>{"mouse"===p&&a>=0&&W(a)},onSelect:()=>{a>=0?el(a,!1):ea(r)},selected:l},"top-currency-".concat(n))})}):(0,t.jsx)("div",{className:(0,l.classNames)("grid grid-cols-1 gap-3 md:grid-cols-2"),children:(0,E.range)("tokens"===x?15:5).map((e,n)=>(0,t.jsx)(e4,{className:"h-16 rounded-lg p-3",index:n},n))})}):void 0,"wallets"===x&&0===en.filter(e=>"recent-search"===e.type).length&&(0,t.jsx)(a.CenterAligned,{className:"size-full p-8",children:(0,t.jsx)(F.EmptyState,{className:"text-center",description:w("walletsZeroState"),icon:P.Search,title:w("searchWallets"),variant:"no-results"})}),"items"===x&&0===en.filter(e=>"recent-search"===e.type).length&&(0,t.jsx)(a.CenterAligned,{className:"size-full p-8",children:(0,t.jsx)(F.EmptyState,{className:"text-center",description:w("itemsZeroState"),icon:P.Search,title:w("searchItems"),variant:"no-results"})}),b&&("all"===x||"perpetuals"===x)?(0,t.jsx)(tD,{heading:w("topPerpetuals"),children:b.length>0?(0,t.jsx)("div",{className:(0,l.classNames)("grid grid-cols-1 gap-3 md:grid-cols-2"),children:b.map((e,n)=>{let r=tm(e),a=en.findIndex(e=>e.id===r.id),l=a===M;return(0,t.jsx)(tc,{onPointerEnter:()=>{"mouse"===p&&a>=0&&W(a)},onSelect:()=>{a>=0?el(a,!1):ea(r)},perpetual:e,selected:l},"top-perpetual-".concat(n))})}):(0,t.jsx)("div",{className:(0,l.classNames)("grid grid-cols-1 gap-3 md:grid-cols-2"),children:(0,E.range)("perpetuals"===x?20:6).map((e,n)=>(0,t.jsx)(tx,{className:"h-16 rounded-lg p-3",index:n},n))})}):void 0]})]})]})})}var nt=e.i(618469),nn=e.i(457628),nr=e.i(6840),na=e.i(964576),nl=e.i(341819),ns=e.i(101140),ni=e.i(886131),nc=e.i(9312),no=e.i(309980);function nd(e){let n,a,s=(0,o.c)(9),{selectedCategory:i,onCategoryChangeAction:c}=e,d=function(){let e,t,n,r,a,l,s,i,c,d,u,m,p=(0,o.c)(30),x=(0,j.useTranslations)("ExpandedSearchMenuResults.filters"),y=(0,h.useIsPerpetualsSearchEnabled)();return p[0]!==x?(e=x("all"),p[0]=x,p[1]=e):e=p[1],p[2]!==e?(t={key:"all",label:e,icon:ns.Explore,activeIcon:ni.ExploreFilled},p[2]=e,p[3]=t):t=p[3],p[4]!==x?(n=x("collections"),p[4]=x,p[5]=n):n=p[5],p[6]!==n?(r={key:"collections",label:n,icon:nl.AutoAwesomeMosaic,activeIcon:nl.AutoAwesomeMosaic},p[6]=n,p[7]=r):r=p[7],p[8]!==x?(a=x("tokens"),p[8]=x,p[9]=a):a=p[9],p[10]!==a?(l={key:"tokens",label:a,icon:no.Toll,activeIcon:no.Toll},p[10]=a,p[11]=l):l=p[11],p[12]!==y||p[13]!==x?(s=y?[{key:"perpetuals",label:x("perpetuals"),icon:na.AllInclusive,activeIcon:na.AllInclusive}]:[],p[12]=y,p[13]=x,p[14]=s):s=p[14],p[15]!==x?(i=x("items"),p[15]=x,p[16]=i):i=p[16],p[17]!==i?(c={key:"items",label:i,icon:nc.Image,activeIcon:nc.Image},p[17]=i,p[18]=c):c=p[18],p[19]!==x?(d=x("wallets"),p[19]=x,p[20]=d):d=p[20],p[21]!==d?(u={key:"wallets",label:d,icon:nr.AccountCircle,activeIcon:nr.AccountCircle},p[21]=d,p[22]=u):u=p[22],p[23]!==t||p[24]!==u||p[25]!==r||p[26]!==l||p[27]!==s||p[28]!==c?(m=[t,r,l,...s,c,u],p[23]=t,p[24]=u,p[25]=r,p[26]=l,p[27]=s,p[28]=c,p[29]=m):m=p[29],m}();if(s[0]!==d||s[1]!==c||s[2]!==i){let e;s[4]!==c||s[5]!==i?(e=e=>{let n=i===e.key,a=n?e.activeIcon:e.icon;return(0,t.jsxs)(nn.UnstyledButton,{className:(0,l.classNames)("flex items-center gap-2 rounded-md px-3 py-2 text-left text-base transition-colors duration-150 ease-out",n?(0,nt.backgroundVariants)({background:"additional-2"}):"hover:bg-bg-additional-2"),onClick:()=>{(0,r.track)("Search Category Selected",{category:e.key,previous_category:i}),c(e.key)},children:[(0,t.jsx)(a,{fill:n?"text-primary":"text-secondary",size:20}),(0,t.jsx)(ec.TextBody,{color:n?"text-primary":"text-secondary",size:"sm",weight:"semibold",children:e.label})]},e.key)},s[4]=c,s[5]=i,s[6]=e):e=s[6],n=d.map(e),s[0]=d,s[1]=c,s[2]=i,s[3]=n}else n=s[3];return s[7]!==n?(a=(0,t.jsx)(N,{className:"w-full shrink-0 flex-row gap-2 overflow-x-auto border-border-1 border-b bg-bg-primary p-3 lg:w-48 lg:flex-col lg:overflow-x-visible lg:border-r lg:border-b-0",children:n}),s[7]=n,s[8]=a):a=s[8],a}let nu="expanded-search-menu";function nm(){let e,n,a,x,y,g,f,v,C,j,N=(0,o.c)(41),{open:b,selectedCategory:w,setSelectedCategory:T,searchQuery:F,setSearchQuery:I}=(0,S.useExpandedSearchStore)((0,c.useShallow)(nh)),{chains:_,evmChains:P}=(0,d.useChains)(),[L,E]=(0,i.useState)("keyboard"),[A,q]=(0,i.useState)("all"),U=(0,h.useIsPerpetualsSearchEnabled)(),B=U?S.FILTER_CATEGORIES:S.FILTER_CATEGORIES_WITHOUT_PERPETUALS;N[0]!==b||N[1]!==I||N[2]!==T?(e=()=>{b||(T("all"),I(""),q("all"))},n=[b,T,I],N[0]=b,N[1]=I,N[2]=T,N[3]=e,N[4]=n):(e=N[3],n=N[4]),(0,i.useEffect)(e,n),N[5]!==_||N[6]!==P||N[7]!==w||N[8]!==A?(a=()=>{["all",...function(){switch(w){case"all":case"tokens":return _.map(e=>e.identifier);case"collections":case"items":return P.map(e=>e.identifier);default:return[]}}()].includes(A)||q("all")},x=[w,_,P,A],N[5]=_,N[6]=P,N[7]=w,N[8]=A,N[9]=a,N[10]=x):(a=N[9],x=N[10]),(0,i.useEffect)(a,x);let R=!b;N[11]!==w||N[12]!==A||N[13]!==R?(y={pause:R,selectedCategory:w,selectedChain:A,isVerified:!0},N[11]=w,N[12]=A,N[13]=R,N[14]=y):y=N[14];let D=function(e){var t,n;let r,a,l,s,i,c,u,m,h,p,x,y,g=(0,o.c)(33),{pause:f,selectedCategory:v,selectedChain:C,isVerified:j}=e,S=void 0===v?"all":v,N=void 0===C?"all":C,{isChainCurrencyOnly:b,svmChains:k}=(0,d.useChains)(),w="collections"===S?20:6;g[0]!==b||g[1]!==f||g[2]!==S||g[3]!==N?(r=f||"all"!==S&&"collections"!==S||"all"!==N&&b(N),g[0]=b,g[1]=f,g[2]=S,g[3]=N,g[4]=r):r=g[4];let T=r;g[5]!==N?(a=N&&"all"!==N?{chain:N}:{},g[5]=N,g[6]=a):a=g[6];let F=j||void 0;g[7]!==a||g[8]!==F?(l={...a,isVerified:F},g[7]=a,g[8]=F,g[9]=l):l=g[9],g[10]===Symbol.for("react.memo_cache_sentinel")?(s={by:"ONE_DAY_VOLUME",direction:"DESC"},g[10]=s):s=g[10],g[11]!==w||g[12]!==l?(i={limit:w,filter:l,sort:s},g[11]=w,g[12]=l,g[13]=i):i=g[13],g[14]!==T||g[15]!==i?(c={query:t3,context:t5,pause:T,variables:i},g[14]=T,g[15]=i,g[16]=c):c=g[16];let[I]=(0,t$.useQuery)(c,tJ),{data:_,fetching:P}=I;g[17]!==(null==_?void 0:_.topCollections.items)?(u=null!=(t=null==_?void 0:_.topCollections.items)?t:[],g[17]=null==_?void 0:_.topCollections.items,g[18]=u):u=g[18];let L=u,E=!P&&0===L.length,A=T||!E;g[19]!==N?(m=N&&"all"!==N?{chain:N}:{},g[19]=N,g[20]=m):m=g[20];let q=j||void 0;g[21]!==m||g[22]!==q?(h={...m,isVerified:q},g[21]=m,g[22]=q,g[23]=h):h=g[23],g[24]===Symbol.for("react.memo_cache_sentinel")?(p={by:"THIRTY_DAYS_VOLUME",direction:"DESC"},g[24]=p):p=g[24],g[25]!==w||g[26]!==h?(x={limit:w,filter:h,sort:p},g[25]=w,g[26]=h,g[27]=x):x=g[27],g[28]!==A||g[29]!==x?(y={query:t3,context:t5,pause:A,variables:x},g[28]=A,g[29]=x,g[30]=y):y=g[30];let[U]=(0,t$.useQuery)(y,tJ),{data:B,fetching:R}=U,D=b(N),V=k.some(e=>e.identifier===N);if("all"===N||!D&&!V){if(L.length>0)return L;if(E){let e;g[31]!==(null==B?void 0:B.topCollections.items)?(e=null!=(n=null==B?void 0:B.topCollections.items)?n:[],g[31]=null==B?void 0:B.topCollections.items,g[32]=e):e=g[32];let t=e;if(!R&&0===t.length)return;return t}return L}}(y),V=!b;N[15]!==w||N[16]!==A||N[17]!==V?(g={pause:V,selectedCategory:w,selectedChain:A},N[15]=w,N[16]=A,N[17]=V,N[18]=g):g=N[18];let z=function(e){var t,n,r,a;let l,s,i,c,d,u,m=(0,o.c)(13),{pause:h,selectedCategory:p,selectedChain:x}=e,y=void 0===p?"all":p,g=void 0===x?"all":x,f="tokens"===y?20:6,v=h||"all"!==y&&"tokens"!==y;m[0]!==g?(l={swappable:!0,...g&&"all"!==g?{chains:[g]}:{}},m[0]=g,m[1]=l):l=m[1],m[2]===Symbol.for("react.memo_cache_sentinel")?(s={by:"ONE_DAY_PRICE_CHANGE",direction:"DESC"},m[2]=s):s=m[2],m[3]!==l?(i={filter:l,limit:25,sort:s},m[3]=l,m[4]=i):i=m[4],m[5]!==v||m[6]!==i?(c={query:t6,context:t5,pause:v,variables:i},m[5]=v,m[6]=i,m[7]=c):c=m[7];let[C]=(0,t$.useQuery)(c,tJ),{data:j,fetching:S}=C;m[8]!==(null==j||null==(t=j.topCurrenciesV2)?void 0:t.items)?(d=null!=(a=null==j||null==(n=j.topCurrenciesV2)?void 0:n.items)?a:[],m[8]=null==j||null==(r=j.topCurrenciesV2)?void 0:r.items,m[9]=d):d=m[9];let N=d;m[10]!==f||m[11]!==N?(u=N.filter(t8).filter(t7).slice(0,f),m[10]=f,m[11]=N,m[12]=u):u=m[12];let b=u;if(S||0!==b.length)return b}(g),$=!(b&&U);N[19]!==w||N[20]!==$?(f={pause:$,selectedCategory:w},N[19]=w,N[20]=$,N[21]=f):f=N[21];let O=function(e){var t,n,r,a;let l,s,i,c,d=(0,o.c)(8),{pause:u,selectedCategory:m}=e,h=void 0===m?"all":m,p="perpetuals"===h?20:6,x=u||"all"!==h&&"perpetuals"!==h;d[0]===Symbol.for("react.memo_cache_sentinel")?(l={limit:25,sort:{by:"VOLUME_24H",direction:"DESC"}},d[0]=l):l=d[0],d[1]!==x?(s={query:t4,context:t5,pause:x,variables:l},d[1]=x,d[2]=s):s=d[2];let[y]=(0,t$.useQuery)(s,tJ),{data:g,fetching:f}=y;d[3]!==(null==g||null==(t=g.topPerpetualFutures)?void 0:t.items)?(i=null!=(a=null==g||null==(n=g.topPerpetualFutures)?void 0:n.items)?a:[],d[3]=null==g||null==(r=g.topPerpetualFutures)?void 0:r.items,d[4]=i):i=d[4];let v=i;d[5]!==p||d[6]!==v?(c=v.filter(t9).slice(0,p),d[5]=p,d[6]=v,d[7]=c):c=d[7];let C=c;if(f||0!==C.length)return C}(f),Q=(0,i.useRef)(null);N[22]!==B||N[23]!==b||N[24]!==w||N[25]!==T?(v=e=>{if(b&&"Tab"===e.key){let t;e.preventDefault();let n=B.indexOf(w);t=e.shiftKey?0===n?B.length-1:n-1:n===B.length-1?0:n+1;let a=B[t];(0,r.track)("Search Category Selected",{category:a,previous_category:w,navigation_method:"keyboard"}),T(a)}},N[22]=B,N[23]=b,N[24]=w,N[25]=T,N[26]=v):v=N[26],(0,s.useEventListener)("keydown",v),N[27]!==I?(C=function(e){var t;I(e),null==(t=Q.current)||t.setSelectedItemIndex(0)},N[27]=I,N[28]=C):C=N[28];let M=C;return N[29]!==U||N[30]!==b||N[31]!==F||N[32]!==w||N[33]!==A||N[34]!==L||N[35]!==T||N[36]!==z||N[37]!==O||N[38]!==D||N[39]!==M?(j=b?(0,t.jsxs)(m.FlexColumn,{className:(0,l.classNames)("top-0 size-full overflow-hidden border-0 lg:h-4/6 lg:w-1/2 lg:min-w-[900px] lg:rounded-xl lg:border lg:border-border-1",p,b?"lg:shadow-expanded-search-menu":"translate-y-5 lg:translate-y-0 lg:scale-95"),id:nu,children:[(0,t.jsx)(k,{onKeyDown:e=>{var t,n,r;switch(E("keyboard"),e.key){case"ArrowUp":null==(t=Q.current)||t.previous();break;case"ArrowDown":null==(n=Q.current)||n.forward();break;case"Enter":null==(r=Q.current)||r.navigate({openInNewTab:e.metaKey})}},query:F,selectedCategory:w,setQuery:M}),(0,t.jsxs)(u.Flex,{className:"min-w-0 flex-1 flex-col overflow-hidden lg:flex-row",children:[(0,t.jsx)(nd,{onCategoryChangeAction:T,selectedCategory:w}),(0,t.jsx)(ne,{expandedSearchMenuResultsRef:Q,onPointerMove:()=>{E("mouse")},onSelectChainAction:q,query:F,selectedCategory:w,selectedChain:A,selectionMethod:L,setQuery:M,topCurrencies:z,topPerpetuals:U?O:void 0,trendingCollections:D})]})]}):null,N[29]=U,N[30]=b,N[31]=F,N[32]=w,N[33]=A,N[34]=L,N[35]=T,N[36]=z,N[37]=O,N[38]=D,N[39]=M,N[40]=j):j=N[40],j}function nh(e){return{open:e.open,selectedCategory:e.selectedCategory,setSelectedCategory:e.setSelectedCategory,searchQuery:e.searchQuery,setSearchQuery:e.setSearchQuery}}let np=(0,e.i(389852).withSuspense)(()=>{let[e,o,d,u,m]=(0,S.useExpandedSearchStore)((0,c.useShallow)(e=>[e.open,e.setOpen,e.selectedCategory,e.searchQuery,e.setSearchQuery]));(0,i.useEffect)(()=>((0,n.setSearchTrackingParameters)({search_implementation:"universal"}),()=>{(0,n.setSearchTrackingParameters)({search_implementation:void 0})}),[]);let h=e=>{(0,r.track)("Search Dismissed",{query:u,query_length:u.length,category:d,has_query:u.length>0,dismiss_source:e}),o(!1),m("")};(0,s.useEventListener)("keydown",t=>{"Escape"===t.key&&e&&(t.preventDefault(),h("escape_key"))});let{lock:x,unlock:y}=(0,s.useScrollLock)({autoLock:!1});return(0,i.useEffect)(()=>{e?x():y()},[e]),(0,t.jsxs)(a.CenterAligned,{className:(0,l.classNames)("fixed inset-0 z-expanded-search size-full",p,e?"pointer-events-auto bg-overlay":"pointer-events-none"),children:[(0,t.jsx)("div",{className:"fixed inset-0 size-full",onClick:()=>{h("outside_click")}}),(0,t.jsx)(a.CenterAligned,{className:"z-1 size-full lg:w-auto",onClick:e=>{e.target.closest("#".concat(nu))||h("outside_click")},children:(0,t.jsx)(nm,{})})]})})},515254,e=>{e.n(e.i(417689))}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d8b514ac-eba3-5ae9-989d-879513b8d306")}catch(e){}}();
//# debugId=d8b514ac-eba3-5ae9-989d-879513b8d306
