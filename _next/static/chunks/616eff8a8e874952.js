(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,974420,e=>{"use strict";e.s(["CurrencyModule",()=>is,"CurrencyModuleSkeleton",()=>ic,"currencyModuleVariants",()=>ia],974420);var t=e.i(705378),i=e.i(590268),r=e.i(635341),l=e.i(189972),n=e.i(976644),a=e.i(508022),s=e.i(953756),c=e.i(437153),o=e.i(965523),u=e.i(165102),d=e.i(471966),h=e.i(230834),m=e.i(60330),f=e.i(384873),g=e.i(649386);let x=(0,f.parseAsStringLiteral)(["line","candles"]);function p(){let e,t,r=(0,i.c)(5),[l,n]=(0,f.useQueryState)(g.QUERY_PARAM_KEYS.chart,x),a=null;switch(l){case"line":a="LINE";break;case"candles":a="CANDLESTICKS"}r[0]!==n?(e=e=>{switch(e){case"LINE":n("line");break;case"CANDLESTICKS":n("candles");break;default:throw new m.UnreachableCaseError(e)}},r[0]=n,r[1]=e):e=r[1];let s=e;return r[2]!==a||r[3]!==s?(t={chartVariant:a,setChartVariant:s},r[2]=a,r[3]=s,r[4]=t):t=r[4],t}var y=e.i(501811),v=e.i(444501),w=e.i(434018),C=e.i(254842),j=e.i(310578);function S(e){let r,l,n,a,s,u,d=(0,i.c)(8),{className:h}=e;return d[0]!==h?(r=(0,c.classNames)("h-[500px] w-full md:h-[550px]",h),d[0]=h,d[1]=r):r=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(o.FlexColumn,{className:"w-10 items-center justify-around py-3",children:Array.from({length:16}).map(b)}),d[2]=l):l=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("div",{className:"relative flex-1",children:(0,t.jsx)(k,{})}),d[3]=n):n=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsxs)(o.FlexColumn,{className:"flex-1",children:[n,(0,t.jsx)(C.Flex,{className:"h-6 items-center justify-between border-border-1 border-t pr-4",children:Array.from({length:8}).map(N)})]}),d[4]=a):a=d[4],d[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(C.Flex,{className:"flex-1",children:[l,a,(0,t.jsx)(o.FlexColumn,{className:"w-20 items-end justify-around py-4 pr-2",children:Array.from({length:8}).map(T)})]}),d[5]=s):s=d[5],d[6]!==r?(u=(0,t.jsx)(o.FlexColumn,{className:r,children:s}),d[6]=r,d[7]=u):u=d[7],u}function T(e,i){return(0,t.jsx)(j.SkeletonLine,{className:"h-3 w-16"},"price-".concat(i))}function N(e,i){return(0,t.jsx)(j.SkeletonLine,{className:"h-3 w-10"},"time-".concat(i))}function b(e,i){return(0,t.jsx)(j.SkeletonBlock,{className:"size-5 rounded"},"tool-".concat(i))}function k(){let e,r=(0,i.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("svg",{className:"size-full animate-pulse",fill:"none",preserveAspectRatio:"none",role:"img",viewBox:"0 0 800 300",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"Trading chart loading"}),(0,t.jsx)("path",{d:"M0 50h800M0 100h800M0 150h800M0 200h800M0 250h800M100 0v300M200 0v300M300 0v300M400 0v300M500 0v300M600 0v300M700 0v300",stroke:"white",strokeOpacity:"0.04"}),[{x:20,y:180,height:35,wickTop:170,wickBottom:220,color:"green"},{x:45,y:195,height:20,wickTop:190,wickBottom:220,color:"red"},{x:70,y:200,height:25,wickTop:195,wickBottom:230,color:"red"},{x:95,y:210,height:15,wickTop:205,wickBottom:230,color:"red"},{x:120,y:215,height:10,wickTop:210,wickBottom:230,color:"green"},{x:145,y:205,height:25,wickTop:195,wickBottom:235,color:"green"},{x:170,y:190,height:30,wickTop:180,wickBottom:225,color:"green"},{x:195,y:175,height:25,wickTop:165,wickBottom:205,color:"green"},{x:220,y:165,height:20,wickTop:155,wickBottom:190,color:"green"},{x:245,y:155,height:30,wickTop:145,wickBottom:190,color:"green"},{x:270,y:140,height:35,wickTop:125,wickBottom:180,color:"green"},{x:295,y:150,height:25,wickTop:140,wickBottom:180,color:"red"},{x:320,y:160,height:20,wickTop:150,wickBottom:185,color:"red"},{x:345,y:145,height:30,wickTop:130,wickBottom:180,color:"green"},{x:370,y:130,height:35,wickTop:115,wickBottom:170,color:"green"},{x:395,y:115,height:40,wickTop:100,wickBottom:160,color:"green"},{x:420,y:100,height:45,wickTop:80,wickBottom:150,color:"green"},{x:445,y:85,height:50,wickTop:60,wickBottom:140,color:"green"},{x:470,y:70,height:55,wickTop:45,wickBottom:130,color:"green"},{x:495,y:90,height:40,wickTop:75,wickBottom:135,color:"red"},{x:520,y:110,height:35,wickTop:95,wickBottom:150,color:"red"},{x:545,y:125,height:30,wickTop:110,wickBottom:160,color:"red"},{x:570,y:140,height:25,wickTop:125,wickBottom:170,color:"red"},{x:595,y:130,height:30,wickTop:115,wickBottom:165,color:"green"},{x:620,y:115,height:35,wickTop:100,wickBottom:155,color:"green"},{x:645,y:100,height:40,wickTop:85,wickBottom:145,color:"green"},{x:670,y:120,height:30,wickTop:105,wickBottom:155,color:"red"},{x:695,y:135,height:25,wickTop:120,wickBottom:165,color:"red"},{x:720,y:125,height:30,wickTop:110,wickBottom:160,color:"green"},{x:745,y:140,height:35,wickTop:125,wickBottom:180,color:"red"}].map((e,i)=>{let r=E[e.color];return(0,t.jsxs)("g",{children:[(0,t.jsx)("line",{stroke:r.stroke,strokeWidth:"1",x1:e.x+7,x2:e.x+7,y1:e.wickTop,y2:e.wickBottom}),(0,t.jsx)("rect",{fill:r.fill,height:e.height,rx:"1",width:"14",x:e.x,y:e.y})]},"candle-".concat(i))})]}),r[0]=e):e=r[0],e}let E={green:{fill:"rgba(71,187,100,0.4)",stroke:"rgba(71,187,100,0.5)"},red:{fill:"rgba(226,71,86,0.4)",stroke:"rgba(226,71,86,0.5)"}};var _=e.i(682388),O=e.i(502732),I=e.i(39771),M=e.i(999258),F=e.i(258343),B=e.i(339694),A=e.i(967593),D=e.i(790621);function R(e){let r,l,n,a,s,o,u,d,h=(0,i.c)(15);h[0]!==e?({size:n,fill:a,fillAttribute:s,className:r,...l}=e,h[0]=e,h[1]=r,h[2]=l,h[3]=n,h[4]=a,h[5]=s):(r=h[1],l=h[2],n=h[3],a=h[4],s=h[5]);let m=void 0===n?24:n,f=void 0===a?"current":a,g=void 0===s?"currentColor":s;return h[6]!==r||h[7]!==f?(o=(0,c.classNames)((0,D.fillVariants)({fill:f}),r),h[6]=r,h[7]=f,h[8]=o):o=h[8],h[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("path",{d:"M280-160v-80h-80v-480h80v-80h80v80h80v480h-80v80h-80Zm0-160h80v-320h-80v320Zm320 160v-200h-80v-280h80v-160h80v160h80v280h-80v200h-80Zm0-280h80v-120h-80v120Zm-280-40Zm320-20Z"}),h[9]=u):u=h[9],h[10]!==g||h[11]!==l||h[12]!==m||h[13]!==o?(d=(0,t.jsx)("svg",{"aria-label":"Candlestick Chart",className:o,fill:g,height:m,role:"img",viewBox:"0 -960 960 960",width:m,xmlns:"http://www.w3.org/2000/svg",...l,children:u}),h[10]=g,h[11]=l,h[12]=m,h[13]=o,h[14]=d):d=h[14],d}let L=e=>{let r,l,n,a,s,o,u=(0,i.c)(11);u[0]!==e?({size:n,className:r,...l}=e,u[0]=e,u[1]=r,u[2]=l,u[3]=n):(r=u[1],l=u[2],n=u[3]);let d=void 0===n?24:n;return u[4]!==r?(a=(0,c.classNames)(r),u[4]=r,u[5]=a):a=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("path",{d:"M20 17l-5 5M15 17l5 5M9 11.5h7M17.5 8a2.5 2.5 0 0 0-5 0v11a2.5 2.5 0 0 1-5 0",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5}),u[6]=s):s=u[6],u[7]!==l||u[8]!==d||u[9]!==a?(o=(0,t.jsx)("svg",{"aria-label":"FxIndicator",className:a,fill:"none",height:d,role:"img",viewBox:"0 0 24 24",width:d,xmlns:"http://www.w3.org/2000/svg",...l,children:s}),u[7]=l,u[8]=d,u[9]=a,u[10]=o):o=u[10],o};var z=e.i(144700),U=e.i(20904),P=e.i(254175),V=e.i(940704),q=e.i(969498),H=e.i(389852),G=e.i(88343),Y=e.i(871085);let K=(0,f.parseAsStringLiteral)(G.CandleBucketSize.map(e=>(0,Y.toLowerCase)(e)));function W(){let e,t,r=(0,i.c)(5),[l,n]=(0,f.useQueryState)(g.QUERY_PARAM_KEYS.candleSize,K);return r[0]!==l?(e=l?(0,Y.toUpperCase)(l):void 0,r[0]=l,r[1]=e):e=r[1],r[2]!==n||r[3]!==e?(t={candleSize:e,setCandleSize:n},r[2]=n,r[3]=e,r[4]=t):t=r[4],t}var Z=e.i(711999),Q=e.i(35720),$=e.i(806056),J=e.i(716744),X=e.i(594445),ee=e.i(446602),et=e.i(723600),ei=e.i(740100),er=e.i(82085),el=e.i(84060),en=e.i(104062);function ea(e){let r,l,n=(0,i.c)(4),{className:a}=e;return n[0]!==a?(r=(0,c.classNames)("h-[450px]",a),n[0]=a,n[1]=r):r=n[1],n[2]!==r?(l=(0,t.jsx)(en.EmptyState,{className:r,showIcon:!1,variant:"no-chart-data"}),n[2]=r,n[3]=l):l=n[3],l}var es=e.i(534294);function ec(e){let r,l=(0,i.c)(9),{data:n,initialTimeRange:a,className:s,onPriceHover:c,onTimeRangeChange:o,live:u,bucketSize:d}=e,h=n.length>0;return l[0]!==d||l[1]!==s||l[2]!==n||l[3]!==a||l[4]!==h||l[5]!==u||l[6]!==c||l[7]!==o?(r=h?(0,t.jsx)(es.CandlestickChartGraph,{bucketSize:d,className:s,data:n,initialTimeRange:a,live:u,onPriceHover:c,onTimeRangeChange:o}):(0,t.jsx)(ea,{}),l[0]=d,l[1]=s,l[2]=n,l[3]=a,l[4]=h,l[5]=u,l[6]=c,l[7]=o,l[8]=r):r=l[8],r}function eo(e){let r,l,n,a=(0,i.c)(5),{className:s}=e;return a[0]!==s?(r=(0,c.classNames)(s),a[0]=s,a[1]=r):r=a[1],a[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)("svg",{className:"animate-pulse",fill:"none",height:"100%",preserveAspectRatio:"none",role:"img",viewBox:"0 0 1438 400",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"Candlestick chart loading"}),(0,t.jsx)("path",{d:"M0 199.5h1438M0 149.5h1438M0 249.5h1438M0 99.5h1438M0 299.5h1438M0 299.5h1438",stroke:"white",strokeOpacity:"0.04"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"23.13",width:"21.97",x:"0",y:"263.48"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"8.74",width:"21.97",x:"23.97",y:"277.87"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"14.65",width:"21.97",x:"47.93",y:"277.87"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"8.85",width:"21.97",x:"71.9",y:"292.52"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"5.06",width:"21.97",x:"95.87",y:"296.31"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"14.56",width:"21.97",x:"119.83",y:"296.31"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"10.40",width:"21.97",x:"143.8",y:"300.47"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"11.53",width:"21.97",x:"167.77",y:"288.94"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1",width:"21.97",x:"191.73",y:"288.94"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"7.04",width:"21.97",x:"215.7",y:"281.90"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1",width:"21.97",x:"239.67",y:"281.84"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"38.16",width:"21.97",x:"263.63",y:"281.84"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"63.98",width:"21.97",x:"287.6",y:"256.02"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"18.84",width:"21.97",x:"311.57",y:"237.18"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"29.19",width:"21.97",x:"335.53",y:"237.18"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1",width:"21.97",x:"359.5",y:"266.37"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"19.10",width:"21.97",x:"383.47",y:"248.19"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"9.52",width:"21.97",x:"407.43",y:"238.67"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"27.36",width:"21.97",x:"431.4",y:"211.31"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"13.37",width:"21.97",x:"455.37",y:"211.31"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"9.59",width:"21.97",x:"479.33",y:"215.09"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"9.60",width:"21.97",x:"503.3",y:"215.09"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"17.76",width:"21.97",x:"527.27",y:"206.93"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"10.42",width:"21.97",x:"551.23",y:"206.93"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"11.20",width:"21.97",x:"575.2",y:"206.15"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"10.63",width:"21.97",x:"599.17",y:"206.15"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"52.79",width:"21.97",x:"623.13",y:"216.78"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"57.41",width:"21.97",x:"647.1",y:"212.16"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"4.37",width:"21.97",x:"671.07",y:"212.16"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"7.02",width:"21.97",x:"695.03",y:"209.51"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1",width:"21.97",x:"719",y:"209.13"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"9.49",width:"21.97",x:"742.97",y:"199.64"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1",width:"21.97",x:"766.93",y:"199.64"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"31.55",width:"21.97",x:"790.9",y:"199.64"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"5.25",width:"21.97",x:"814.87",y:"231.19"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1.10",width:"21.97",x:"838.83",y:"236.44"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"12.27",width:"21.97",x:"862.8",y:"225.26"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"44.70",width:"21.97",x:"886.77",y:"180.56"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"20.56",width:"21.97",x:"910.73",y:"180.56"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"17.55",width:"21.97",x:"934.7",y:"201.13"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1.96",width:"21.97",x:"958.67",y:"218.68"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"10.85",width:"21.97",x:"982.63",y:"209.78"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"4.06",width:"21.97",x:"1006.6",y:"209.78"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"9.31",width:"21.97",x:"1030.57",y:"204.54"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"23.90",width:"21.97",x:"1054.53",y:"180.64"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"44.54",width:"21.97",x:"1078.5",y:"136.10"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"32.14",width:"21.97",x:"1102.47",y:"103.96"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"43.96",width:"21.97",x:"1126.43",y:"60"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"44.25",width:"21.97",x:"1150.4",y:"60"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"8.73",width:"21.97",x:"1174.37",y:"104.25"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"17.41",width:"21.97",x:"1198.33",y:"112.97"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"14.01",width:"21.97",x:"1222.3",y:"130.38"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"12.17",width:"21.97",x:"1246.27",y:"132.22"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"22.43",width:"21.97",x:"1270.23",y:"132.22"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"5.03",width:"21.97",x:"1294.2",y:"154.65"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"49.35",width:"21.97",x:"1318.17",y:"110.34"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"55.58",width:"21.97",x:"1342.13",y:"110.34"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"12.60",width:"21.97",x:"1366.1",y:"153.31"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"1",width:"21.97",x:"1390.07",y:"153.31"}),(0,t.jsx)("rect",{fill:"white",fillOpacity:"0.12",height:"7",width:"21.97",x:"1414.03",y:"147.31"})]}),a[2]=l):l=a[2],a[3]!==r?(n=(0,t.jsx)("div",{className:r,children:l}),a[3]=r,a[4]=n):n=a[4],n}var eu=e.i(194153),ed=e.i(2795),eh=e.i(703405),em=e.i(465172),ef=e.i(708894),eg=e.i(956309),ex=e.i(528198);e.i(402819);var ep=e.i(916744),ey=e.i(231538);let ev=(0,ex.graphql)("\n  subscription useCurrencyCandleUpdateSubscription(\n    $currency: ContractIdentifierInput!\n  ) {\n    currencyPriceUpdate(currency: $currency) {\n      oneMinuteCandle {\n        time\n        open\n        high\n        low\n        close\n        volume\n      }\n      oneDayCandle {\n        time\n        open\n        high\n        low\n        close\n        volume\n      }\n      fifteenMinuteCandle {\n        time\n        open\n        high\n        low\n        close\n        volume\n      }\n      fourHourCandle {\n        time\n        open\n        high\n        low\n        close\n        volume\n      }\n    }\n  }\n");function ew(e,t,r){let l,n,a,s,c,o=(0,i.c)(12);o[0]!==e?(l=e?(0,eg.currencyToContractIdentifierInput)(e):{chain:"",address:""},o[0]=e,o[1]=l):l=o[1],o[2]!==l?(n={currency:l},o[2]=l,o[3]=n):n=o[3];let u=!e;o[4]!==n||o[5]!==u?(a={query:ev,variables:n,pause:u,pauseOnInactivity:!1},o[4]=n,o[5]=u,o[6]=a):a=o[6],o[7]!==r||o[8]!==e?(s=t=>{let i=t.currencyPriceUpdate;if(e){var l,n,a,s;r({currencyIdentifier:e,oneMinuteCandle:null!=(l=i.oneMinuteCandle)?l:void 0,oneDayCandle:null!=(n=i.oneDayCandle)?n:void 0,fifteenMinuteCandle:null!=(a=i.fifteenMinuteCandle)?a:void 0,fourHourCandle:null!=(s=i.fourHourCandle)?s:void 0})}},o[7]=r,o[8]=e,o[9]=s):s=o[9],(0,ep.useSubscription)(a,s),o[10]!==r?(c=e=>{r({currencyIdentifier:e.currencyIdentifier,livePrice:{value:e.value,timestamp:e.timestamp,volume:e.volume}})},o[10]=r,o[11]=c):c=o[11],(0,ey.useCurrencyPriceUpdateSubscription)(t,c)}var eC=e.i(879658),ej=e.i(186083),eS=e.i(377345),eT=e.i(510879),eN=e.i(301715);let eb="h-[400px] md:h-[450px]",ek=(0,H.withSuspense)(function(e){let{currency:l,timeRange:n,onTimeRangeChange:a,bucketSize:s,initialTimeRange:o}=e,u=(0,el.useClient)(),d=(0,r.readFragment)(eT.CurrencyCandlestickChartFragment,l),h=d.createdAt?new Date(d.createdAt).getTime():null,m=null!==h&&!Number.isNaN(h),f=(0,q.useCallback)(async(e,t)=>{var i;let{data:r,error:l}=await u.query(eN.CurrencyCandlestickChartQuery,{startTime:e.startTime.toISOString(),endTime:e.endTime.toISOString(),contractIdentifier:{chain:d.chainIdentifier,address:d.contractAddress},bucketSize:t,fillTimeWindow:!0});if(l)throw l;let n=null!=(i=null==r?void 0:r.currencyOhlcvCandles2)?i:[],a=1e3*(0,_.candleBucketSizeToSeconds)(t),s=m?n.filter(e=>new Date(e.time).getTime()+a>h):n,c=s.findIndex(e=>"0"!==e.volume&&Number(e.volume)>0);return c>0&&(s=s.slice(c)),s},[u,d.chainIdentifier,d.contractAddress,m,h]),{setLivePrice:g,setLiveCandle:x}=(0,eC.useCurrencyChart)(),{data:p,fetching:y,stale:v,onLiveUpdate:w,live:C}=(0,eS.useChartData)({timeRange:n,loadData:f,intervalSize:s,loadMoreBuffer:300,shouldSetChunkedDataEarly:!1,createFillerPoint:(e,t)=>({time:e.toISOString(),open:t.close,high:t.close,low:t.close,close:t.close,volume:"0"})}),j=(0,q.useMemo)(()=>{var e;return(e=p).map((t,i)=>0===i?t:{...t,open:e[i-1].close})},[p]),S=(0,q.useRef)(void 0);(0,q.useEffect)(()=>{let e=j.at(-1);e&&(S.current=e)},[j]);let T=(0,q.useMemo)(()=>{var e;if(!(null==(e=d.tokenGroup)?void 0:e.currencies))return[d];let t=(0,em.bn)(d.usdPrice);if(t.isZero())return[d];let i=t.multipliedBy(.01);return d.tokenGroup.currencies.filter(e=>(0,em.bn)(e.usdPrice).minus(t).abs().isLessThanOrEqualTo(i))},[d]);ew(d,T,e=>{let t,i=(0,_.candleBucketSizeToSeconds)(s);if("ONE_DAY"===s&&e.oneDayCandle?t=e.oneDayCandle:"FIFTEEN_MINUTES"===s&&e.fifteenMinuteCandle?t=e.fifteenMinuteCandle:"FOUR_HOURS"===s&&e.fourHourCandle&&(t=e.fourHourCandle),t){S.current&&!(0,ef.isBefore)(t.time,S.current.time)&&(0,U.differenceInSeconds)(t.time,S.current.time)<i&&(t=eE(t,S.current.close,void 0)),w(t),S.current=t,x(t),g({value:(0,em.bn)(t.close),time:new Date(1e3*Number(t.time))});return}if(e.livePrice){let t,r=e.livePrice,l=e.currencyIdentifier.contractAddress===d.contractAddress&&e.currencyIdentifier.chainIdentifier===d.chainIdentifier;if(!l&&S.current){let e=(0,em.bn)(S.current.close);if(!e.isZero()&&r.value.minus(e).abs().dividedBy(e).isGreaterThan(.01))return}let n=j.findIndex(e=>{let t=(0,U.differenceInSeconds)(r.timestamp,e.time);return t>=0&&t<i});if(-1!==n){let e=j[n];t=eE(S.current&&0===(0,U.differenceInSeconds)(S.current.time,e.time)?S.current:e,r.value,r.volume)}else if(S.current){let e=j.findIndex(e=>(0,ef.isBefore)(r.timestamp,e.time));t=0===e?e_(void 0,r.value,r.timestamp,r.volume):-1===e?e_(S.current,r.value,r.timestamp,r.volume):e_(j[e-1],r.value,r.timestamp,r.volume)}else{if(!l)return;t=e_(void 0,r.value,r.timestamp,r.volume)}w(t),S.current=t,x(t),g({value:(0,em.bn)(t.close),time:new Date(e.livePrice.timestamp)})}});let N=function(e,t){let r,l,n,a,s=(0,i.c)(8),[c,o]=(0,q.useState)(e),[u,d]=(0,q.useState)(!1);return s[0]!==t||s[1]!==u||s[2]!==e?(r=()=>{!t&&u&&(o(e),d(!1))},l=[t,e,u],s[0]=t,s[1]=u,s[2]=e,s[3]=r,s[4]=l):(r=s[3],l=s[4]),(0,q.useEffect)(r,l),s[5]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{d(!0)},s[5]=n):n=s[5],s[6]!==e?(a=[e],s[6]=e,s[7]=a):a=s[7],(0,q.useEffect)(n,a),c}(o,y||v),{setHoveredPrice:b,setSelectedCandle:k}=(0,eC.useCurrencyChart)();(0,ej.useChartPriceBounds)({chartData:j,timeRange:n,getPrice:(0,q.useCallback)(e=>e.close,[]),live:C}),(0,q.useEffect)(()=>{let e=j.at(-1);e&&k(e)},[j,k]);let E=(0,q.useCallback)(e=>{if(e)k(e),b({value:(0,em.bn)(e.close),time:new Date(1e3*Number(e.time))});else{let e=j.at(-1);e&&k(e),b(void 0)}},[k,b,j]);return(v||y)&&0===j.length?(0,t.jsx)(eo,{className:eb}):(0,t.jsxs)("div",{className:"relative","data-testid":"currency-candlestick-chart",children:[(0,t.jsx)(ec,{bucketSize:s,className:(0,c.classNames)(eb,y?"opacity-50":void 0),data:j,initialTimeRange:N,live:C,onPriceHover:E,onTimeRangeChange:a}),y&&0===j.length&&(0,t.jsx)(eu.CenterAligned,{className:"-translate-x-1/2 -translate-y-1/2 pointer-events-none absolute top-1/2 left-1/2",children:(0,t.jsx)(ed.Spinner,{})})]})},{fallback:(0,t.jsx)(eo,{className:eb}),errorFallback:(0,t.jsx)(ea,{className:eb}),ssr:!1});function eE(e,t,i){let r=i?(0,em.bn)(e.volume).plus(i).toString():e.volume;return{...e,high:eh.BigNumber.max(e.high,t).toString(),low:eh.BigNumber.min(e.low,t).toString(),close:t.toString(),volume:r}}function e_(e,t,i,r){var l;let n=null!=(l=null==e?void 0:e.close)?l:t.toString();return{time:i,open:n,high:eh.BigNumber.max(n,t).toString(),low:eh.BigNumber.min(n,t).toString(),close:t.toString(),volume:(0,em.bn)(null!=r?r:0).toString()}}var eO=e.i(21939),eI=e.i(286423),eM=e.i(825822),eF=e.i(507139),eB=e.i(83617),eA=e.i(144551);let eD={ONE_SECOND:"1S",ONE_MINUTE:"1",FIVE_MINUTES:"5",FIFTEEN_MINUTES:"15",ONE_HOUR:"60",FOUR_HOURS:"240",ONE_DAY:"1D"},eR={"1S":"ONE_SECOND",1:"ONE_MINUTE",5:"FIVE_MINUTES",15:"FIFTEEN_MINUTES",60:"ONE_HOUR",240:"FOUR_HOURS","1D":"ONE_DAY",D:"ONE_DAY"},eL=Object.values(eD),ez=eD.FIFTEEN_MINUTES;var eU=e.i(110846),eP=e.i(868275),eV=e.i(230902);class eq{setGqlClient(e){this.gqlClient=e}setSwapActivities(e){this.swapActivities=e}setBucketSize(e){this.currentBucketSize=e}getMarks(e,t,i,r,l){try{let e=1e3*t,l=1e3*i,n=1e3*(0,_.candleBucketSizeToSeconds)(this.currentBucketSize),a=this.swapActivities.filter(t=>{let i=new Date(t.timestamp).getTime();return i>=e&&i<=l}),s=new Map;for(let e of a){let t=new Date(e.timestamp).getTime(),i=Math.floor(t/n)*n,r=s.get(i);r?e.isBuy?r.buys.push(e):r.sells.push(e):s.set(i,{buys:e.isBuy?[e]:[],sells:e.isBuy?[]:[e]})}let c=[];for(let[e,{buys:t,sells:i}]of s){if(t.length>0){let i=t.map(e=>{let t=e.usdPrice.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:6}),i=(0,eV.format)(new Date(e.timestamp),"MMM d HH:mm:ss");return"Bought at ".concat(t," on ").concat(i)});c.push({id:"buy-".concat(e),time:e/1e3,color:{border:"#1db954",background:"#1db954"},label:t.length>1?String(t.length):"B",labelFontColor:"#ffffff",text:i.join("\n"),minSize:20})}if(i.length>0){let t=i.map(e=>{let t=e.usdPrice.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:6}),i=(0,eV.format)(new Date(e.timestamp),"MMM d HH:mm:ss");return"Sold at ".concat(t," on ").concat(i)});c.push({id:"sell-".concat(e),time:e/1e3,color:{border:"#ff4444",background:"#ff4444"},label:i.length>1?String(i.length):"S",labelFontColor:"#ffffff",text:t.join("\n"),minSize:20})}}r(c)}catch(e){console.error("[CurrencyTradingViewDatafeed] Failed to generate marks:",e),r([])}}onReady(e){setTimeout(()=>{e(this.configuration)},0)}resolveSymbol(e,t,i){let r="".concat(this.currency.chainIdentifier,":").concat(this.currency.symbol),l={ticker:r,name:r,description:r,type:"crypto",session:"24x7",timezone:"Etc/UTC",exchange:"OpenSea",listed_exchange:"OpenSea",format:"price",minmov:1,pricescale:1e8,has_intraday:!0,has_seconds:!0,seconds_multipliers:["1"],has_weekly_and_monthly:!0,has_daily:!0,supported_resolutions:this.configuration.supported_resolutions,volume_precision:2,data_status:"streaming"};setTimeout(()=>{t(l)},0)}getBars(e,t,i,r,l){let{from:n,to:a}=i;if(!this.gqlClient)return void l("GraphQL client not initialized");let s=eR[t]||"FIFTEEN_MINUTES",c=new Date(1e3*n).toISOString(),o=new Date(1e3*a).toISOString();this.gqlClient.query(eN.CurrencyCandlestickChartQuery,{startTime:c,endTime:o,contractIdentifier:{chain:this.currency.chainIdentifier,address:this.currency.contractAddress},bucketSize:s,fillTimeWindow:!0}).toPromise().then(i=>{var n,c;if(i.error)return void l(i.error.message);let o=null!=(c=null==(n=i.data)?void 0:n.currencyOhlcvCandles2)?c:[];if(0===o.length)return void r([],{noData:!0});let u=o.map(e=>({time:(0,eM.parseISO)(e.time).getTime(),open:Number.parseFloat(e.open),high:Number.parseFloat(e.high),low:Number.parseFloat(e.low),close:Number.parseFloat(e.close),volume:Number.parseFloat(e.volume)}));u.sort((e,t)=>e.time-t.time);let d=1e3*(0,_.candleBucketSizeToSeconds)(s),h=this.currency.createdAt?new Date(this.currency.createdAt).getTime():null,m=null===h||Number.isNaN(h)?u:u.filter(e=>e.time+d>h),f=m.findIndex(e=>e.volume>0);f>0&&(m=m.slice(f));for(let e=1;e<m.length;e+=1){let t=m[e-1].close;m[e].open=t,m[e].high=Math.max(m[e].high,t),m[e].low=Math.min(m[e].low,t)}if(0===m.length)return void r([],{noData:!0});if("ONE_SECOND"!==s){let e=Date.now();if(1e3*a>=e-d){let t=Math.floor(e/d)*d;for(;m.length>0&&m.at(-1).time>t;)m.pop();let i=m.at(-1);if(i&&i.time<t){let e=function(e,t,i){let r=[],l=e.time+i;for(;l<=t;)r.push({time:l,open:e.close,high:e.close,low:e.close,close:e.close,volume:0}),l+=i;return r}(i,t,d);m.push(...e)}}}let g=m.at(-1);if(g){let i="".concat(e.ticker,"_").concat(t),r=this.lastBarTimeByResolution.get(t);(null==r||g.time>=r)&&(this.lastBarsCache.set(i,g),this.lastBarTimeByResolution.set(t,g.time))}r(m,{noData:!1})}).catch(e=>{console.error("[CurrencyTradingViewDatafeed] Failed to fetch candles:",e),l(e instanceof Error?e.message:"Failed to fetch historical data")})}subscribeBars(e,t,i,r,l){this.subscriptions.set(r,{onTick:i,resolution:t})}unsubscribeBars(e){this.subscriptions.delete(e)}getLastBar(e){var t;let i="".concat(this.currency.chainIdentifier,":").concat(this.currency.symbol),r="".concat(i,"_").concat(e);return null!=(t=this.lastBarsCache.get(r))?t:null}updateBar(e,t){let i=this.lastBarTimeByResolution.get(t);if(null!=i&&e.time<i)return;let r=eR[t];if(r&&"ONE_SECOND"!==r){let t=1e3*(0,_.candleBucketSizeToSeconds)(r),i=Math.floor(Date.now()/t)*t;if(e.time>i)return}let l="".concat(this.currency.chainIdentifier,":").concat(this.currency.symbol),n="".concat(l,"_").concat(t);for(let[,r]of(this.lastBarsCache.set(n,e),this.lastBarTimeByResolution.set(t,Math.max(null!=i?i:e.time,e.time)),this.subscriptions))r.resolution===t&&r.onTick(e)}getCurrentResolution(){for(let[,e]of this.subscriptions)return e.resolution;return null}getServerTime(e){e(Math.floor(Date.now()/1e3))}searchSymbols(e,t,i,r){r([])}destroy(){this.subscriptions.clear(),this.lastBarsCache.clear(),this.lastBarTimeByResolution.clear(),this.gqlClient=null}constructor(e){(0,eP._)(this,"currency",void 0),(0,eP._)(this,"configuration",void 0),(0,eP._)(this,"lastBarsCache",new Map),(0,eP._)(this,"subscriptions",new Map),(0,eP._)(this,"lastBarTimeByResolution",new Map),(0,eP._)(this,"gqlClient",null),(0,eP._)(this,"swapActivities",[]),(0,eP._)(this,"currentBucketSize","FIFTEEN_MINUTES"),this.currency=e,this.configuration={supported_resolutions:eL,supports_marks:!0,supports_timescale_marks:!1,supports_time:!0}}}let eH=/^([\d.]+)([KMBT])$/i,eG={K:1e3,M:1e6,B:1e9,T:1e12},eY=["volume","vol"];function eK(e){let t=e.replace(/,/g,"").replace(/\s/g,"").trim(),i=t.match(eH);if(i){var r;let e=null!=(r=eG[i[2].toUpperCase()])?r:1;return(0,em.bn)(i[1]).times(e).toString()}return t}var eW=e.i(114463);let eZ="h-[450px] md:h-[500px]",eQ=(0,H.withSuspense)(function(e){let{currency:i,bucketSize:l,timeRange:n,onTimeRangeChange:a}=e,s=(0,q.useRef)(null),[o,u]=(0,q.useState)(()=>!!window.TradingView),d=(0,r.readFragment)(eW.TradingViewCandlestickChartFragment,i),{widget:h,datafeed:m,isChartReady:f,isDataReady:g}=function(e){let{currency:t,bucketSize:i,container:r,isLibraryLoaded:l,timeRange:n,onTimeRangeChange:a}=e,s=(0,el.useClient)(),c=(0,q.useRef)(null),o=(0,q.useRef)(null),[u,d]=(0,q.useState)(!1),[h,m]=(0,q.useState)(!1),f=(0,q.useMemo)(()=>({"paneProperties.legendProperties.showSeriesOHLC":!1,"paneProperties.legendProperties.showSeriesTitle":!1,"paneProperties.legendProperties.showBarChange":!1}),[]),{getThemingOptions:g}=(0,eU.useTradingViewTheme)({widgetRef:c,isChartReady:u,overrides:f}),x=(0,q.useMemo)(()=>{var e;return n||(0,ee.getTimeRangeForTimeframe)("ALL_TIME",null!=(e=t.createdAt)?e:null)},[n,t.createdAt]),p=(0,q.useRef)(x),y=(0,q.useRef)(a);(0,q.useEffect)(()=>{y.current=a},[a]);let v=(0,q.useRef)(!1),w=(0,q.useRef)(!1),C=(0,q.useRef)(null);(0,q.useEffect)(()=>{if(!(r&&l))return;if(!window.TradingView)return void console.error("[useCurrencyTradingViewWidget] TradingView library not loaded");let e=eD[i]||ez,n=new eq(t);n.setGqlClient(s),o.current=n;let a={symbol:"".concat(t.chainIdentifier,":").concat(t.contractAddress),datafeed:n,interval:e,container:r,library_path:eB.TRADING_VIEW_LIBRARY_PATH,locale:"en",disabled_features:[...eU.TRADING_VIEW_DISABLED_FEATURES_BASE,"header_widget","header_resolutions","header_settings","header_chart_type","header_compare","header_symbol_search","header_undo_redo","header_quick_search","header_fullscreen_button","timeframes_toolbar","adaptive_logo","border_around_the_chart","timezone_menu"],enabled_features:[],client_id:"opensea.com",user_id:"public_user_id",autosize:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...g()},u=new window.TradingView.widget(a);return c.current=u,u.onChartReady(()=>{d(!0),u.activeChart().dataReady(()=>{m(!0)})}),()=>{S.current=void 0,v.current=!1,w.current=!1,C.current&&(clearTimeout(C.current),C.current=null),d(!1),m(!1),c.current&&(c.current.remove(),c.current=null),o.current&&(o.current.destroy(),o.current=null)}},[t.chainIdentifier,t.contractAddress,r,l]),(0,q.useEffect)(()=>{o.current&&o.current.setGqlClient(s)},[s]),(0,q.useEffect)(()=>{p.current=x},[x]);let j=(0,q.useCallback)(()=>{let e=p.current;if(c.current&&e)try{let t=Math.floor(e.startTime.getTime()/1e3),i=Math.floor(e.endTime.getTime()/1e3);v.current=!0,C.current&&(clearTimeout(C.current),C.current=null),c.current.activeChart().setVisibleRange({from:t,to:i},{percentRightMargin:5}).then(()=>{C.current=setTimeout(()=>{v.current=!1,C.current=null},50)}).catch(e=>{v.current=!1})}catch(e){v.current=!1}},[]);(0,q.useEffect)(()=>{if(!c.current)return;let e=eD[i]||ez;m(!1);try{c.current.activeChart().setResolution(e,()=>{j(),m(!0)})}catch(e){m(!0)}},[i,j]);let S=(0,q.useRef)(void 0);return(0,q.useEffect)(()=>{if(!(c.current&&u&&n)||!(!S.current||S.current.startTime.getTime()!==n.startTime.getTime()||S.current.endTime.getTime()!==n.endTime.getTime()))return;if(w.current){w.current=!1,S.current=n;return}let e=()=>{if(c.current)try{let e=Math.floor(n.startTime.getTime()/1e3),t=Math.floor(n.endTime.getTime()/1e3);v.current=!0,C.current&&(clearTimeout(C.current),C.current=null),c.current.activeChart().setVisibleRange({from:e,to:t},{percentRightMargin:5}).then(()=>{C.current=setTimeout(()=>{v.current=!1,C.current=null},50)}).catch(e=>{v.current=!1})}catch(e){v.current=!1}};S.current=n,e();let t=setTimeout(e,100);return()=>{clearTimeout(t)}},[u,n]),(0,q.useEffect)(()=>{if(!(c.current&&u))return;let e=c.current;try{let t=e.activeChart().onVisibleRangeChanged();return t.subscribe(null,e=>{if(v.current||!y.current)return;w.current=!0;let t={startTime:new Date(1e3*e.from),endTime:new Date(1e3*e.to)};y.current(t)}),()=>{try{t.unsubscribeAll(null)}catch(e){}}}catch(e){}},[u]),{widget:c.current,datafeed:o.current,isChartReady:u,isDataReady:h}}({currency:d,bucketSize:l,container:s.current,isLibraryLoaded:o,timeRange:n,onTimeRangeChange:a}),x=(0,q.useRef)(!1);!function(e){let{widget:t,isChartReady:i,containerRef:r,isHoveringRef:l}=e,{setHoveredPrice:n,setSelectedCandle:a,liveCandle:s}=(0,eC.useCurrencyChart)(),c=(0,q.useRef)(void 0),o=(0,q.useRef)(s),u=(0,q.useRef)(null);(0,q.useEffect)(()=>{o.current=s},[s]);let d=(0,q.useCallback)(()=>{l.current=!1,n(void 0),a(o.current)},[n,a,l]);(0,q.useEffect)(()=>{let e;if(!(t&&i))return;try{e=t.activeChart()}catch(e){return}let r=(e,t)=>e.find(e=>e.title.toLowerCase()===t.toLowerCase()),s=e=>{var t,i,s,o,u,h,m,f,g;let x;if(null==e.time)return void d();let p=null==(t=e.entityValues)?void 0:t._seriesId;if(null==p?void 0:p.values){let e=r(p.values,"close");(null==e?void 0:e.value)!=null&&(x=Number.parseFloat(e.value.replace(/,/g,"")))}if(null==x||Number.isNaN(x))if(null==e.price||Number.isNaN(e.price))return void d();else x=e.price;let y=1e3*e.time;if(n({value:(0,em.bn)(x.toString()),time:new Date(y)}),null==p?void 0:p.values){let t=r(p.values,"close"),n=r(p.values,"open"),d=r(p.values,"high"),y=r(p.values,"low"),v=r(p.values,"volume"),w="0";if(null==v?void 0:v.value)w=eK(v.value);else{let t=function(e){if(e){for(let t of Object.values(e))if(null==t?void 0:t.values)for(let e of t.values){let t=e.title.toLowerCase();if(eY.some(e=>t===e||t.startsWith("".concat(e," ")))&&e.value)return eK(e.value)}}}(e.entityValues);t&&(w=t)}let C=x.toString(),j={time:e.time.toString(),open:null!=(h=null==n||null==(i=n.value)?void 0:i.replace(/,/g,""))?h:C,high:null!=(m=null==d||null==(s=d.value)?void 0:s.replace(/,/g,""))?m:C,low:null!=(f=null==y||null==(o=y.value)?void 0:o.replace(/,/g,""))?f:C,close:null!=(g=null==t||null==(u=t.value)?void 0:u.replace(/,/g,""))?g:C,volume:w};l.current=!0,a(j),c.current=j}};try{let t=e.crossHairMoved();t.subscribe(null,s),u.current={subscription:t,handler:s}}catch(e){}return()=>{if(u.current){try{u.current.subscription.unsubscribe(null,u.current.handler)}catch(e){}u.current=null}l.current=!1,c.current=void 0}},[t,i,n,a,d]),(0,q.useEffect)(()=>{let e=r.current;if(!e)return;let t=()=>{d()};return e.addEventListener("mouseleave",t),()=>{e.removeEventListener("mouseleave",t)}},[r,d])}({widget:h,isChartReady:f,containerRef:s,isHoveringRef:x});let p=eD[l],y=(0,$.useIsTradingViewAnnotationsEnabled)(),{rawActivities:v}=(0,eA.useCurrencyChartAnnotations)();(0,q.useEffect)(()=>{m&&(m.setBucketSize(l),m.setSwapActivities(y?v:[]),h&&f&&h.activeChart().refreshMarks())},[m,h,f,v,l,y]);let w=(0,el.useClient)(),{setLivePrice:C,setChartStartingPrice:j,setLiveCandle:T,setSelectedCandle:N,openIndicatorsRef:b,setIsChartReady:k}=(0,eC.useCurrencyChart)();(0,q.useEffect)(()=>{k(f)},[f,k]),(0,q.useEffect)(()=>(h&&f&&(b.current=()=>{h.activeChart().executeActionById("insertIndicator")}),()=>{b.current=null}),[h,f,b]);let E=null==n?void 0:n.startTime.getTime();(0,q.useEffect)(()=>{if(!n||void 0===E)return void j(void 0);let e=!0,t=n.startTime;async function i(){let i=(0,_.candleBucketSizeToSeconds)(l),r=(0,eI.addSeconds)(t,3*i),{data:n,error:a}=await w.query(eN.CurrencyCandlestickChartQuery,{startTime:t.toISOString(),endTime:r.toISOString(),contractIdentifier:{chain:d.chainIdentifier,address:d.contractAddress},bucketSize:l,fillTimeWindow:!0});if(!e||a)return;let s=null==n?void 0:n.currencyOhlcvCandles2;if(s&&s.length>0){let e=t.getTime(),i=s[0],r=Math.abs((0,eM.parseISO)(s[0].time).getTime()-e);for(let t of s){let l=Math.abs((0,eM.parseISO)(t.time).getTime()-e);l<r&&(r=l,i=t)}j({value:(0,em.bn)(i.close),time:(0,eM.parseISO)(i.time)})}}return j(void 0),i(),()=>{e=!1,j(void 0)}},[E,l,d.chainIdentifier,d.contractAddress,w,j,n]);let O=(0,q.useMemo)(()=>{var e;if(!(null==(e=d.tokenGroup)?void 0:e.currencies))return[d];let t=(0,em.bn)(d.usdPrice);if(t.isZero())return[d];let i=t.multipliedBy(.01);return d.tokenGroup.currencies.filter(e=>(0,em.bn)(e.usdPrice).minus(t).abs().isLessThanOrEqualTo(i))},[d]);ew(d,O,e=>{let t;if(e.livePrice&&m&&(e.currencyIdentifier.contractAddress!==d.contractAddress||e.currencyIdentifier.chainIdentifier!==d.chainIdentifier)){let t=m.getLastBar(p);if(!t)return;let i=Number.parseFloat(e.livePrice.value.toString()),r=t.close;if(r>0&&Math.abs(i-r)/r>.01)return}if(e.livePrice&&C({value:(0,em.bn)(e.livePrice.value),time:new Date(e.livePrice.timestamp)}),!m)return;let i=e=>{let t={time:(e.time/1e3).toString(),open:e.open.toString(),high:e.high.toString(),low:e.low.toString(),close:e.close.toString(),volume:e.volume.toString()};T(t),x.current||N(t)};if("ONE_MINUTE"===l&&e.oneMinuteCandle?t=e.oneMinuteCandle:"ONE_DAY"===l&&e.oneDayCandle?t=e.oneDayCandle:"FIFTEEN_MINUTES"===l&&e.fifteenMinuteCandle?t=e.fifteenMinuteCandle:"FOUR_HOURS"===l&&e.fourHourCandle&&(t=e.fourHourCandle),t){let e=(0,eM.parseISO)(t.time).getTime(),r=m.getLastBar(p);if(!r||e>r.time){let r={time:e,open:Number.parseFloat(t.open),high:Number.parseFloat(t.high),low:Number.parseFloat(t.low),close:Number.parseFloat(t.close),volume:Number.parseFloat(t.volume)};m.updateBar(r,p),i(r);return}if(e===r.time){let e=0===r.volume,l={time:r.time,open:r.open,high:Math.max(r.high,Number.parseFloat(t.high)),low:Math.min(r.low,Number.parseFloat(t.low)),close:e?Number.parseFloat(t.close):r.close,volume:Math.max(r.volume,Number.parseFloat(t.volume))};m.updateBar(l,p),i(l);return}}if(e.livePrice){let t=e.livePrice,r=Number.parseFloat(t.value.toString()),n=Number.parseFloat(t.volume.toString()),a=1e3*(0,_.candleBucketSizeToSeconds)(l),s=m.getLastBar(p);if(!s){let e={time:Math.floor(new Date(t.timestamp).getTime()/a)*a,open:r,high:r,low:r,close:r,volume:n};m.updateBar(e,p),i(e);return}let c=new Date(t.timestamp).getTime(),o=Math.floor(s.time/a),u=Math.floor(c/a);if(u>o){let e=s.close,t={time:u*a,open:e,high:Math.max(e,r),low:Math.min(e,r),close:r,volume:n};m.updateBar(t,p),i(t)}else if(c>=s.time-5e3){let e={time:s.time,open:s.open,high:Math.max(s.high,r),low:Math.min(s.low,r),close:r,volume:s.volume+n};m.updateBar(e,p),i(e)}}});let I="ONE_SECOND"!==l;return(0,q.useEffect)(()=>{let e;if(!(I&&m))return;let t=!0;return!function i(){if(!(m&&t))return;let r=m.getLastBar(p);if(!r)return;let n=1e3*(0,_.candleBucketSizeToSeconds)(l),a=Date.now(),s=r.time+n,c=s-a;if(c<=0){let t={time:s,open:r.close,high:r.close,low:r.close,close:r.close,volume:0};m.updateBar(t,p),e=setTimeout(i,n+c);return}e=setTimeout(i,c)}(),()=>{t=!1,e&&clearTimeout(e)}},[m,l,p,I]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eF.default,{crossOrigin:"anonymous",integrity:"sha384-ps2eN9fLV7ZqZdcsPDHIGn1q9oJT1mcz9Rxs8nCfd052n9xM2ApJwHUufwYqW/cF",onLoad:()=>u(!0),src:eB.TRADING_VIEW_SCRIPT_SRC,strategy:"afterInteractive"}),(0,t.jsxs)("div",{className:(0,c.classNames)(eZ,"-mx-2 w-[calc(100%+16px)] lg:pt-1","relative"),"data-testid":"currency-tradingview-candlestick-chart",children:[(0,t.jsx)("div",{className:(0,c.classNames)("size-full",!g&&"invisible"),ref:s}),!g&&(0,t.jsx)("div",{className:"absolute inset-0",children:(0,t.jsx)(S,{className:eZ})})]})]})},{fallback:(0,t.jsx)(S,{}),errorFallback:(0,t.jsx)(ea,{className:eZ}),ssr:!1});var e$=e.i(820130),eJ=e.i(950293),eX=e.i(35782);function e0(e){let{value:i,onChange:r,chartVariant:l}=e,n=(0,V.useTranslations)("CurrencyCandleSizeToggleGroup"),a=(0,eX.useCandleSizeEnumName)(),s=(0,eX.useLongCandleSizeEnumName)(),c=(0,$.useIsLiveTimeframeEnabled)(),o=["ONE_DAY","FOUR_HOURS","ONE_HOUR","FIFTEEN_MINUTES","FIVE_MINUTES","ONE_MINUTE",...c?["ONE_SECOND"]:[]],d=(0,u.useIsLessThanMd)(),h="CANDLESTICKS"===l,m=(0,q.useMemo)(()=>("ONE_SECOND"!==i||c)&&o.includes(i)?i:"ONE_MINUTE",[i,o,c]);(0,q.useEffect)(()=>{m!==i&&r(m)},[m,i,r]);let f="";return f=n(d?h?"candleSizeCompact":"intervalSizeCompact":h?"candleSize":"intervalSize"),(0,t.jsx)(e$.Select,{"aria-label":n(h?"selectCandleSize":"selectIntervalSize"),className:"w-min",onValueChange:e=>r(e),renderValue:e=>(0,t.jsxs)(I.FlexCenter,{className:"gap-1",children:[(0,t.jsxs)(eJ.TextBody,{color:"text-secondary",children:[f,":"]}),(0,t.jsx)(eJ.TextBody,{weight:"semibold",children:a(e)})]}),size:"sm",value:m,variant:"default",children:o.map(e=>(0,t.jsx)(e$.SelectItem,{value:e,children:s(e)},e))})}var e1=e.i(592471),e2=e.i(508833),e3=e.i(288403);let e5=(0,f.parseAsStringLiteral)(["price","marketcap"]),e4="price";var e7=e.i(794835),e9=e.i(491150),e6=e.i(457628),e8=e.i(395802),te=e.i(62793),tt=e.i(982391),ti=e.i(279853),tr=e.i(293514),tl=e.i(619023);function tn(e){let l,n,a,s=(0,i.c)(8),{currency:c,isOpen:o,setIsOpenAction:u}=e,d=(0,r.readFragment)(tl.CollectionCurrencyPreviewSheetFragment,c),h=(0,V.useTranslations)("CollectionCurrencyPreviewSheet"),m=null==d?void 0:d.collections;if(!m||0===m.length)return null;let f=m[0],g=e9.Link,x=(0,te.getCollectionUrl)(f);return s[0]!==h?(l=h("viewCollection"),s[0]=h,s[1]=l):l=s[1],s[2]!==l?(n=(0,t.jsx)(O.Button,{className:"w-full",variant:"secondary",children:l}),s[2]=l,s[3]=n):n=s[3],s[4]!==g||s[5]!==x||s[6]!==n?(a=(0,t.jsx)(g,{href:x,onClick:ta,variant:"unstyled",children:n}),s[4]=g,s[5]=x,s[6]=n,s[7]=a):a=s[7],(0,t.jsx)(ti.BottomSheet,{content:(0,t.jsxs)(ti.BottomSheetBody,{className:"gap-4 pt-4 pb-4",children:[(0,t.jsx)(tr.CollectionPreviewTooltipContent,{collection:(0,r.readFragment)(tl.CollectionCurrencyPreviewSheetFragment,f)}),a]}),onOpenChange:u,open:o,withCloseIcon:!1})}function ta(e){e.stopPropagation()}function ts(e){let l,n,a,s,c,o,d,h=(0,i.c)(16),{currency:m}=e,f=(0,r.readFragment)(tt.CollectionCurrencyPreviewFragment,m),g=null==f?void 0:f.collections,[x,p]=(0,q.useState)(!1);if(!g||0===g.length)return null;h[0]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{e.stopPropagation(),e.preventDefault(),p(!0)},h[0]=l):l=h[0],h[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(e7.CollectionLockupAvatar,{}),h[1]=n):n=h[1];let y=u.Media,v=e8.CollectionPreviewTooltip,w=g[0],C=e9.Link,j=(0,te.getCollectionUrl)(g[0]);return h[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(e7.CollectionLockupAvatar,{}),h[2]=a):a=h[2],h[3]!==g[0]?(s=(0,t.jsx)(e7.CollectionLockup,{collection:g[0],size:"xs",children:a}),h[3]=g[0],h[4]=s):s=h[4],h[5]!==C||h[6]!==j||h[7]!==s?(c=(0,t.jsx)(C,{className:"h-5",href:j,onClick:tc,variant:"unstyled",children:s}),h[5]=C,h[6]=j,h[7]=s,h[8]=c):c=h[8],h[9]!==v||h[10]!==g[0]||h[11]!==c?(o=(0,t.jsx)(v,{collection:w,children:c}),h[9]=v,h[10]=g[0],h[11]=c,h[12]=o):o=h[12],h[13]!==y||h[14]!==o?(d=(0,t.jsx)(y,{greaterThanOrEqual:"md",children:o}),h[13]=y,h[14]=o,h[15]=d):d=h[15],(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.Media,{lessThan:"md",children:[(0,t.jsx)(tn,{currency:f,isOpen:x,setIsOpenAction:p}),(0,t.jsx)(e6.UnstyledButton,{onClick:l,children:(0,t.jsx)(e7.CollectionLockup,{collection:g[0],size:"xs",children:n})})]}),d]})}function tc(e){e.stopPropagation()}var to=e.i(367750);e.i(257620);var tu=e.i(922364),td=e.i(375381),th=e.i(567089);e.i(873767);var tm=e.i(452012),tf=e.i(758935);function tg(e){let l,n,a,s,o,u=(0,i.c)(15),{currency:d,className:h}=e,m=(0,r.readFragment)(tf.CurrencyMetadataChipsFragment,d),f=(0,V.useTranslations)("CurrencyMetadataChips"),g=(0,td.useRelativeTimeFormatter)(),x=(0,tu.useDateTimeFormatter)(),p=I.FlexCenter;u[0]!==h?(l=(0,c.classNames)("scrollbar-hidden w-full flex-wrap gap-2 overflow-auto lg:flex-nowrap",h),u[0]=h,u[1]=l):l=u[1],u[2]!==f?(n=f("token"),u[2]=f,u[3]=n):n=u[3],u[4]!==n?(a=(0,t.jsx)(th.Chip,{children:n}),u[4]=n,u[5]=a):a=u[5];let y=m.tokenGroup&&m.tokenGroup.currencies.length>1?(0,t.jsx)(th.Chip,{children:f("networkCount",{count:new Set(m.tokenGroup.currencies.map(tx)).size})}):(0,t.jsx)(tm.ChainChip,{chain:m.chain}),v=m.genesisDate&&(0,t.jsx)(A.Tooltip,{content:x(new Date(m.genesisDate),{display:"date"}),children:(0,t.jsx)(th.Chip,{children:g(new Date(m.genesisDate),{display:"standard"})})});return u[6]!==m?(s=(0,t.jsx)(to.NewCurrencyChip,{currency:m}),u[6]=m,u[7]=s):s=u[7],u[8]!==p||u[9]!==l||u[10]!==a||u[11]!==y||u[12]!==v||u[13]!==s?(o=(0,t.jsxs)(p,{className:l,children:[a,y,v,s]}),u[8]=p,u[9]=l,u[10]=a,u[11]=y,u[12]=v,u[13]=s,u[14]=o):o=u[14],o}function tx(e){return e.chainIdentifier}e.i(646011);var tp=e.i(843243),ty=e.i(455580);e.i(652565);var tv=e.i(132553);function tw(){let e,r,l,n,a,s,c,o,u,d=(0,i.c)(25),h=(0,V.useTranslations)("CurrencyInfoCandle"),{selectedCandle:m}=(0,eC.useCurrencyChart)();return m?(d[0]!==h?(e=h("open"),d[0]=h,d[1]=e):e=d[1],d[2]!==m.open||d[3]!==e?(r=(0,t.jsx)(tC,{label:e,value:m.open}),d[2]=m.open,d[3]=e,d[4]=r):r=d[4],d[5]!==h?(l=h("high"),d[5]=h,d[6]=l):l=d[6],d[7]!==m.high||d[8]!==l?(n=(0,t.jsx)(tC,{label:l,value:m.high}),d[7]=m.high,d[8]=l,d[9]=n):n=d[9],d[10]!==h?(a=h("low"),d[10]=h,d[11]=a):a=d[11],d[12]!==m.low||d[13]!==a?(s=(0,t.jsx)(tC,{label:a,value:m.low}),d[12]=m.low,d[13]=a,d[14]=s):s=d[14],d[15]!==h?(c=h("volume"),d[15]=h,d[16]=c):c=d[16],d[17]!==m.volume||d[18]!==c?(o=(0,t.jsx)(tC,{label:c,value:m.volume}),d[17]=m.volume,d[18]=c,d[19]=o):o=d[19],d[20]!==r||d[21]!==n||d[22]!==s||d[23]!==o?(u=(0,t.jsx)("div",{className:"min-w-0 pr-2",children:(0,t.jsxs)(I.FlexCenter,{className:"flex-nowrap gap-x-3 gap-y-1",children:[r,n,s,o]})}),d[20]=r,d[21]=n,d[22]=s,d[23]=o,d[24]=u):u=d[24],u):null}function tC(e){let r,l,n,a=(0,i.c)(7),{label:s,value:c}=e;return a[0]!==s?(r=(0,t.jsxs)(eJ.TextBody,{color:"text-secondary",children:[s,":"]}),a[0]=s,a[1]=r):r=a[1],a[2]!==c?(l=(0,t.jsx)(eJ.TextBody,{weight:"semibold",children:(0,t.jsx)(tv.CurrencyPriceDisplay,{stableSignificantDigits:!0,value:c})}),a[2]=c,a[3]=l):l=a[3],a[4]!==r||a[5]!==l?(n=(0,t.jsxs)(I.FlexCenter,{className:"gap-1",children:[r,l]}),a[4]=r,a[5]=l,a[6]=n):n=a[6],n}var tj=e.i(829726);function tS(e){let r,l,n=(0,i.c)(13),{date:a,bucketSize:s}=e,c=(0,tu.useDateTimeFormatter)(),o=(0,tj.useClock)(),u=null!=a?a:o,d=(0,_.candleBucketSizeToSeconds)(s)>=(0,_.candleBucketSizeToSeconds)("ONE_DAY"),h=d?"date":"datetime";if(!(0,X.useIsHydrated)()){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(eJ.TextBodySkeleton,{className:"w-[140px]"}),n[0]=e):e=n[0],e}if(n[1]!==s||n[2]!==a||n[3]!==h||n[4]!==u||n[5]!==c||n[6]!==d){let e;n[8]!==a||n[9]!==d?(e=d&&a&&{timeZone:"UTC"},n[8]=a,n[9]=d,n[10]=e):e=n[10],r=c(u,{display:h,year:"numeric",..."ONE_SECOND"===s&&{second:"numeric"},...e}),n[1]=s,n[2]=a,n[3]=h,n[4]=u,n[5]=c,n[6]=d,n[7]=r}else r=n[7];return n[11]!==r?(l=(0,t.jsx)(eJ.TextBody,{color:"text-secondary",children:r}),n[11]=r,n[12]=l):l=n[12],l}var tT=e.i(34331),tN=e.i(738480),tb=e.i(209959),tk=e.i(625236);function tE(e){let r,l,n,a,s,c,o=(0,i.c)(17),{value:u,change:d,chartStartTime:h,animationValue:m}=e,f=(0,tu.useDateTimeFormatter)(),g=h?"Since ".concat(f(h,{display:"datetime"})):void 0;if(void 0===u){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(t_,{}),o[0]=e):e=o[0],e}o[1]!==m||o[2]!==u?(r=void 0!==m?(0,em.bn)(m).toNumber():(0,em.bn)(u).toNumber(),o[1]=m,o[2]=u,o[3]=r):r=o[3];let x=r;return o[4]!==u?(l=u.toNumber(),o[4]=u,o[5]=l):l=o[5],o[6]!==l?(n=(0,t.jsx)(tk.TextHeading,{"data-testid":"currency-info-marketcap-heading",size:"lg",children:(0,t.jsx)(tN.NumberDisplay,{bounded:!1,display:"usd",value:l})}),o[6]=l,o[7]=n):n=o[7],o[8]!==x||o[9]!==n?(a=(0,t.jsx)(tT.ChangeAnimation,{display:"usd-full",value:x,children:n}),o[8]=x,o[9]=n,o[10]=a):a=o[10],o[11]!==d||o[12]!==g?(s=void 0!==d&&g?(0,t.jsx)(A.Tooltip,{content:g,children:(0,t.jsx)(tb.StatChangeCallout,{change:d})}):(0,t.jsx)(tb.StatChangeCallout,{change:d}),o[11]=d,o[12]=g,o[13]=s):s=o[13],o[14]!==a||o[15]!==s?(c=(0,t.jsxs)(C.Flex,{className:"items-center gap-4",children:[a,s]}),o[14]=a,o[15]=s,o[16]=c):c=o[16],c}function t_(){let e,r=(0,i.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(C.Flex,{className:"items-end gap-4",children:[(0,t.jsx)(j.SkeletonLine,{className:"h-10 w-32"}),(0,t.jsx)(j.SkeletonLine,{className:"h-6 w-16"})]}),r[0]=e):e=r[0],e}function tO(e){let r,l,n,a,s,c=(0,i.c)(15),{value:o,change:u,chartStartTime:d,animationValue:h}=e,m=(0,tu.useDateTimeFormatter)(),f=d?"Since ".concat(m(d,{display:"datetime"})):void 0;if(void 0===o){let e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(tI,{}),c[0]=e):e=c[0],e}c[1]!==h||c[2]!==o?(r=void 0!==h?(0,em.bn)(h).toNumber():(0,em.bn)(o).toNumber(),c[1]=h,c[2]=o,c[3]=r):r=c[3];let g=r;return c[4]!==o?(l=(0,t.jsx)(tk.TextHeading,{"data-testid":"currency-info-price-heading",size:"lg",children:(0,t.jsx)(tv.CurrencyPriceDisplay,{stableSignificantDigits:!0,value:o})}),c[4]=o,c[5]=l):l=c[5],c[6]!==g||c[7]!==l?(n=(0,t.jsx)(tT.ChangeAnimation,{display:"usd-full",value:g,children:l}),c[6]=g,c[7]=l,c[8]=n):n=c[8],c[9]!==u||c[10]!==f?(a=void 0!==u&&f?(0,t.jsx)(A.Tooltip,{content:f,children:(0,t.jsx)(tb.StatChangeCallout,{change:u})}):(0,t.jsx)(tb.StatChangeCallout,{change:u}),c[9]=u,c[10]=f,c[11]=a):a=c[11],c[12]!==n||c[13]!==a?(s=(0,t.jsxs)(C.Flex,{className:"items-center gap-4",children:[n,a]}),c[12]=n,c[13]=a,c[14]=s):s=c[14],s}function tI(){let e,r=(0,i.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(C.Flex,{className:"items-end gap-4",children:[(0,t.jsx)(j.SkeletonLine,{className:"h-10 w-32"}),(0,t.jsx)(j.SkeletonLine,{className:"h-6 w-16"})]}),r[0]=e):e=r[0],e}function tM(e){let r,l,n,a,s,c,o,d,h=(0,i.c)(21),{showMarketCapPrimary:m,displayValue:f,marketCapUsd:g,displayMode:x,onToggle:p}=e,y=(0,V.useTranslations)("CurrencyInfo"),v="marketcap"===x,w=void 0!==g;if(!(m||w||v))return null;let C=m||v&&!w;h[0]!==C||h[1]!==y?(r=y(C?"price":"marketCap"),h[0]=C,h[1]=y,h[2]=r):r=h[2];let j=r;h[3]!==f||h[4]!==g||h[5]!==C?(l=C?(0,t.jsx)(tv.CurrencyPriceDisplay,{stableSignificantDigits:!0,value:f}):g&&(0,t.jsx)(tN.NumberDisplay,{bounded:!1,display:"usd",value:g.toNumber()}),h[3]=f,h[4]=g,h[5]=C,h[6]=l):l=h[6];let S=l;return h[7]!==j?(n=(0,t.jsx)(u.Media,{greaterThanOrEqual:"md",children:(0,t.jsxs)(eJ.TextBody,{color:"text-secondary",children:[j,":"]})}),h[7]=j,h[8]=n):n=h[8],h[9]!==S?(a=(0,t.jsx)(eJ.TextBody,{weight:"semibold",children:S}),h[9]=S,h[10]=a):a=h[10],h[11]!==n||h[12]!==a?(s=(0,t.jsxs)(I.FlexCenter,{className:"gap-1",children:[n,a]}),h[11]=n,h[12]=a,h[13]=s):s=h[13],h[14]!==j?(c=(0,t.jsx)(u.Media,{lessThan:"md",children:(0,t.jsx)(eJ.TextBody,{className:"self-end",color:"text-secondary",children:j})}),h[14]=j,h[15]=c):c=h[15],h[16]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(u.Media,{greaterThanOrEqual:"md",children:(0,t.jsx)(M.Separator,{className:"h-4",orientation:"vertical"})}),h[16]=o):o=h[16],h[17]!==p||h[18]!==s||h[19]!==c?(d=(0,t.jsxs)(e6.UnstyledButton,{className:"flex flex-col items-center gap-0 md:flex-row md:gap-2",onClick:p,children:[s,c,o]}),h[17]=p,h[18]=s,h[19]=c,h[20]=d):d=h[20],d}var tF=e.i(931266),tB=e.i(155757),tA=e.i(806957),tD=e.i(895032),tR=e.i(72087),tL=e.i(516741),tz=e.i(701211),tU=e.i(930276),tP=e.i(796579),tV=e.i(92942),tq=e.i(243744),tH=e.i(195344);e.i(500598);var tG=e.i(207225),tY=e.i(864102),tK=e.i(309830);function tW(e){var l,n,a,s,c,o,u,d,h,m,f;let g,x,p,y,v,w,C,j,S,T,N,b,k,E=(0,i.c)(44),{currency:_}=e,O=(0,r.readFragment)(tK.CurrencyLinksFragment,_),M=(0,tF.useBlockExplorer)(O.chain.identifier),F=M.getAddressUrl(O.contractAddress),[B,D]=(0,q.useState)(!1),R=(0,tG.useAddress)(),L=(0,V.useTranslations)("CurrencyLinks"),z=(null==(n=O.metadata)||null==(l=n.fullCollection.twitterUsername)?void 0:l.trim())||(null==(s=O.socials)||null==(a=s.twitterHandle)?void 0:a.trim())||void 0,U=(null==(o=O.metadata)||null==(c=o.fullCollection.discordUrl)?void 0:c.trim())||void 0,P=(null==(d=O.metadata)||null==(u=d.fullCollection.externalUrl)?void 0:u.trim())||(null==(m=O.socials)||null==(h=m.website)?void 0:h.trim())||void 0,H=I.FlexCenter,G=O.contractAddress;E[0]!==L?(g=L("copyAddress"),E[0]=L,E[1]=g):g=E[1],E[2]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(tz.ContentCopy,{fill:"interactive-primary-styles",size:20}),E[2]=x):x=E[2],E[3]!==O.contractAddress||E[4]!==g?(p=(0,t.jsx)(tD.CopyToClipboard,{text:G,tooltipText:g,children:x}),E[3]=O.contractAddress,E[4]=g,E[5]=p):p=E[5],E[6]!==M||E[7]!==F||E[8]!==L?(y=F?(0,t.jsx)(A.Tooltip,{content:L("viewOnBlockExplorer",{name:M.getName()}),children:(0,t.jsx)(e9.Link,{href:F,variant:"unstyled",children:(0,t.jsx)(tB.Avatar,{...M.getLogo(),className:(0,tL.textColorVariants)({color:"interactive-primary-styles"}),size:20})})}):null,E[6]=M,E[7]=F,E[8]=L,E[9]=y):y=E[9];let Y=P?(0,t.jsx)(tV.SocialLinks.Website,{href:(0,tY.getValidUrl)(P)}):null;E[10]!==z?(v=z?(0,t.jsx)(tV.SocialLinks.Twitter,{username:z}):null,E[10]=z,E[11]=v):v=E[11];let K=(null==(f=O.socials)?void 0:f.telegramIdentifier)?(0,t.jsx)(tV.SocialLinks.Telegram,{username:O.socials.telegramIdentifier}):null,W=U?(0,t.jsx)(tV.SocialLinks.Discord,{href:(0,tY.getValidUrl)(U)}):null;return E[12]!==M||E[13]!==F||E[14]!==L?(w=F?(0,t.jsxs)(tR.DropdownItem,{href:F,children:[(0,t.jsx)(tR.DropdownItemAvatar,{...M.getLogo()}),(0,t.jsx)(tR.DropdownItemContent,{children:(0,t.jsx)(tR.DropdownItemTitle,{children:L("viewOnBlockExplorer",{name:M.getName()})})})]}):null,E[12]=M,E[13]=F,E[14]=L,E[15]=w):w=E[15],E[16]!==R||E[17]!==F||E[18]!==D||E[19]!==L?(C=R?(0,t.jsxs)(t.Fragment,{children:[F?(0,t.jsx)(tR.DropdownSeparator,{}):null,(0,t.jsxs)(tR.DropdownItem,{onClick:()=>D(!0),children:[(0,t.jsx)(tR.DropdownItemAvatar,{icon:tU.Flag}),(0,t.jsx)(tR.DropdownItemContent,{children:(0,t.jsx)(tR.DropdownItemTitle,{children:L("report")})})]})]}):null,E[16]=R,E[17]=F,E[18]=D,E[19]=L,E[20]=C):C=E[20],E[21]!==w||E[22]!==C?(j=(0,t.jsxs)(t.Fragment,{children:[w,C]}),E[21]=w,E[22]=C,E[23]=j):j=E[23],E[24]===Symbol.for("react.memo_cache_sentinel")?(S={Content:{className:"w-auto"}},E[24]=S):S=E[24],E[25]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)(e6.UnstyledButton,{children:(0,t.jsx)(tP.MoreHoriz,{size:20})}),E[25]=T):T=E[25],E[26]!==j?(N=(0,t.jsx)(tA.Dropdown,{content:j,overrides:S,children:T}),E[26]=j,E[27]=N):N=E[27],E[28]!==R||E[29]!==O.chain||E[30]!==O.contractAddress||E[31]!==B||E[32]!==D?(b=R?(0,t.jsx)(tq.ReportModal,{entityId:{chain:O.chain.identifier,contractAddress:O.contractAddress},entityType:tH.EntityType.CURRENCY,onOpenChange:D,open:B}):null,E[28]=R,E[29]=O.chain,E[30]=O.contractAddress,E[31]=B,E[32]=D,E[33]=b):b=E[33],E[34]!==H||E[35]!==W||E[36]!==N||E[37]!==b||E[38]!==p||E[39]!==y||E[40]!==Y||E[41]!==v||E[42]!==K?(k=(0,t.jsxs)(H,{className:"flex items-center gap-5",children:[p,y,Y,v,K,W,N,b]}),E[34]=H,E[35]=W,E[36]=N,E[37]=b,E[38]=p,E[39]=y,E[40]=Y,E[41]=v,E[42]=K,E[43]=k):k=E[43],k}function tZ(e){var l,n,a;let s,c,d,m,x,p,y,v,w,j,S,T,N,b,k,E,_,O,F,B,A,D,R,L,z,U,P,V,q,H,G,Y,K,W=(0,i.c)(100),{currency:Z,surface:Q,chartVariant:$,bucketSize:J,chartControls:ee,disclaimer:et,indicatorsButton:ei}=e,er=(0,r.readFragment)(ty.CurrencyInfoFragment,Z),{hoveredPrice:el,chartStartingPrice:en,livePrice:ea}=(0,eC.useCurrencyChart)(),{displayMode:es,setDisplayMode:ec}=function(){let e,t,r=(0,i.c)(8),l=(0,X.useIsHydrated)(),[n,a]=(0,h.useLocalStorage)("currency-display-mode-preference",e4),{displayMode:s,setDisplayMode:c}=function(){let e,t,r=(0,i.c)(5),[l,n]=(0,f.useQueryState)(g.QUERY_PARAM_KEYS.currencyDisplayMode,e5),a=null!=l?l:null;return r[0]!==n?(e=e=>n(e),r[0]=n,r[1]=e):e=r[1],r[2]!==a||r[3]!==e?(t={displayMode:a,setDisplayMode:e},r[2]=a,r[3]=e,r[4]=t):t=r[4],t}(),o=null!=s?s:l?n:e4;r[0]!==l||r[1]!==c||r[2]!==a?(e=e=>{l&&(c(e),a(e))},r[0]=l,r[1]=c,r[2]=a,r[3]=e):e=r[3];let u=e;return r[4]!==o||r[5]!==l||r[6]!==u?(t={displayMode:o,setDisplayMode:u,ready:l},r[4]=o,r[5]=l,r[6]=u,r[7]=t):t=r[7],t}(),eo=(null==(l=er.stats)?void 0:l.oneDay.priceChange)?(0,em.bn)(er.stats.oneDay.priceChange):void 0,ed=null==(n=er.stats)?void 0:n.totalSupply,eh="marketcap"===es&&!!ed,ef=void 0!==ea,eg=null!=(a=null==el?void 0:el.value)?a:null==ea?void 0:ea.value,ex=eg&&ed?eg.multipliedBy(ed):void 0,ep=(null==ea?void 0:ea.value)&&ed?ea.value.multipliedBy(ed):void 0,ey=en&&eg?eg.minus(en.value).div(en.value):ef?eo:void 0,ev=ey?ey.decimalPlaces(2).toNumber():void 0;W[0]!==es||W[1]!==ec?(s=()=>{ec("marketcap"===es?"price":"marketcap")},W[0]=es,W[1]=ec,W[2]=s):s=W[2];let ew=s;W[3]!==es||W[4]!==eg||W[5]!==ex||W[6]!==eh||W[7]!==ew?(c=(0,t.jsx)(tM,{displayMode:es,displayValue:eg,marketCapUsd:ex,onToggle:ew,showMarketCapPrimary:eh}),W[3]=es,W[4]=eg,W[5]=ex,W[6]=eh,W[7]=ew,W[8]=c):c=W[8];let ej=c;W[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(e2.CurrencyLockupAvatar,{badge:null,className:"max-h-[500px] max-w-[500px]",size:1e3,style:{maxHeight:"min(500px, 90vw)",maxWidth:"min(500px, 90vw)"}}),W[9]=d):d=W[9],W[10]!==er?(m=(0,t.jsx)(eu.CenterAligned,{children:(0,t.jsx)(e2.CurrencyLockup,{currency:er,size:"3xl",children:d})}),W[10]=er,W[11]=m):m=W[11];let eS="collection"===Q?"sm":"3xl";return W[12]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(e2.CurrencyLockupAvatar,{badge:null}),W[12]=x):x=W[12],W[13]!==er||W[14]!==eS?(p=(0,t.jsx)(e2.CurrencyLockup,{currency:er,size:eS,children:x}),W[13]=er,W[14]=eS,W[15]=p):p=W[15],W[16]!==m||W[17]!==p?(y=(0,t.jsx)(I.FlexCenter,{className:"self-start",children:(0,t.jsx)(e3.Lightbox,{content:m,children:p})}),W[16]=m,W[17]=p,W[18]=y):y=W[18],W[19]!==er?(v=(0,t.jsx)(u.Media,{lessThan:"lg",children:(0,t.jsx)(e2.CurrencyLockup,{className:"flex-wrap",currency:er,showAvatar:!1,showNewChip:!1,size:"lg"})}),W[19]=er,W[20]=v):v=W[20],W[21]!==er?(w=(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:(0,t.jsx)(e2.CurrencyLockup,{className:"flex-wrap",currency:er,showAvatar:!1,showNewChip:!1,size:"2xl"})}),W[21]=er,W[22]=w):w=W[22],W[23]!==w||W[24]!==v?(j=(0,t.jsx)(I.FlexCenter,{asChild:!0,className:"flex-wrap gap-2",children:(0,t.jsxs)("h1",{children:[v,w]})}),W[23]=w,W[24]=v,W[25]=j):j=W[25],W[26]!==er||W[27]!==Q?(S="page"===Q&&(0,t.jsx)(ts,{currency:er}),W[26]=er,W[27]=Q,W[28]=S):S=W[28],W[29]!==er||W[30]!==Q?(T="page"===Q&&(0,t.jsx)(tp.CurrencyHeaderWatchlistButton,{currency:er}),W[29]=er,W[30]=Q,W[31]=T):T=W[31],W[32]!==j||W[33]!==S||W[34]!==T?(N=(0,t.jsxs)(C.Flex,{className:"min-w-0 items-center gap-2",children:[j,S,T]}),W[32]=j,W[33]=S,W[34]=T,W[35]=N):N=W[35],W[36]!==er||W[37]!==Q?(b="page"===Q&&(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:(0,t.jsxs)(I.FlexCenter,{className:"h-8 gap-4 self-start",children:[(0,t.jsx)(M.Separator,{className:"h-6 w-[2px]",orientation:"vertical"}),(0,t.jsx)(tW,{currency:er})]})}),W[36]=er,W[37]=Q,W[38]=b):b=W[38],W[39]!==N||W[40]!==b?(k=(0,t.jsxs)(I.FlexCenter,{className:"gap-4",children:[N,b]}),W[39]=N,W[40]=b,W[41]=k):k=W[41],W[42]!==er||W[43]!==Q?(E="page"===Q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Media,{lessThan:"lg",children:(0,t.jsx)(tW,{currency:er})}),(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:(0,t.jsx)(tg,{currency:er})})]}),W[42]=er,W[43]=Q,W[44]=E):E=W[44],W[45]!==k||W[46]!==E?(_=(0,t.jsxs)(o.FlexColumn,{className:"gap-2 lg:gap-1",children:[k,E]}),W[45]=k,W[46]=E,W[47]=_):_=W[47],W[48]!==_||W[49]!==y?(O=(0,t.jsxs)(I.FlexCenter,{className:"gap-4",children:[y,_]}),W[48]=_,W[49]=y,W[50]=O):O=W[50],W[51]!==er||W[52]!==Q?(F="page"===Q&&(0,t.jsx)(u.Media,{lessThan:"lg",children:(0,t.jsx)(tg,{currency:er})}),W[51]=er,W[52]=Q,W[53]=F):F=W[53],W[54]!==(null==en?void 0:en.time)||W[55]!==ev||W[56]!==eg||W[57]!==ep||W[58]!==(null==ea?void 0:ea.value)||W[59]!==ex||W[60]!==eh?(B=eh?(0,t.jsx)(tE,{animationValue:ep,change:ev,chartStartTime:null==en?void 0:en.time,value:ex}):(0,t.jsx)(tO,{animationValue:null==ea?void 0:ea.value,change:ev,chartStartTime:null==en?void 0:en.time,value:eg}),W[54]=null==en?void 0:en.time,W[55]=ev,W[56]=eg,W[57]=ep,W[58]=null==ea?void 0:ea.value,W[59]=ex,W[60]=eh,W[61]=B):B=W[61],W[62]!==ee?(A=(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:ee}),W[62]=ee,W[63]=A):A=W[63],W[64]!==ej?(D=(0,t.jsx)(u.Media,{lessThan:"lg",children:ej}),W[64]=ej,W[65]=D):D=W[65],W[66]!==B||W[67]!==A||W[68]!==D?(R=(0,t.jsxs)(I.FlexCenter,{className:"w-full justify-between gap-2",children:[B,A,D]}),W[66]=B,W[67]=A,W[68]=D,W[69]=R):R=W[69],W[70]!==ej?(L=(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:ej}),W[70]=ej,W[71]=L):L=W[71],W[72]!==J||W[73]!==$||W[74]!==(null==el?void 0:el.time)?(z="LINE"===$?(0,t.jsx)(tS,{bucketSize:J,date:null==el?void 0:el.time}):(0,t.jsx)(tw,{}),W[72]=J,W[73]=$,W[74]=null==el?void 0:el.time,W[75]=z):z=W[75],W[76]!==L||W[77]!==z?(U=(0,t.jsxs)(I.FlexCenter,{className:"min-w-0 gap-2",children:[L,z]}),W[76]=L,W[77]=z,W[78]=U):U=W[78],W[79]!==et?(P=(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:et}),W[79]=et,W[80]=P):P=W[80],W[81]!==ei?(V=(0,t.jsx)(u.Media,{greaterThanOrEqual:"lg",children:ei}),W[81]=ei,W[82]=V):V=W[82],W[83]!==P||W[84]!==V?(q=(0,t.jsxs)(I.FlexCenter,{className:"gap-2",children:[P,V]}),W[83]=P,W[84]=V,W[85]=q):q=W[85],W[86]!==U||W[87]!==q?(H=(0,t.jsxs)(I.FlexCenter,{className:"justify-between",children:[U,q]}),W[86]=U,W[87]=q,W[88]=H):H=W[88],W[89]!==ee||W[90]!==ei?(G=(0,t.jsx)(u.Media,{lessThan:"lg",children:(0,t.jsxs)(o.FlexColumn,{className:"items-start gap-3",children:[ee,ei]})}),W[89]=ee,W[90]=ei,W[91]=G):G=W[91],W[92]!==R||W[93]!==H||W[94]!==G?(Y=(0,t.jsxs)(o.FlexColumn,{className:"w-full gap-3",children:[R,H,G]}),W[92]=R,W[93]=H,W[94]=G,W[95]=Y):Y=W[95],W[96]!==O||W[97]!==F||W[98]!==Y?(K=(0,t.jsxs)(o.FlexColumn,{className:"w-full select-text gap-4 lg:gap-6",children:[O,F,Y]}),W[96]=O,W[97]=F,W[98]=Y,W[99]=K):K=W[99],K}function tQ(e){let{value:i,onChange:r}=e,l=(0,eX.useTimeframeEnumName)(),n=(0,eX.useLongTimeframeEnumName)(),a=(0,V.useTranslations)("CurrencyTimeframeToggleGroup"),s=(0,$.useIsLiveTimeframeEnabled)(),c=(0,q.useMemo)(()=>["ALL_TIME","ONE_YEAR","THIRTY_DAYS","SEVEN_DAYS","ONE_DAY","ONE_HOUR",...s?["FIVE_MINUTE"]:[]],[s]),o=(0,u.useIsLessThanMd)(),d=(0,q.useMemo)(()=>"FIVE_MINUTE"!==i||s?c.includes(i)?i:"ALL_TIME":c.includes("ONE_HOUR")?"ONE_HOUR":"ALL_TIME",[i,c,s]);return(0,q.useEffect)(()=>{d!==i&&r(d,!1)},[d,i,r]),(0,t.jsx)(e$.Select,{"aria-label":a("selectTimeframe"),className:"w-min",onValueChange:e=>r(e),renderValue:e=>(0,t.jsxs)(I.FlexCenter,{"aria-label":a("selectChartTimeframe"),className:"gap-1",children:[o?(0,t.jsxs)(eJ.TextBody,{color:"text-secondary",children:[a("timeframeCompact"),":"]}):(0,t.jsxs)(eJ.TextBody,{color:"text-secondary",children:[a("timeframe"),":"]}),(0,t.jsx)(eJ.TextBody,{weight:"semibold",children:l(e)})]}),size:"sm",value:d,variant:"default",children:c.map(e=>(0,t.jsx)(e$.SelectItem,{value:e,children:n(e)},e))})}let t$=(0,q.createContext)(null),tJ=(0,q.createContext)(null);function tX(){let e,r,l,n,a=(0,i.c)(11),{openIndicatorsRef:s,isChartReady:c}=(0,eC.useCurrencyChart)(),o=(0,V.useTranslations)("CurrencyChart");a[0]!==o?(e=o("indicators"),a[0]=o,a[1]=e):e=a[1];let u=!c;return a[2]!==s?(r=()=>{var e;return null==(e=s.current)?void 0:e.call(s)},a[2]=s,a[3]=r):r=a[3],a[4]!==o?(l=o("indicators"),a[4]=o,a[5]=l):l=a[5],a[6]!==e||a[7]!==u||a[8]!==r||a[9]!==l?(n=(0,t.jsx)(O.Button,{"aria-label":e,disabled:u,icon:L,onClick:r,size:"sm",variant:"secondary",children:l}),a[6]=e,a[7]=u,a[8]=r,a[9]=l,a[10]=n):n=a[10],n}let t0=(0,P.default)(()=>e.A(984128).then(e=>({default:e.CurrencyTimeSeriesChart})),{loadableGenerated:{modules:[468842]},ssr:!1,loading(){let e=(0,q.useContext)(tJ);return(0,t.jsx)(w.CurrencyLineChartSkeleton,{timeframe:null==e?void 0:e.timeframe})}}),t1=(0,H.withSuspense)(e=>{let{currency:a,surface:s,className:c}=e,d=(0,r.readFragment)(e1.CurrencyChartFragment,a),[m,f]=(0,q.useState)(!1),{timeframe:g,setTimeframe:x,ready:y}=function(e){let t,r,l,n,a,s=(0,i.c)(12);s[0]!==e?(t=void 0===e?{}:e,s[0]=e,s[1]=t):t=s[1];let{createdAt:c}=t,o=(0,X.useIsHydrated)();s[2]!==c?(l=(0,ee.getDefaultTokenTimeframe)(c),s[2]=c,s[3]=l):l=s[3],r=l;let[u,d]=(0,h.useLocalStorage)(J.TOKEN_TIMEFRAME_PREFERENCE_COOKIE_NAME,r),{timeframe:m,setTimeframe:f}=(0,et.useTokenTimeframeQueryParam)(),g="ONE_HOUR"===r&&"ALL_TIME"===u,x=null!=m?m:o&&!g?u:r;s[4]!==o||s[5]!==f||s[6]!==d?(n=e=>{o&&(f(e),d(e))},s[4]=o,s[5]=f,s[6]=d,s[7]=n):n=s[7];let p=n;return s[8]!==o||s[9]!==p||s[10]!==x?(a={timeframe:x,setTimeframe:p,ready:o},s[8]=o,s[9]=p,s[10]=x,s[11]=a):a=s[11],a}({createdAt:d.createdAt}),v=(0,$.useIsLiveTimeframeEnabled)(),w=(0,$.useIsTradingViewChartsEnabled)(),j=v||"FIVE_MINUTE"!==g?g:"ONE_HOUR",{candleSize:S,setCandleSize:T}=(e=>{let{timeframe:t,createdAt:i}=e,{candleSize:r,setCandleSize:l}=W(),n=(0,Z.useGetDefaultCandleSize)({createdAt:i}),[a,s]=(0,q.useState)(null!=r?r:n(t));return(0,q.useEffect)(function(){r?s(r):s(n(t))},[r,n]),{candleSize:a,setCandleSize:e=>{s(e),l((0,Y.toLowerCase)(e))}}})({timeframe:j,createdAt:d.createdAt}),{candleSize:N}=W(),b=(0,Z.useGetDefaultCandleSize)({createdAt:d.createdAt}),k=(0,V.useTranslations)("CurrencyChart"),E="0x0000000000000000000000000000000000000000"!==d.contractAddress&&"11111111111111111111111111111111"!==d.contractAddress,{chartVariant:O,setChartVariant:D}=function(e){let t,r,a,s,c,o,u=(0,i.c)(18),{isCandlestickChartEnabled:d,isCandlestickDataEmpty:m}=e,{persona:f}=(0,n.usePersona)();u[0]!==f?(t=(0,l.getDefaultChartMode)(f),u[0]=f,u[1]=t):t=u[1];let[g,x]=(0,h.useLocalStorage)("currency-chart-mode-preference",t),{chartVariant:y,setChartVariant:v}=p(),w=null!=y?y:g;u[2]!==f||u[3]!==v||u[4]!==x?(r=function(){let e=(0,l.getDefaultChartMode)(f);v(e),x(e)},u[2]=f,u[3]=v,u[4]=x,u[5]=r):r=u[5],(0,Q.useOnChange)(f,r),u[6]!==v||u[7]!==x?(a=e=>{v(e),x(e)},u[6]=v,u[7]=x,u[8]=a):a=u[8];let C=a;u[9]!==d||u[10]!==m?(s=e=>"CANDLESTICKS"===e&&(!d||m)?"LINE":e,u[9]=d,u[10]=m,u[11]=s):s=u[11];let j=s;return u[12]!==w||u[13]!==j?(c=j(w),u[12]=w,u[13]=j,u[14]=c):c=u[14],u[15]!==C||u[16]!==c?(o={chartVariant:c,setChartVariant:C},u[15]=C,u[16]=c,u[17]=o):o=u[17],o}({isCandlestickChartEnabled:E,isCandlestickDataEmpty:m}),{currencies:L}=(0,er.useCurrencyPageLayoutContext)(),P=Object.values(L).length>0?Object.values(L):[d],[H,G]=(0,q.useState)(),[K,el]=(0,q.useState)(),en=(()=>{let e=H?S:null!=N?N:b(j);return v||"ONE_SECOND"!==e?e:"ONE_MINUTE"})(),ea=(0,q.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];x(e);let i=(0,ee.getTimeRangeForTimeframe)(e,d.createdAt);G(i),el(i),t&&T(b(e))},[x,T,b,d.createdAt]),es=(0,q.useCallback)(e=>{if(!H)return;T(e),el({startTime:H.startTime,endTime:H.endTime});let t=(0,U.differenceInSeconds)(H.endTime,H.startTime);if(t<2*(0,_.candleBucketSizeToSeconds)(e))return void ea(eO.DEFAULT_TIMEFRAME_FOR_BUCKET_SIZE[e],!1);t>(0,_.timeframeToSeconds)(eO.DEFAULT_TIMEFRAME_FOR_BUCKET_SIZE[e])&&ea(eO.DEFAULT_TIMEFRAME_FOR_BUCKET_SIZE[e],!1)},[H,T,ea]);(0,q.useEffect)(function(){y&&ea(j,!N)},[y]);let ec=(0,q.useCallback)(e=>{G(e);let t=(0,ee.getTimeframe)(e.startTime,{isLiveTimeframeEnabled:v});"FIVE_MINUTE"!==t&&"ONE_SECOND"===S&&T("ONE_MINUTE"),x(t)},[x,T,S,v]);return(0,t.jsx)(eC.CurrencyChartProvider,{initialPrice:d.usdPrice,children:(0,t.jsx)(eA.CurrencyChartAnnotationsProvider,{currencyIdentifiers:P,timeframe:j,children:(0,t.jsxs)(o.FlexColumn,{className:"w-full gap-3",children:[(0,t.jsx)(F.SpaceBetween,{className:"flex-col items-start gap-3 xl:flex-row xl:gap-6",children:(0,t.jsx)(tZ,{bucketSize:en,chartControls:(0,t.jsxs)(I.FlexCenter,{className:"w-full flex-wrap justify-between gap-3 md:justify-end",children:[(0,t.jsxs)(C.Flex,{className:"gap-2",children:[(0,t.jsx)(tQ,{onChange:ea,value:j}),(0,t.jsx)(e0,{chartVariant:O,onChange:es,value:en})]}),E&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Media,{greaterThanOrEqual:"md",children:(0,t.jsx)(M.Separator,{className:"h-6",orientation:"vertical"})}),E?(0,t.jsxs)(B.ToggleButtonGroup,{onValueChange:e=>{D(e),el(H)},value:O,variant:"secondary",children:[(0,t.jsx)(A.Tooltip,{content:k("line"),children:(0,t.jsx)("span",{className:"w-full",children:(0,t.jsx)(B.ToggleButtonGroupItem,{icon:(0,t.jsx)(z.ShowChart,{}),value:"LINE"})})}),(0,t.jsx)(A.Tooltip,{content:k("proCharts"),children:(0,t.jsx)("span",{className:"w-full",children:(0,t.jsx)(B.ToggleButtonGroupItem,{icon:(0,t.jsx)(R,{}),value:"CANDLESTICKS"})})})]}):null]})]}),chartVariant:O,currency:d,disclaimer:(0,t.jsx)(ei.CurrencyDisclaimer,{chainIdentifier:d.chainIdentifier,chartVariant:O,isTradingViewChartEnabled:w,timeframe:j}),indicatorsButton:"CANDLESTICKS"===O&&w&&(0,t.jsx)(tX,{}),surface:s})}),"CANDLESTICKS"===O&&(w?(0,t.jsx)(eQ,{bucketSize:en,currency:d,onTimeRangeChange:ec,timeRange:H}):(0,t.jsx)(t$.Provider,{value:{bucketSize:en,currency:d,onTimeRangeChange:ec,timeRange:H,initialTimeRange:K},children:(0,t.jsx)(ek,{bucketSize:en,currency:d,initialTimeRange:K,onTimeRangeChange:ec,timeRange:H})})),"LINE"===O&&(0,t.jsx)(tJ.Provider,{value:{timeRange:H,currency:d,className:c,intervalSize:en,timeframe:j},children:(0,t.jsx)(t0,{className:c,currency:d,intervalSize:en,onTimeRangeChange:ec,timeframe:j,timeRange:H})})]})})})});var t2=e.i(975218),t3=e.i(751989),t5=e.i(196683),t4=e.i(665958),t7=e.i(333799),t9=e.i(149431),t6=e.i(264711),t8=e.i(338383),ie=e.i(921712),it=e.i(656278);e.i(676104);var ii=e.i(177464);function ir(){let e,r,l,n=(0,i.c)(3),a=(0,tG.useAddress)();return a&&"EVM"===(0,t6.getChainArchFromAddress)(a)?(n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,c.classNames)("flex h-auto w-full flex-col rounded-xl border border-frosted-2 bg-frosted-1 p-6 backdrop-blur-xl"),n[0]=e):e=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(eJ.TextBodySkeleton,{className:(0,c.classNames)("w-30"),size:"sm",variant:"on-background"}),n[1]=r):r=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(o.FlexColumn,{className:e,children:(0,t.jsx)(o.FlexColumn,{className:"gap-6",children:(0,t.jsxs)(o.FlexColumn,{className:"gap-4",children:[r,(0,t.jsx)(ii.StatDisplay,{className:"justify-between divide-x divide-border-1-transparent",size:"md",children:(0,t.jsx)(ii.StatDisplaySkeleton,{className:"w-full",count:6,dividers:!0,overrides:{Item:{className:"flex-1 items-start"}}})})]})})}),n[2]=l):l=n[2],l):null}let il=(0,H.withSuspense)(e=>{var i,l,n;let{currency:a}=e,s=(0,r.readFragment)(ie.WalletPositionStatsFragment,a),c=(0,V.useTranslations)("WalletPositionStats"),o=(0,tG.useAddress)(),[d,h]=(0,q.useState)(null),[m,f]=(0,q.useState)(!1),[g,x]=(0,q.useState)(!1),p=(0,q.useRef)(null),y=(0,q.useRef)(null),v=(0,q.useMemo)(()=>s.tokenGroup?s.tokenGroup.currencies:[s],[s]),w=v.every(e=>"solana"===e.chainIdentifier),C=o&&v.every(e=>e.chain.arch===(0,t6.getChainArchFromAddress)(o)),[{data:j,fetching:S},T]=(0,t7.useQuery)({query:ie.WalletPositionStatsQuery,variables:{address:null!=o?o:"",contracts:v.map(eg.currencyToContractIdentifierInput)},pause:!(C&&o)}),N=null!=(n=null==j||null==(l=j.currencyOwnershipsV2)||null==(i=l.items)?void 0:i.filter(e=>"CurrencyBalanceV2"===e.__typename))?n:[],b=N.reduce((e,t)=>(e.quantity+=Number(t.quantity)||0,e.usdValue+=Number(t.usdValue)||0,t.gainStats&&(e.invested+=t.gainStats.invested||0,e.realized+=t.gainStats.realized||0,e.unrealized+=t.gainStats.unrealized||0,e.gain+=t.gainStats.gain||0,e.hasGainStats=!0),e),{quantity:0,usdValue:0,invested:0,realized:0,unrealized:0,gain:0,hasGainStats:!1}),k=b.invested>0?b.gain/b.invested:0,E=(0,q.useCallback)(()=>{p.current&&(clearInterval(p.current),p.current=null),f(!1),y.current=null},[]),_=(0,q.useCallback)(()=>{f(!0),y.current=Date.now(),p.current=setInterval(async()=>{if(p.current){if(Date.now()-(y.current||0)>=6e4){E(),h(null);return}try{T({requestPolicy:"network-only"})}catch(e){console.error("Polling refetch failed:",e),E(),h(null)}}},5e3)},[T,E]);(0,q.useEffect)(()=>{m&&null!==d&&void 0!==b.quantity&&b.quantity!==d&&(E(),h(null)),g&&!S&&null!==d&&void 0!==b.quantity&&(x(!1),b.quantity!==d||m?b.quantity!==d&&h(null):_())},[b.quantity,d,m,g,S,E,_]);let O=(0,q.useCallback)(async()=>{let e=null!==d?d:b.quantity;null===d&&void 0!==e&&h(e);try{x(!0),T({requestPolicy:"network-only"})}catch(e){console.error("Initial refetch failed:",e),h(null),x(!1)}},[b.quantity,d,T]),{registerRefetch:I}=(0,t4.useSwapRefetch)();(0,q.useEffect)(()=>I(O),[I,O]),(0,q.useEffect)(()=>()=>E(),[E]);let M=!C||0===N.length,{quantity:F,usdValue:B,invested:A,realized:D,unrealized:R,hasGainStats:L}=b,z="font-medium",U=[{key:"holding",label:c("holding"),valueNode:(0,t.jsx)(t9.AnimatedNumber,{className:z,display:"quantity",value:F})},{key:"value",label:c("value"),valueNode:(0,t.jsx)(t9.AnimatedNumber,{bounded:!1,className:z,display:"usd",value:B})},...L&&!w?[{key:"invested",label:c("invested"),valueNode:(0,t.jsx)(t9.AnimatedNumber,{bounded:!1,className:z,display:"usd",value:A})},{key:"return",label:c("return"),valueNode:(0,t.jsx)(tb.StatChangeCallout,{change:k,iconPlacement:"end",overrides:{StatChange:{className:z}},withBackground:!1})},{key:"realized",label:c("realized"),valueNode:(0,t.jsx)(tb.StatChangeCallout,{change:D,iconPlacement:"end",overrides:{StatChange:{className:z,display:"usd"}},withBackground:!1})},{key:"unrealized",label:c("unrealized"),valueNode:(0,t.jsx)(tb.StatChangeCallout,{change:R,iconPlacement:"end",overrides:{StatChange:{className:z,display:"usd"}},withBackground:!1})}]:[]];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Media,{greaterThanOrEqual:"xl",children:(0,t.jsx)(t8.AnimatePresence,{initial:!1,children:S&&!j||M?null:(0,t.jsx)(it.WalletPositionStatsGrid,{stats:U})})}),(0,t.jsx)(u.Media,{lessThan:"xl",children:S?(0,t.jsx)(ir,{}):M?null:(0,t.jsx)(it.WalletPositionStatsGrid,{stats:U})})]})},{fallback:null}),ia=(0,d.tv)({slots:{container:"grid w-full grid-cols-12 gap-6",left:"col-span-12 flex flex-col gap-6 lg:col-span-8",right:(0,c.classNames)("col-span-12 lg:col-span-4",(0,v.topStickyVariants)({variant:"after-hero-header-tab-menu"}))},variants:{surface:{page:{container:"pt-4 pb-6"},collection:{container:"py-6"}}},defaultVariants:{surface:"page"}});function is(e){let l,n,d,h,m,f,g,x,p,v,w,C,j,S,T,N,b,k,E,_,O,I=(0,i.c)(66),{currency:M,surface:F,source:B}=e;if(I[0]!==M||I[1]!==F){let e,i,S,T,N,b,{container:k,left:E,right:_}=ia({surface:F});I[15]!==M?(e=(0,r.readFragment)(t2.CurrencyModuleFragment,M),I[15]=M,I[16]=e):e=I[16],f=e,I[17]!==f||I[18]!==F?(i=(0,t.jsx)(t1,{currency:f,surface:F}),I[17]=f,I[18]=F,I[19]=i):i=I[19];let O=i;m=a.Block,I[20]===Symbol.for("react.memo_cache_sentinel")?(j=(0,c.classNames)((0,y.fullBleedVariants)({width:"fullScreen",withTopNav:!0})),I[20]=j):j=I[20],h=s.Container;let B="page"===F&&"z-hero-header-content";I[21]!==B?(C=(0,c.classNames)("relative pt-sm-top-nav lg:pt-lg-top-nav",B),I[21]=B,I[22]=C):C=I[22],d=t4.SwapRefetchProvider,I[23]!==f?(S=(0,t.jsx)(t3.CurrencyStats,{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:flex md:justify-between [&>:last-child]:md:items-end",currency:f}),T=(0,t.jsx)(il,{currency:f}),I[23]=f,I[24]=S,I[25]=T):(S=I[24],T=I[25]),I[26]!==O||I[27]!==S||I[28]!==T?(w=(0,t.jsx)(u.Media,{lessThan:"lg",children:(0,t.jsxs)(o.FlexColumn,{className:"gap-10 pb-6",children:[O,S,T]})}),I[26]=O,I[27]=S,I[28]=T,I[29]=w):w=I[29],n=u.Media,v="lg",x=k(),I[30]!==f?(N=(0,t.jsx)(t3.CurrencyStats,{className:"justify-between [&>:last-child]:items-end",currency:f}),I[30]=f,I[31]=N):N=I[31],I[32]!==O||I[33]!==N?(b=(0,t.jsxs)(o.FlexColumn,{className:"gap-10",children:[O,N]}),I[32]=O,I[33]=N,I[34]=b):b=I[34],p=(0,t.jsx)("div",{className:E(),children:b}),l=o.FlexColumn,g=(0,c.classNames)(_(),"gap-6"),I[0]=M,I[1]=F,I[2]=l,I[3]=n,I[4]=d,I[5]=h,I[6]=m,I[7]=f,I[8]=g,I[9]=x,I[10]=p,I[11]=v,I[12]=w,I[13]=C,I[14]=j}else l=I[2],n=I[3],d=I[4],h=I[5],m=I[6],f=I[7],g=I[8],x=I[9],p=I[10],v=I[11],w=I[12],C=I[13],j=I[14];return I[35]!==f||I[36]!==B||I[37]!==F?(S=(0,t.jsx)(t5.CurrencySwapModule,{currency:f,source:B,surface:F}),I[35]=f,I[36]=B,I[37]=F,I[38]=S):S=I[38],I[39]!==f?(T=(0,t.jsx)(il,{currency:f}),I[39]=f,I[40]=T):T=I[40],I[41]!==l||I[42]!==g||I[43]!==S||I[44]!==T?(N=(0,t.jsxs)(l,{className:g,children:[S,T]}),I[41]=l,I[42]=g,I[43]=S,I[44]=T,I[45]=N):N=I[45],I[46]!==N||I[47]!==x||I[48]!==p?(b=(0,t.jsxs)("div",{className:x,children:[p,N]}),I[46]=N,I[47]=x,I[48]=p,I[49]=b):b=I[49],I[50]!==n||I[51]!==b||I[52]!==v?(k=(0,t.jsx)(n,{greaterThanOrEqual:v,children:b}),I[50]=n,I[51]=b,I[52]=v,I[53]=k):k=I[53],I[54]!==d||I[55]!==k||I[56]!==w?(E=(0,t.jsxs)(d,{children:[w,k]}),I[54]=d,I[55]=k,I[56]=w,I[57]=E):E=I[57],I[58]!==h||I[59]!==E||I[60]!==C?(_=(0,t.jsx)(h,{className:C,children:E}),I[58]=h,I[59]=E,I[60]=C,I[61]=_):_=I[61],I[62]!==m||I[63]!==_||I[64]!==j?(O=(0,t.jsx)(m,{className:j,children:_}),I[62]=m,I[63]=_,I[64]=j,I[65]=O):O=I[65],O}function ic(e){let r,a,s,c,d,m,f,g,x,y=(0,i.c)(14),{surface:v}=e,{container:C,left:j,right:T}=ia({surface:v}),{persona:N}=(0,n.usePersona)(),{chartVariant:b}=p();y[0]!==N?(r=(0,l.getDefaultChartMode)(N),y[0]=N,y[1]=r):r=y[1];let[k]=(0,h.useLocalStorage)("currency-chart-mode-preference",r),E=null!=b?b:k;y[2]!==E?(a="CANDLESTICKS"===E?(0,t.jsx)(S,{}):(0,t.jsx)(w.CurrencyLineChartSkeleton,{}),y[2]=E,y[3]=a):a=y[3];let _=a;y[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(t3.CurrencyStatsSkeleton,{}),c=(0,t.jsx)(ir,{}),y[4]=s,y[5]=c):(s=y[4],c=y[5]),y[6]!==_?(d=(0,t.jsx)(u.Media,{lessThan:"md",children:(0,t.jsxs)(o.FlexColumn,{className:"mb-20 gap-10",children:[_,s,c]})}),y[6]=_,y[7]=d):d=y[7];let O=C();y[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(t3.CurrencyStatsSkeleton,{}),y[8]=m):m=y[8],y[9]!==_?(f=(0,t.jsxs)(o.FlexColumn,{className:"gap-10",children:[_,m]}),y[9]=_,y[10]=f):f=y[10];let I=T();return y[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(o.FlexColumn,{className:"gap-6",children:(0,t.jsx)(t5.CurrencySwapModuleSkeleton,{})}),y[11]=g):g=y[11],y[12]!==I?(x=(0,t.jsx)("div",{className:I,children:g}),y[12]=I,y[13]=x):x=y[13],(0,t.jsxs)("div",{className:"py-4",children:[d,(0,t.jsx)(u.Media,{greaterThanOrEqual:"md",children:(0,t.jsxs)("div",{className:O,children:[(0,t.jsx)("div",{className:j(),children:f}),x]})})]})}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="4b6e1104-4137-5a91-8e18-fd6229e32757")}catch(e){}}();
//# debugId=4b6e1104-4137-5a91-8e18-fd6229e32757
