(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,791182,e=>{"use strict";e.s(["FeaturedSeasonalAndGifts",()=>s]);var t=e.i(705378),a=e.i(590268),l=e.i(790621),r=e.i(437153);function s(e){let s,n,i,o,c,d,u,m,x=(0,a.c)(15);x[0]!==e?({size:i,fill:o,fillAttribute:c,className:s,...n}=e,x[0]=e,x[1]=s,x[2]=n,x[3]=i,x[4]=o,x[5]=c):(s=x[1],n=x[2],i=x[3],o=x[4],c=x[5]);let h=void 0===i?24:i,p=void 0===o?"current":o,f=void 0===c?"currentColor":c;return x[6]!==s||x[7]!==p?(d=(0,r.classNames)((0,l.fillVariants)({fill:p}),s),x[6]=s,x[7]=p,x[8]=d):d=x[8],x[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("path",{d:"M160-80v-440H80v-240h208q-5-9-6.5-19t-1.5-21q0-50 35-85t85-35q23 0 43 8.5t37 23.5q17-16 37-24t43-8q50 0 85 35t35 85q0 11-2 20.5t-6 19.5h208v240h-80v440H160Zm400-760q-17 0-28.5 11.5T520-800q0 17 11.5 28.5T560-760q17 0 28.5-11.5T600-800q0-17-11.5-28.5T560-840Zm-200 40q0 17 11.5 28.5T400-760q17 0 28.5-11.5T440-800q0-17-11.5-28.5T400-840q-17 0-28.5 11.5T360-800ZM160-680v80h280v-80H160Zm280 520v-360H240v360h200Zm80 0h200v-360H520v360Zm280-440v-80H520v80h280Z"}),x[9]=u):u=x[9],x[10]!==f||x[11]!==n||x[12]!==h||x[13]!==d?(m=(0,t.jsx)("svg",{"aria-label":"Featured Seasonal And Gifts",className:d,fill:f,height:h,role:"img",viewBox:"0 -960 960 960",width:h,xmlns:"http://www.w3.org/2000/svg",...n,children:u}),x[10]=f,x[11]=n,x[12]=h,x[13]=d,x[14]=m):m=x[14],m}},677140,e=>{"use strict";e.s(["ClaimedVoyageContext",()=>r,"ClaimedVoyageProvider",()=>s]);var t=e.i(705378),a=e.i(590268),l=e.i(969498);let r=(0,l.createContext)(null);function s(e){let s,n,i=(0,a.c)(6),{children:o}=e,[c,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(null);return i[0]!==u||i[1]!==c?(s={claimedVoyage:c,setClaimedVoyage:d,claimShipment:u,setClaimShipment:m},i[0]=u,i[1]=c,i[2]=s):s=i[2],i[3]!==o||i[4]!==s?(n=(0,t.jsx)(r.Provider,{value:s,children:o}),i[3]=o,i[4]=s,i[5]=n):n=i[5],n}},355155,180107,849369,e=>{"use strict";e.s(["BarSegment",()=>p],355155);var t=e.i(705378),a=e.i(590268),l=e.i(437153),r=e.i(433704);e.s(["LEVELS",()=>n,"LEVEL_BG",()=>c,"LEVEL_VALUE",()=>o,"SEGMENT_ORDER",()=>i,"buildThresholds",()=>h,"formatBoost",()=>d,"formatDayLabel",()=>u,"getSegmentFillPercent",()=>x,"streakBoostQuery",()=>s,"toDayLevel",()=>m],180107);let s=(0,e.i(528198).graphql)("\n  query StreakBoostQuery {\n    streakBoost {\n      boostPercent\n      contributions {\n        date\n        actualLevel\n        effectiveLevel\n        boostContribution\n        totalPoints\n        isGiftBoostDay\n      }\n      currentDayIndex\n      tiers {\n        level\n        minPoints\n        boostRatePercent\n      }\n    }\n  }\n"),n=["high","medium","low"],i=["low","medium","high"],o={none:0,low:1,medium:2,high:3},c={none:"bg-transparent",low:"bg-success-1",medium:"bg-warning",high:"bg-epic"},d=e=>e>0?"+".concat(e.toFixed(2),"%"):"+0%",u=e=>new Date("".concat(e,"T12:00:00")).toLocaleDateString("en-US",{weekday:"short"}).slice(0,2),m=e=>{var t;return null!=(t=({HIGH:"high",MEDIUM:"medium",LOW:"low"})[e])?t:"none"},x=(e,t,a)=>{let l=a.find(t=>t.level===e);if(!l)return 0;let{min:r,floor:s}=l;return t>=r?100:t<=s?0:(t-s)/(r-s)*100};function h(e){let t=Object.fromEntries(e.tiers.map(e=>[e.level,e]));return[{level:"high",min:t.HIGH.minPoints,floor:t.MEDIUM.minPoints,boostRate:Number.parseFloat(t.HIGH.boostRatePercent)},{level:"medium",min:t.MEDIUM.minPoints,floor:t.LOW.minPoints,boostRate:Number.parseFloat(t.MEDIUM.boostRatePercent)},{level:"low",min:t.LOW.minPoints,floor:0,boostRate:Number.parseFloat(t.LOW.boostRatePercent)}]}function p(e){let s,n,i,o=(0,a.c)(26),{level:d,fillPercent:u,isMuted:m,animationDelay:x,segmentDuration:h,onSegmentFilled:p}=e,f=Math.max(0,Math.min(100,u)),g=0===f?"opacity-0":m||f<100?"opacity-25":"opacity-100",b=void 0!==x&&void 0!==h,v=b?h*f/100:0;if(b){let e,a,s,n,i,u,m="".concat(f,"%");o[0]!==m?(e={height:m},o[0]=m,o[1]=e):e=o[1];let h=c[d];o[2]!==g||o[3]!==h?(a=(0,l.classNames)("pointer-events-none absolute inset-x-0 bottom-0 rounded-sm",h,g),o[2]=g,o[3]=h,o[4]=a):a=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(s={height:0},o[5]=s):s=o[5],o[6]!==d||o[7]!==p||o[8]!==f?(n=()=>{f>=100&&p&&p(d)},o[6]=d,o[7]=p,o[8]=f,o[9]=n):n=o[9];let b=x/1e3,j=v/1e3;return o[10]!==b||o[11]!==j?(i={delay:b,duration:j,ease:"linear"},o[10]=b,o[11]=j,o[12]=i):i=o[12],o[13]!==e||o[14]!==a||o[15]!==n||o[16]!==i?(u=(0,t.jsx)("div",{className:"relative h-full flex-1 overflow-hidden rounded-sm bg-bg-primary",children:(0,t.jsx)(r.motion.div,{animate:e,className:a,initial:s,onAnimationComplete:n,transition:i})}),o[13]=e,o[14]=a,o[15]=n,o[16]=i,o[17]=u):u=o[17],u}let j=c[d];o[18]!==g||o[19]!==j?(s=(0,l.classNames)("pointer-events-none absolute inset-x-0 bottom-0 rounded-sm transition-all duration-300",j,g),o[18]=g,o[19]=j,o[20]=s):s=o[20];let y="".concat(f,"%");return o[21]!==y?(n={height:y},o[21]=y,o[22]=n):n=o[22],o[23]!==s||o[24]!==n?(i=(0,t.jsx)("div",{className:"relative h-full w-full overflow-hidden rounded-sm bg-border-1",children:(0,t.jsx)("div",{className:s,style:n})}),o[23]=s,o[24]=n,o[25]=i):i=o[25],i}e.s(["YAxisLabel",()=>v],849369);var f=e.i(39771),g=e.i(950293),b=e.i(139972);function v(e){let r,s,n,i=(0,a.c)(10),{threshold:o,side:c}=e,d="low"===o.level?"h-11":"h-10",u="right"===c&&"justify-end";return i[0]!==d||i[1]!==u?(r=(0,l.classNames)("gap-1",d,u),i[0]=d,i[1]=u,i[2]=r):r=i[2],i[3]!==c||i[4]!==o.boostRate||i[5]!==o.min?(s="left"===c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Treasure,{className:"text-text-secondary opacity-60",size:12}),(0,t.jsx)(g.TextBody,{className:"text-text-secondary tabular-nums opacity-60",size:"xs",children:o.min})]}):(0,t.jsxs)(g.TextBody,{className:"text-text-secondary tabular-nums opacity-60",size:"xs",children:["+",(o.boostRate/7).toFixed(2),"%"]}),i[3]=c,i[4]=o.boostRate,i[5]=o.min,i[6]=s):s=i[6],i[7]!==r||i[8]!==s?(n=(0,t.jsx)(f.FlexCenter,{className:r,children:s}),i[7]=r,i[8]=s,i[9]=n):n=i[9],n}},243228,149506,752694,e=>{"use strict";e.s(["ActiveWaveCountdown",()=>v],243228);var t=e.i(705378),a=e.i(590268),l=e.i(965523);e.s(["TreasureChestWave",()=>c],149506);var r=e.i(635341),s=e.i(437153),n=e.i(950293),i=e.i(406283),o=e.i(553919);function c(e){let l,c,d,u,m=(0,a.c)(9),{treasureChest:x,className:h}=e;if(!x)return null;m[0]!==x?(l=(0,r.readFragment)(o.TreasureChestWaveFragment,x),m[0]=x,m[1]=l):l=m[1];let p=l;return m[2]!==h?(c=(0,s.classNames)("font-sans normal-case",h),m[2]=h,m[3]=c):c=m[3],m[4]!==p.waveName?(d=(0,t.jsx)(n.TextBody,{size:"sm",weight:"semibold",children:p.waveName}),m[4]=p.waveName,m[5]=d):d=m[5],m[6]!==c||m[7]!==d?(u=(0,t.jsx)(i.TreasureChestChip,{className:c,children:d}),m[6]=c,m[7]=d,m[8]=u):u=m[8],u}var d=e.i(389852),u=e.i(287342),m=e.i(504536);e.s(["CountdownSection",()=>g,"CountdownSectionSkeleton",()=>b],752694);var x=e.i(10361),h=e.i(39771),p=e.i(310578),f=e.i(940704);function g(e){let r,s,i,o,c,d,u,m,p,g,b=(0,a.c)(24),{timeUntilOpening:v,badge:j}=e,y=(0,f.useTranslations)("ChestOpening");return b[0]!==j?(r=j&&(0,t.jsx)("div",{className:"mb-1",children:j}),b[0]=j,b[1]=r):r=b[1],b[2]!==y?(s=y("title"),b[2]=y,b[3]=s):s=b[3],b[4]!==s?(i=(0,t.jsx)(n.TextBody,{size:"md",weight:"semibold",children:s}),b[4]=s,b[5]=i):i=b[5],b[6]!==y?(o=y("description"),b[6]=y,b[7]=o):o=b[7],b[8]!==o?(c=(0,t.jsx)(n.TextBody,{color:"text-secondary",children:o}),b[8]=o,b[9]=c):c=b[9],b[10]!==y?(d=y("opensIn"),b[10]=y,b[11]=d):d=b[11],b[12]!==d?(u=(0,t.jsx)(h.FlexCenter,{className:"h-full w-full border-border-1 border-b sm:border-r sm:border-b-0",children:(0,t.jsx)(n.TextBody,{className:"w-full p-2 text-center font-mono uppercase sm:p-0",color:"text-secondary",size:"sm",children:d})}),b[12]=d,b[13]=u):u=b[13],b[14]!==v?(m=(0,t.jsx)(x.Countdown,{className:"justify-center gap-2 p-2 [&>div]:border [&>div]:border-border-1",end:v,showDaysOnly:!0,size:"sm"}),b[14]=v,b[15]=m):m=b[15],b[16]!==u||b[17]!==m?(p=(0,t.jsx)(l.FlexColumn,{className:"gap-2",children:(0,t.jsxs)(h.FlexCenter,{className:"mt-2 w-full flex-col justify-center rounded-lg border border-border-1 bg-bg-secondary sm:flex-row",children:[u,m]})}),b[16]=u,b[17]=m,b[18]=p):p=b[18],b[19]!==r||b[20]!==i||b[21]!==c||b[22]!==p?(g=(0,t.jsxs)(l.FlexColumn,{className:"gap-1 p-4",children:[r,i,c,p]}),b[19]=r,b[20]=i,b[21]=c,b[22]=p,b[23]=g):g=b[23],g}function b(){let e,r,s,n,i=(0,a.c)(4);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(p.SkeletonLine,{className:"h-5 w-32"}),r=(0,t.jsx)(p.SkeletonLine,{className:"h-4 w-full"}),i[0]=e,i[1]=r):(e=i[0],r=i[1]),i[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(h.FlexCenter,{className:"h-full w-full border-border-1 border-b p-2 sm:border-r sm:border-b-0",children:(0,t.jsx)(p.SkeletonLine,{className:"h-4 w-16"})}),i[2]=s):s=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsxs)(l.FlexColumn,{className:"h-fit gap-1 rounded-lg border border-border-1 bg-bg-primary p-4 shadow-xs lg:w-110",children:[e,r,(0,t.jsx)(l.FlexColumn,{className:"gap-2",children:(0,t.jsxs)(h.FlexCenter,{className:"mt-2 w-full flex-col justify-center rounded-lg border border-border-1 bg-bg-secondary sm:flex-row",children:[s,(0,t.jsxs)(h.FlexCenter,{className:"gap-2 p-2",children:[(0,t.jsx)(p.SkeletonBlock,{className:"h-10 w-16 rounded"}),(0,t.jsx)(p.SkeletonBlock,{className:"h-10 w-16 rounded"}),(0,t.jsx)(p.SkeletonBlock,{className:"h-10 w-16 rounded"})]})]})})]}),i[3]=n):n=i[3],n}let v=(0,d.withSuspense)(function(){let e,r,s,n=(0,a.c)(7),{activeTreasureChest:i}=(0,u.useActiveTreasureChests)(),{showOpeningSoon:o}=(0,m.useShowOpeningSoon)();if(o)return null;n[0]!==i?(e=(null==i?void 0:i.endDate)?new Date(i.endDate):null,n[0]=i,n[1]=e):e=n[1];let d=e;return!d||d<=new Date?null:(n[2]!==i?(r=(0,t.jsx)(c,{treasureChest:i}),n[2]=i,n[3]=r):r=n[3],n[4]!==d||n[5]!==r?(s=(0,t.jsx)(l.FlexColumn,{className:"h-fit rounded-lg border border-border-1 bg-bg-primary shadow-xs lg:w-110",children:(0,t.jsx)(g,{badge:r,timeUntilOpening:d})}),n[4]=d,n[5]=r,n[6]=s):s=n[6],s)},{fallback:(0,t.jsx)(b,{}),ssr:!1})},680369,e=>{"use strict";e.s(["useTimedState",()=>l]);var t=e.i(590268),a=e.i(969498);function l(e){let l,r,s,n=(0,t.c)(5),[i,o]=(0,a.useState)(!1);return n[0]!==e?(l=()=>{let t=setTimeout(()=>{o(!1)},e);return()=>clearTimeout(t)},r=[e],n[0]=e,n[1]=l,n[2]=r):(l=n[1],r=n[2]),(0,a.useEffect)(l,r),n[3]!==i?(s=[i,o],n[3]=i,n[4]=s):s=n[4],s}},947914,792695,562761,e=>{"use strict";e.s([],947914),e.s(["TreasureChestShareModal",()=>y],792695);var t=e.i(705378),a=e.i(528198),l=e.i(84060),r=e.i(502732),s=e.i(895032),n=e.i(254842),i=e.i(39771),o=e.i(972483),c=e.i(310578),d=e.i(683269),u=e.i(276015),m=e.i(701211),x=e.i(232105),h=e.i(392984),p=e.i(79097),f=e.i(506291),g=e.i(940704),b=e.i(969498),v=e.i(199800);let j=(0,a.graphql)("\n  mutation CreateShareableTreasureChest($treasureChestId: UUID!) {\n    createShareableTreasureChest(treasureChestId: $treasureChestId)\n  }\n");function y(e){let{treasureChestId:a,chestName:y,open:w,onOpenChange:N}=e,C=(0,g.useTranslations)("TreasureChestShareModal"),{showSuccessMessage:T,showErrorMessage:S}=(0,d.useToasts)(),[{fetching:E},_]=(0,l.useMutation)(j),[k,F]=(0,b.useState)(null),[R,L]=(0,b.useState)(!1),[P,M]=(0,b.useState)(!1),B=(0,b.useRef)(!1);(0,b.useEffect)(()=>{w&&!B.current&&(B.current=!0,_({treasureChestId:a}).then(e=>{var t;(null==(t=e.data)?void 0:t.createShareableTreasureChest)&&F(e.data.createShareableTreasureChest)})),w||(B.current=!1,F(null),L(!1),M(!1))},[w,a,_]);let A=k?"".concat(f.SITE_URL.origin,"/treasure/").concat(k):"",z=C("shareText",{chestName:y}),O=k?"".concat(f.SITE_URL.origin,"/treasure/").concat(k,"/opengraph-image"):"",I={twitter:"https://x.com/intent/tweet?url=".concat(encodeURIComponent(A),"&text=").concat(encodeURIComponent(z)),telegram:"https://t.me/share/url?text=".concat(encodeURIComponent(z),"&url=").concat(encodeURIComponent(A)),farcaster:"https://warpcast.com/~/compose?text=".concat(encodeURIComponent("".concat(z," ").concat(A)))},D=(0,b.useCallback)(e=>{var t,a;if(k)try{window.open(I[e],"_blank","noopener,noreferrer")||null==(t=navigator.clipboard)||t.writeText(A)}catch(e){console.error("Failed to open share dialog:",e),null==(a=navigator.clipboard)||a.writeText(A)}},[k,I,A]),H=(0,b.useCallback)(async()=>{if(k)try{let e=await (0,v.fetchFileFromUrl)(O,"treasure-chest-".concat(y,".png")),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=e.name,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t),T(C("imageSaved"))}catch(e){console.error("Failed to save image:",e),S(C("saveError"))}},[k,O,y,C,T,S]),U=(0,b.useCallback)(async()=>{if(k)try{let e=await fetch(O),t=await e.blob();navigator.clipboard&&window.ClipboardItem?(await navigator.clipboard.write([new ClipboardItem({[t.type]:t})]),T(C("imageCopied"))):(await navigator.clipboard.writeText(O),T(C("linkCopied")))}catch(e){console.error("Failed to copy image:",e);try{await navigator.clipboard.writeText(O),T(C("linkCopied"))}catch(e){console.error("Failed to copy text:",e),S(C("copyError"))}}},[k,O,C,T,S]);return(0,t.jsx)(o.Modal,{content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.ModalHeader,{children:(0,t.jsx)(o.ModalHeaderTitle,{children:C("title")})}),(0,t.jsxs)(o.ModalBody,{className:"space-y-6",children:[E&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(i.FlexCenter,{children:(0,t.jsx)(c.SkeletonBlock,{className:"h-[250px] w-full max-w-lg overflow-hidden rounded-lg border border-border-1"})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c.SkeletonLine,{className:"h-12 w-full rounded-lg"}),(0,t.jsx)(c.SkeletonLine,{className:"h-12 w-full rounded-lg"}),(0,t.jsx)(c.SkeletonLine,{className:"h-12 w-full rounded-lg"}),(0,t.jsx)(c.SkeletonLine,{className:"h-12 w-full rounded-lg"}),(0,t.jsxs)(n.Flex,{className:"gap-2",children:[(0,t.jsx)(c.SkeletonLine,{className:"h-12 flex-1 rounded-lg"}),(0,t.jsx)(c.SkeletonLine,{className:"h-12 flex-1 rounded-lg"})]})]})]}),!E&&k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.FlexCenter,{children:(0,t.jsxs)(i.FlexCenter,{className:"h-[250px] w-full max-w-lg overflow-hidden rounded-lg border border-border-1 bg-bg-additional-1",children:[!(R||P)&&(0,t.jsx)(c.SkeletonBlock,{className:"size-full"}),(0,t.jsx)("img",{alt:C("ogImageAlt",{chestName:y}),className:"h-full w-full rounded-lg object-cover",onError:()=>{console.error("Failed to load OG image:",O),M(!0)},onLoad:()=>{L(!0)},src:O,style:!R||P?{display:"none"}:void 0})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(r.Button,{className:"!bg-black !text-white hover:!bg-gray-800 !border-black w-full",icon:p.Twitter,onClick:()=>D("twitter"),variant:"secondary",children:C("shareOnX")}),(0,t.jsx)(r.Button,{className:"w-full",icon:h.Telegram,onClick:()=>D("telegram"),variant:"secondary",children:C("shareOnTelegram")}),(0,t.jsx)(r.Button,{className:"w-full",icon:x.Farcaster,onClick:()=>D("farcaster"),variant:"secondary",children:C("shareOnFarcaster")}),(0,t.jsx)(s.CopyToClipboard,{fullWidth:!0,text:A,tooltipText:C("copyLinkTooltip"),children:(0,t.jsx)(r.Button,{className:"w-full",icon:m.ContentCopy,variant:"secondary",children:C("copyLink")})}),(0,t.jsxs)(n.Flex,{className:"gap-2",children:[(0,t.jsx)(r.Button,{className:"flex-1",icon:m.ContentCopy,onClick:U,variant:"secondary",children:C("copyImage")}),(0,t.jsx)(r.Button,{className:"flex-1",icon:u.ArrowDownward,onClick:H,variant:"secondary",children:C("saveImage")})]})]})]})]})]}),onOpenChange:N,open:w,size:"lg"})}e.s(["useRevealedItems",()=>S],562761);var w=e.i(590268),N=e.i(230834),C=e.i(290583);let T=C.z.array(C.z.string());function S(){let e,t,a,l,r,s,n=(0,w.c)(11);n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0];let[i,o]=(0,N.useLocalStorage)("opensea:revealedRewards",e);if(n[1]!==i){let e=T.safeParse(i);a=new Set(e.success?e.data:[]),n[1]=i,n[2]=a}else a=n[2];t=a,n[3]!==t||n[4]!==o?(l=e=>{t.has(e)||o([...Array.from(t),e])},n[3]=t,n[4]=o,n[5]=l):l=n[5];let c=l;n[6]!==t?(r=e=>t.has(e),n[6]=t,n[7]=r):r=n[7];let d=r;return n[8]!==d||n[9]!==c?(s={reveal:c,isRevealed:d},n[8]=d,n[9]=c,n[10]=s):s=n[10],s}},860759,403577,738832,e=>{"use strict";e.s(["ChestOpeningSection",()=>t$],860759);var t=e.i(705378),a=e.i(590268),l=e.i(635341);e.i(257620);var r=e.i(922364),s=e.i(100868),n=e.i(194153),i=e.i(254842),o=e.i(39771),c=e.i(965523),d=e.i(999258),u=e.i(310578),m=e.i(950293),x=e.i(940704),h=e.i(389852),p=e.i(308641),f=e.i(502732),g=e.i(969498),b=e.i(828467);e.s(["OpenTreasureChestModal",()=>tW],738832);var v=e.i(188537),j=e.i(437153),y=e.i(97673),w=e.i(625236),N=e.i(338383),C=e.i(433704),T=e.i(607172),S=e.i(287342),E=e.i(806056),_=e.i(680369);e.i(947914);var k=e.i(792695),F=e.i(940084),R=e.i(562761),L=e.i(258343),P=e.i(791182),M=e.i(598777),B=e.i(355155),A=e.i(180107),z=e.i(849369),O=e.i(718813),I=e.i(230475);function D(e){let l,r,s,i,o=(0,a.c)(8),{title:d,description:u}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(O.IconCallout,{className:"text-text-secondary",icon:I.MoneyBag,size:24,variant:"outlined"}),o[0]=l):l=o[0],o[1]!==d?(r=(0,t.jsx)(w.TextHeading,{size:"lg",children:d}),o[1]=d,o[2]=r):r=o[2],o[3]!==u?(s=(0,t.jsx)(m.TextBody,{color:"text-secondary",size:"md",children:u}),o[3]=u,o[4]=s):s=o[4],o[5]!==r||o[6]!==s?(i=(0,t.jsx)(c.FlexColumn,{className:"mx-auto min-h-[140px] w-full max-w-[640px] items-center justify-center gap-4 px-4 pb-4 text-center lg:px-6",children:(0,t.jsxs)(n.CenterAligned,{children:[l,(0,t.jsxs)(n.CenterAligned,{className:"mt-4 gap-2",children:[r,s]})]})}),o[5]=r,o[6]=s,o[7]=i):i=o[7],i}let H={baseDelay:500,giftDaySegmentDuration:400,normalSegmentDuration:300,columnGap:200,popDuration:120,buttonDelay:2e3},U=e=>e?H.giftDaySegmentDuration:H.normalSegmentDuration,V=(e,t)=>{let a=U(e.isGiftBoostDay);if(e.isGiftBoostDay)return 3*a;let l=0;for(let a of A.SEGMENT_ORDER)l+=(0,A.getSegmentFillPercent)(a,e.totalPoints,t);return a*l/100};function G(e){let l,r,s,n,i,o,d,u,x,h,p,f=(0,a.c)(37),{contribution:b,thresholds:v,animationDelay:y,onSegmentFilled:w,onDayComplete:T}=e;f[0]!==b.effectiveLevel?(l=(0,A.toDayLevel)(b.effectiveLevel),f[0]=b.effectiveLevel,f[1]=l):l=f[1];let S=l,E=A.LEVEL_VALUE[S],_=b.isGiftBoostDay,k=U(_),[F,R]=(0,g.useState)(!1),L=_?"high":S;f[2]!==L||f[3]!==_||f[4]!==T||f[5]!==w?(r=e=>{null==w||w(e),e===L&&(_&&R(!0),null==T||T())},f[2]=L,f[3]=_,f[4]=T,f[5]=w,f[6]=r):r=f[6];let M=r;f[7]!==y||f[8]!==k?(s=e=>y+A.SEGMENT_ORDER.indexOf(e)*k,f[7]=y,f[8]=k,f[9]=s):s=f[9];let z=s,O=_&&"transition-colors duration-300",I=_&&F?"border-white":"border-border-1";return f[10]!==O||f[11]!==I?(n=(0,j.classNames)("relative h-32 w-full justify-end gap-0.5 rounded border bg-bg-app p-1",O,I),f[10]=O,f[11]=I,f[12]=n):n=f[12],f[13]!==_||f[14]!==F?(i=_&&F&&(0,t.jsx)(C.motion.div,{animate:{opacity:1,scale:1},className:"-top-2 -translate-x-1/2 absolute left-1/2 z-10 rounded-full bg-bg-primary p-0.5",exit:{opacity:0,scale:.5},initial:{opacity:0,scale:.5},transition:{duration:.3,ease:"easeOut"},children:(0,t.jsx)(P.FeaturedSeasonalAndGifts,{className:"text-white",size:14})}),f[13]=_,f[14]=F,f[15]=i):i=f[15],f[16]!==i?(o=(0,t.jsx)(N.AnimatePresence,{children:i}),f[16]=i,f[17]=o):o=f[17],f[18]!==b.totalPoints||f[19]!==z||f[20]!==M||f[21]!==_||f[22]!==E||f[23]!==k||f[24]!==v?(d=A.LEVELS.map(e=>(0,t.jsx)(B.BarSegment,{animationDelay:z(e),fillPercent:_?100:(0,A.getSegmentFillPercent)(e,b.totalPoints,v),isMuted:!_&&A.LEVEL_VALUE[e]>E,level:e,onSegmentFilled:M,segmentDuration:k},e)),f[18]=b.totalPoints,f[19]=z,f[20]=M,f[21]=_,f[22]=E,f[23]=k,f[24]=v,f[25]=d):d=f[25],f[26]!==n||f[27]!==o||f[28]!==d?(u=(0,t.jsxs)(c.FlexColumn,{className:n,children:[o,d]}),f[26]=n,f[27]=o,f[28]=d,f[29]=u):u=f[29],f[30]!==b.date?(x=(0,A.formatDayLabel)(b.date),f[30]=b.date,f[31]=x):x=f[31],f[32]!==x?(h=(0,t.jsx)(m.TextBody,{className:"text-text-tertiary",size:"xs",children:x}),f[32]=x,f[33]=h):h=f[33],f[34]!==u||f[35]!==h?(p=(0,t.jsxs)(c.FlexColumn,{className:"flex-1 items-center gap-1",children:[u,h]}),f[34]=u,f[35]=h,f[36]=p):p=f[36],p}function W(e){let{onContinue:a}=e,l=(0,x.useTranslations)("DailyStreaksSlide"),r=(0,x.useTranslations)("ChestOpeningVideoSlide"),[s,d]=(0,g.useState)(!1),[{data:u}]=(0,M.useAuthenticatedQuery)({query:A.streakBoostQuery}),h=null==u?void 0:u.streakBoost,p=(0,g.useMemo)(()=>h?(0,A.buildThresholds)(h):[],[h]),b=(0,g.useMemo)(()=>Object.fromEntries([["none",0],...p.map(e=>[e.level,e.boostRate/7])]),[p]),v=(0,g.useMemo)(()=>{if(!h||0===h.contributions.length||0===p.length)return[];let e=[],t=H.baseDelay;for(let a of h.contributions)e.push(t),t+=V(a,p)+H.columnGap;return e},[h,p]),[j,N]=(0,g.useState)(0),[T,S]=(0,g.useState)(0),[E,_]=(0,g.useState)(!1),k=(0,g.useRef)(0),F=(0,g.useCallback)(e=>{let t=b[e];t>0&&(S(t),k.current=t,_(!0),setTimeout(()=>_(!1),H.popDuration))},[b]),R=(0,g.useCallback)(()=>{let e=k.current;e>0&&(N(t=>t+e),S(0),k.current=0)},[]);return((0,g.useEffect)(()=>{let e=setTimeout(()=>d(!0),H.buttonDelay);return()=>clearTimeout(e)},[]),h)?(0,t.jsx)(y.TakeoverModalBody,{className:"flex h-full max-w-none items-center justify-center px-0 lg:px-0",children:(0,t.jsxs)(n.CenterAligned,{className:"mx-auto w-full gap-6",children:[(0,t.jsx)(D,{description:r("dailyStreaksDescription"),title:r("dailyStreaksTitle")}),(0,t.jsxs)(i.Flex,{className:"items-center justify-center gap-1.5 pb-2",children:[(0,t.jsx)(P.FeaturedSeasonalAndGifts,{className:"text-text-primary",size:16}),(0,t.jsx)(m.TextBody,{className:"text-text-primary",size:"md",children:r("dailyStreaksBonusLabel")})]}),(0,t.jsx)(o.FlexCenter,{className:"w-full px-4 lg:px-6",children:(0,t.jsx)(C.motion.div,{animate:{opacity:1,scale:1},className:"mx-auto w-full max-w-[480px]",initial:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"},children:(0,t.jsxs)(c.FlexColumn,{className:"gap-4 rounded-lg border border-border-1 bg-bg-primary p-4 shadow-xs",children:[(0,t.jsxs)(L.SpaceBetween,{className:"items-start",children:[(0,t.jsx)(w.TextHeading,{size:"xs",children:l("cardTitle")}),(0,t.jsx)(C.motion.div,{animate:{scale:E?1.2:1},transition:{duration:.1,ease:"easeOut"},children:(0,t.jsx)(w.TextHeading,{className:"font-bold text-text-primary tabular-nums",size:"md",children:(0,A.formatBoost)(j+T)})})]}),(0,t.jsxs)(i.Flex,{className:"items-stretch gap-2",children:[(0,t.jsx)(c.FlexColumn,{className:"justify-end gap-0.5 pb-5",children:p.map(e=>(0,t.jsx)(z.YAxisLabel,{side:"left",threshold:e},e.level))}),(0,t.jsx)(i.Flex,{className:"flex-1 gap-1.5",children:h.contributions.map((e,a)=>{var l;return(0,t.jsx)(G,{animationDelay:null!=(l=v[a])?l:H.baseDelay,contribution:e,onDayComplete:R,onSegmentFilled:F,thresholds:p},e.date)})}),(0,t.jsx)(c.FlexColumn,{className:"justify-end gap-0.5 pb-5 text-right",children:p.map(e=>(0,t.jsx)(z.YAxisLabel,{side:"right",threshold:e},e.level))})]})]})})}),(0,t.jsx)("div",{className:"mt-4 flex w-full justify-center px-4 lg:px-6",children:(0,t.jsx)(C.motion.div,{animate:{opacity:+!!s},className:"w-full lg:max-w-[480px]",initial:{opacity:0},transition:{duration:.3,ease:"easeOut"},children:(0,t.jsx)(f.Button,{className:"w-full",disabled:!s,onClick:a,variant:"primary",children:r("letsGo")})})})]})}):(0,t.jsx)(y.TakeoverModalBody,{className:"flex h-full max-w-none items-center justify-center px-0 lg:px-0",children:(0,t.jsx)(o.FlexCenter,{className:"h-[300px] w-full px-4 lg:px-6"})})}var q=e.i(933308),Y=e.i(90546);function K(){let e,l=(0,a.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(n.CenterAligned,{className:"absolute inset-0",children:(0,t.jsx)(s.Image,{alt:"Mystery Chest",className:"object-contain",height:300,src:T.MYSTERY_CHEST_LEVEL_1,width:300})}),l[0]=e):e=l[0],e}var Z=e.i(410338),Q=e.i(575789),$=e.i(356229),J=e.i(736376);function X(e){let l,r,n,i=(0,a.c)(6),{animationData:o,treasureImage:c,altText:d}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(l={y:[0,-8,0]},i[0]=l):l=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(r={duration:2,repeat:1/0,ease:"easeInOut"},i[1]=r):r=i[1],i[2]!==d||i[3]!==o||i[4]!==c?(n=(0,t.jsx)(C.motion.div,{animate:l,className:"-mt-20 relative top-26 left-8 z-10",transition:r,children:o?(0,t.jsx)("div",{className:"h-[80px] w-[80px]",children:(0,t.jsx)(J.Lottie,{animationData:o,loop:!0})}):(0,t.jsx)(s.Image,{alt:d,className:"object-contain",height:80,src:null!=c?c:T.TREASURE_CHEST_1,width:80})}),i[2]=d,i[3]=o,i[4]=c,i[5]=n):n=i[5],n}function ee(e){let l,r,n,i,d,u,m,h,p,f,g,b,v,j,y,w,N=(0,a.c)(40),{wave:S,animationData:E,index:_}=e,k=(0,x.useTranslations)("ChestOpeningVideoSlide"),{progressData:R}=S,L=(0,F.useChestName)(R.currentLevel);if(N[0]!==R.treasureImageUrl||N[1]!==S.waveNumber){var P;l=null!=(P=R.treasureImageUrl)?P:function(e){switch(e){case 1:default:return T.TREASURE_CHEST_1;case 2:return T.BREAKER_BOUNTY_1;case 3:return T.NAVIGATORS_COMPASS_1;case 4:return T.COMMANDERS_TROVE_1}}(S.waveNumber),N[0]=R.treasureImageUrl,N[1]=S.waveNumber,N[2]=l}else l=N[2];let M=l;if(R.currentLevel<=0||R.totalPoints<=0)return null;N[3]===Symbol.for("react.memo_cache_sentinel")?(r={opacity:1,y:0},n={opacity:0,y:20},N[3]=r,N[4]=n):(r=N[3],n=N[4]);let B=.15*_;N[5]!==B?(i={delay:B,duration:.4,ease:"easeOut"},N[5]=B,N[6]=i):i=N[6],N[7]!==k||N[8]!==S.waveNumber?(d=k("waveAchievement",{waveNumber:S.waveNumber}),N[7]=k,N[8]=S.waveNumber,N[9]=d):d=N[9],N[10]!==d?(u=(0,t.jsx)(o.FlexCenter,{className:"h-8 rounded-full bg-bg-additional-1 px-4 font-medium text-sm",children:d}),N[10]=d,N[11]=u):u=N[11];let A="Wave ".concat(S.waveNumber," Treasure");N[12]!==E||N[13]!==A||N[14]!==M?(m=(0,t.jsx)(X,{altText:A,animationData:E,treasureImage:M}),N[12]=E,N[13]=A,N[14]=M,N[15]=m):m=N[15];let z="Wave ".concat(S.waveNumber," Chest");return N[16]!==R.currentLevel?(h=(0,$.getOpenChestImage)(R.currentLevel),N[16]=R.currentLevel,N[17]=h):h=N[17],N[18]!==z||N[19]!==h?(p=(0,t.jsx)(s.Image,{alt:z,className:"object-contain",height:240,src:h,width:240}),N[18]=z,N[19]=h,N[20]=p):p=N[20],N[21]!==p||N[22]!==m?(f=(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-0",children:[m,p]}),N[21]=p,N[22]=m,N[23]=f):f=N[23],N[24]!==L?(g=(0,t.jsx)(o.FlexCenter,{className:"h-8 rounded-full bg-bg-additional-1 px-4 font-medium text-sm",children:L}),N[24]=L,N[25]=g):g=N[25],N[26]!==R.currentTier?(b=(0,Q.range)(R.currentTier).map(et),N[26]=R.currentTier,N[27]=b):b=N[27],N[28]!==b?(v=(0,t.jsx)(o.FlexCenter,{className:"h-8 gap-1 rounded-full bg-bg-additional-1 px-4",children:b}),N[28]=b,N[29]=v):v=N[29],N[30]!==g||N[31]!==v?(j=(0,t.jsxs)(o.FlexCenter,{className:"gap-2",children:[g,v]}),N[30]=g,N[31]=v,N[32]=j):j=N[32],N[33]!==f||N[34]!==j||N[35]!==u?(y=(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-2",children:[u,f,j]}),N[33]=f,N[34]=j,N[35]=u,N[36]=y):y=N[36],N[37]!==y||N[38]!==i?(w=(0,t.jsx)(C.motion.div,{animate:r,initial:n,transition:i,children:y}),N[37]=y,N[38]=i,N[39]=w):w=N[39],w}function et(e){return(0,t.jsx)(Z.StarFilled,{fill:"warning",size:16},e)}function ea(e){let l,r,s,n=(0,a.c)(8),{priorWaves:i,waveAnimationDataMap:c}=e;if(n[0]===Symbol.for("react.memo_cache_sentinel")?(l={maxHeight:"calc(100vh - 300px)"},n[0]=l):l=n[0],n[1]!==i||n[2]!==c){let e;n[4]!==c?(e=(e,a)=>{var l;return(0,t.jsx)(ee,{animationData:null!=(l=c.get(e.waveNumber))?l:null,index:a,wave:e},e.waveNumber)},n[4]=c,n[5]=e):e=n[5],r=i.map(e),n[1]=i,n[2]=c,n[3]=r}else r=n[3];return n[6]!==r?(s=(0,t.jsx)("div",{className:"w-full overflow-y-auto px-4",style:l,children:(0,t.jsx)(o.FlexCenter,{className:"flex-col gap-8 py-16 md:flex-row md:flex-wrap md:justify-center md:gap-14",children:r})}),n[6]=r,n[7]=s):s=n[7],s}var el=e.i(986853);e.s(["RiveChestTransition",()=>eg],403577);var er=e.i(622082),es=e.i(254175),en=e.i(337021),ei=g;class eo extends ei.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){var a,l;console.error("[RiveErrorBoundary] Rive component error:",e,t),null==(a=(l=this.props).onError)||a.call(l,e,t)}render(){return this.state.hasError?this.props.fallback||(0,t.jsx)(ec,{}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}function ec(){let e,l,r=(0,a.c)(4),s=(0,x.useTranslations)("RiveErrorBoundary");return r[0]!==s?(e=s("assetUnavailable"),r[0]=s,r[1]=e):e=r[1],r[2]!==e?(l=(0,t.jsx)(o.FlexCenter,{className:"size-full rounded-lg bg-bg-additional-2",children:(0,t.jsx)(m.TextBody,{color:"text-secondary",size:"sm",children:e})}),r[2]=e,r[3]=l):l=r[3],l}function ed(e){let l,r,s,n,i,o,c=(0,a.c)(12),{src:d,stateMachines:u,onReady:m}=e,[x,h]=(0,g.useState)(!1);c[0]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{console.error("[RiveChestCard] Failed to load animation:",e),h(!0)},c[0]=l):l=c[0];let{rive:p,RiveComponent:f}=(0,er.useRive)({src:d,stateMachines:u,autoplay:!0,onLoad:()=>{if(u&&b){let e=b.stateMachineInputs(Array.isArray(u)?u[0]:u),t=null==e?void 0:e.find(eu);t&&t.fire()}h(!0),null==m||m()},onLoadError:l}),b=p;c[1]!==b?(r=()=>()=>{b&&b.cleanup()},c[1]=b,c[2]=r):r=c[2],c[3]!==b?(s=[b],c[3]=b,c[4]=s):s=c[4],(0,g.useEffect)(r,s);let v=x?"opacity-100":"opacity-0";return c[5]!==v?(n=(0,j.classNames)("size-full transition-opacity duration-200",v),c[5]=v,c[6]=n):n=c[6],c[7]!==f?(i=(0,t.jsx)(f,{className:"size-full"}),c[7]=f,c[8]=i):i=c[8],c[9]!==n||c[10]!==i?(o=(0,t.jsx)("div",{className:n,children:i}),c[9]=n,c[10]=i,c[11]=o):o=c[11],o}function eu(e){return"closed"===e.name}function em(e){let l,r,s,n,i,c=(0,a.c)(16),{level:d,width:u,height:m,className:x,stateMachines:h,onReady:p}=e;c[0]!==d?(l=(0,en.getChestRiveFile)(d),c[0]=d,c[1]=l):l=c[1];let f=l;return c[2]!==x?(r=(0,j.classNames)("shrink-0 justify-center",x),c[2]=x,c[3]=r):r=c[3],c[4]!==m||c[5]!==u?(s={width:u,height:m},c[4]=m,c[5]=u,c[6]=s):s=c[6],c[7]!==d||c[8]!==p||c[9]!==f||c[10]!==h?(n=(0,t.jsx)(eo,{children:(0,t.jsx)(ed,{onReady:p,src:f,stateMachines:h},d)}),c[7]=d,c[8]=p,c[9]=f,c[10]=h,c[11]=n):n=c[11],c[12]!==r||c[13]!==s||c[14]!==n?(i=(0,t.jsx)(o.FlexCenter,{className:r,style:s,children:n}),c[12]=r,c[13]=s,c[14]=n,c[15]=i):i=c[15],i}function ex(e){let l,r,s,n,i,o,c=(0,a.c)(12),{width:d,height:u}=e;c[0]===Symbol.for("react.memo_cache_sentinel")?(l={src:T.SMOKE_EFFECT,autoplay:!0,onLoadError:eh},c[0]=l):l=c[0];let{rive:m,RiveComponent:x}=(0,er.useRive)(l);return c[1]!==m?(r=()=>()=>{m&&m.cleanup()},s=[m],c[1]=m,c[2]=r,c[3]=s):(r=c[2],s=c[3]),(0,g.useEffect)(r,s),c[4]!==u||c[5]!==d?(n={width:d,height:u},c[4]=u,c[5]=d,c[6]=n):n=c[6],c[7]!==x?(i=(0,t.jsx)(x,{className:"size-full"}),c[7]=x,c[8]=i):i=c[8],c[9]!==n||c[10]!==i?(o=(0,t.jsx)("div",{className:"size-full",style:n,children:i}),c[9]=n,c[10]=i,c[11]=o):o=c[11],o}function eh(e){console.error("[SmokeEffect] Failed to load animation:",e)}let ep=(0,es.default)(()=>Promise.resolve({default:ex}),{ssr:!1}),ef={CHEST_SWITCH:400,FADE_IN_START:600,SMOKE_FADE_OUT:1200};function eg(e){let l,r,s,n,i,o,c,d,u,m,x,h,p,f,b,v,j=(0,a.c)(32),{level:y,width:w,height:T,className:S,hasExceededLevelCap:E}=e;j[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],j[0]=l):l=j[0];let _=(0,g.useRef)(l),[k,F]=(0,g.useState)(y),[R,L]=(0,g.useState)(!1),[P,M]=(0,g.useState)(!1),B=(0,g.useRef)(!1),A=(0,g.useRef)(y);j[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{_.current.forEach(eb),_.current=[]},j[1]=r):r=j[1];let z=r;j[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>z,n=[],j[2]=s,j[3]=n):(s=j[2],n=j[3]),(0,g.useEffect)(s,n),j[4]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{z(),L(!0),M(!0);let t=setTimeout(()=>{F(e)},ef.CHEST_SWITCH);_.current=[t,setTimeout(()=>{L(!1)},ef.FADE_IN_START),setTimeout(()=>{M(!1)},ef.SMOKE_FADE_OUT)]},j[4]=i):i=j[4];let O=i;j[5]!==y?(o=()=>{if(!B.current){B.current=!0,F(y),A.current=y;return}y!==A.current&&(A.current=y,O(y))},c=[y],j[5]=y,j[6]=o,j[7]=c):(o=j[6],c=j[7]),(0,g.useEffect)(o,c);e:{if(void 0!==E&&E){d=$.AVAILABLE_CHEST_LEVELS;break e}d=Math.min(k,$.AVAILABLE_CHEST_LEVELS)}let I=d,D="relative mb-4 ".concat(S);j[8]!==T||j[9]!==w?(u={width:w,height:T},j[8]=T,j[9]=w,j[10]=u):u=j[10];let H=+!R;return j[11]!==H?(m={opacity:H},j[11]=H,j[12]=m):m=j[12],j[13]===Symbol.for("react.memo_cache_sentinel")?(x={duration:.3,ease:"easeInOut"},j[13]=x):x=j[13],j[14]!==I||j[15]!==T||j[16]!==w?(h=(0,t.jsx)(em,{height:T,level:I,stateMachines:"CHEST",width:w}),j[14]=I,j[15]=T,j[16]=w,j[17]=h):h=j[17],j[18]!==m||j[19]!==h?(p=(0,t.jsx)(C.motion.div,{animate:m,initial:!1,transition:x,children:h}),j[18]=m,j[19]=h,j[20]=p):p=j[20],j[21]!==T||j[22]!==P||j[23]!==w?(f=P&&(0,t.jsx)(C.motion.div,{animate:{opacity:1,scale:1},className:"pointer-events-none absolute inset-0 z-10","data-testid":"smoke-effect",exit:{opacity:0,scale:.5},initial:{opacity:0,scale:.5},transition:{type:"spring",bounce:0,duration:.5},children:(0,t.jsx)(eo,{children:(0,t.jsx)(ep,{height:T,width:w})})}),j[21]=T,j[22]=P,j[23]=w,j[24]=f):f=j[24],j[25]!==f?(b=(0,t.jsx)(N.AnimatePresence,{initial:!1,mode:"popLayout",children:f}),j[25]=f,j[26]=b):b=j[26],j[27]!==D||j[28]!==u||j[29]!==p||j[30]!==b?(v=(0,t.jsxs)("div",{className:D,style:u,children:[p,b]}),j[27]=D,j[28]=u,j[29]=p,j[30]=b,j[31]=v):v=j[31],v}function eb(e){return clearTimeout(e)}function ev(e){let l,r,s,n,i=(0,a.c)(12),{currentChestLevel:d,isRevealPhase:u,isRevealStartSlide:m,shouldSkipRevealAnimation:x,revealTier:h,revealDisplayPercent:p,t:f}=e,g=u||m&&x;return i[0]!==d?(l=d&&d>0&&(0,t.jsx)("div",{className:"relative h-[350px] w-[350px]",children:(0,t.jsx)(eg,{className:"h-[350px] w-[350px]",height:350,level:d,width:350})}),i[0]=d,i[1]=l):l=i[1],i[2]!==l?(r=(0,t.jsx)(c.FlexColumn,{className:"absolute inset-0 mt-4 items-center",children:l}),i[2]=l,i[3]=r):r=i[3],i[4]!==p||i[5]!==h||i[6]!==g||i[7]!==f?(s=g&&(0,t.jsxs)(o.FlexCenter,{className:"absolute right-0 bottom-[40px] left-0 w-full gap-2 px-3 lg:mx-auto lg:max-w-[480px]",children:[(0,t.jsx)(o.FlexCenter,{className:"h-8 whitespace-nowrap rounded-full bg-bg-additional-1 px-3 font-medium text-sm",children:f("tier",{number:h})}),(0,t.jsx)("div",{className:"h-2 flex-1",children:(0,t.jsx)(el.Progress,{rounded:!0,value:p,variant:"blue"})}),(0,t.jsx)(o.FlexCenter,{className:"h-8 whitespace-nowrap rounded-full bg-bg-additional-1 px-3 font-medium text-sm",children:f("progressPercent",{percent:Math.round(p)})})]}),i[4]=p,i[5]=h,i[6]=g,i[7]=f,i[8]=s):s=i[8],i[9]!==r||i[10]!==s?(n=(0,t.jsxs)("div",{className:"absolute inset-0",children:[r,s]}),i[9]=r,i[10]=s,i[11]=n):n=i[11],n}function ej(e){var a,r,s;let{currentWaveProgress:i,onContinue:c,priorWavesProgress:d,currentWaveName:u}=e,m=(0,x.useTranslations)("ChestOpeningVideoSlide"),h=(0,E.useIsDailyStreaksEnabled)(),[p,b]=(0,g.useState)(0),[v,j]=(0,g.useState)(!1),[w,T]=(0,g.useState)(0),[S,_]=(0,g.useState)(1),[k,R]=(0,g.useState)(new Map),L=(0,g.useRef)(null),P=(0,g.useRef)(null),M=(0,g.useRef)(null),B=(0,g.useMemo)(()=>{let e=q.PRIOR_WAVE_IDS.length-2;return d.map(e=>{let{waveNumber:t,progress:a}=e;return{waveNumber:t,progress:a,progressData:(0,l.readFragment)(Y.WaveProgressFragment,a)}}).filter(t=>t.waveNumber>=e&&t.progressData.totalPoints>0&&t.progressData.currentLevel>0).sort((e,t)=>e.waveNumber-t.waveNumber).slice(-3)},[d]),A=i?(0,l.readFragment)(Y.WaveProgressFragment,i):null,z=null!=(a=null==A?void 0:A.currentLevel)?a:0,O=null!=(r=null==A?void 0:A.currentTier)?r:1,I=null!=(s=null==A?void 0:A.levelProgressPercent)?s:0,H=B.length>0,U=1+ +!!H,V=Math.max(z,1),G=U+V,W=z<2,Z=0===p,Q=p===U,$=p===G-1,J=H&&p>0&&p<U,X=Z?"mystery":J?"prior-waves":"reveal-phase",ee=Q||v?W&&Q?Math.max(z,1):S:null,et=(0,F.useChestName)(z),el=v&&S>=z,er=(0,g.useMemo)(()=>{if(!(v||Q&&W))return 1;if(W)return Math.max(O,1);if(el)return O;let e=p-U;return 0===e?1:e===V-1?O:Math.min(O,Math.max(Math.floor(e/(V-1)*O),1))},[v,Q,W,el,O,p,U,V]),es=(0,g.useMemo)(()=>v||Q&&W?W||el?I:w:0,[v,Q,W,el,I,w]);(0,g.useEffect)(()=>{for(let e of B){let t=e.progressData.treasureAnimationUrl;t&&fetch(t).then(e=>e.json()).then(t=>{R(a=>new Map(a).set(e.waveNumber,t))}).catch(console.error)}},[B]),(0,g.useEffect)(()=>{if(!v){_(1),M.current&&clearTimeout(M.current);return}if(W||z<2)return void _(Math.max(z,1));let e=t=>{t>=z||(M.current=setTimeout(()=>{_(t+1),e(t+1)},2e3))};return _(1),e(1),()=>{M.current&&clearTimeout(M.current)}},[v,z,W]),(0,g.useEffect)(()=>{if(!v||el)return;P.current&&cancelAnimationFrame(P.current),T(0);let e=Date.now(),t=()=>{let a=Math.min(100,(Date.now()-e)/2e3*100);T(a),a<100&&!el&&(P.current=requestAnimationFrame(t))};return P.current=requestAnimationFrame(t),()=>{P.current&&cancelAnimationFrame(P.current)}},[el,v,S]),(0,g.useEffect)(()=>{if(!v||$){L.current&&clearTimeout(L.current);return}return L.current=setTimeout(()=>b(e=>e+1),2e3),()=>{L.current&&clearTimeout(L.current)}},[p,$,v]);let en=(0,g.useCallback)(()=>{L.current&&clearTimeout(L.current),$?c():Z?b(H?1:U):J?b(U):b(e=>e+1)},[$,Z,J,H,U,c]),ei=(0,g.useCallback)(()=>{j(!0),W?(_(Math.max(z,1)),b(G-1)):b(U)},[W,z,G,U]),{title:eo,description:ec}=(0,g.useMemo)(()=>Q||v?{title:u?m("introTitle",{currentWaveName:u}):m("introTitleFallback"),description:$?m.rich("elevatedChestMessage",{chestName:et,tier:O,bold:e=>(0,t.jsx)("span",{className:"font-semibold text-primary",children:e})}):u?m("revealDescription",{currentWaveName:u}):m("revealDescriptionFallback")}:Z?{title:m("summarizeProgress"),description:u?m("summarizeProgressDescription",{currentWaveName:u}):m("summarizeProgressDescriptionFallback")}:J?{title:m("priorWavesTitle"),description:m("priorWavesDescription")}:{title:u?m("introTitle",{currentWaveName:u}):m("introTitleFallback"),description:""},[Q,v,Z,J,$,u,O,et,m]),{buttonText:ed,buttonAction:eu}=(0,g.useMemo)(()=>Q&&!W?{buttonText:m("revealChest"),buttonAction:ei}:{buttonText:$&&!h?m("letsGo"):m("continue"),buttonAction:en},[Q,W,ei,en,$,h,m]);return(0,t.jsx)(y.TakeoverModalBody,{className:"flex h-full max-w-none items-center justify-center px-0 lg:px-0",children:(0,t.jsx)(n.CenterAligned,{className:"mx-auto w-full gap-6",children:(0,t.jsx)(N.AnimatePresence,{mode:"wait",children:(0,t.jsxs)(C.motion.div,{animate:{opacity:1,filter:"blur(0px)"},className:"w-full will-change-[opacity,filter]",exit:{opacity:0,filter:"blur(4px)"},initial:{opacity:0,filter:"blur(4px)"},transition:{duration:.45,ease:"easeInOut"},children:[(0,t.jsx)(D,{description:ec,title:eo}),J?(0,t.jsx)(ea,{priorWaves:B,waveAnimationDataMap:k}):(0,t.jsx)(o.FlexCenter,{className:"relative h-[450px] w-full",children:Z?(0,t.jsx)(K,{}):(0,t.jsx)(ev,{currentChestLevel:ee,isRevealPhase:v,isRevealStartSlide:Q,revealDisplayPercent:es,revealTier:er,shouldSkipRevealAnimation:W,t:m})}),(0,t.jsx)("div",{className:"flex w-full justify-center px-4 lg:px-6",children:(0,t.jsx)(f.Button,{className:"w-full lg:max-w-[480px]",onClick:eu,variant:"primary",children:ed})})]},X)})})})}eg.displayName="RiveChestTransition";var ey=e.i(731950),ew=e.i(234761),eN=e.i(351144),eC=e.i(718993),eT=e.i(165102),eS=e.i(314391),eE=e.i(500082);let e_={COMMON:"0 0 10px rgba(137, 138, 140, 0.2), 0 0 20px rgba(137, 138, 140, 0.2)",UNCOMMON:"0 0 10px rgba(71, 187, 100, 0.2), 0 0 20px rgba(71, 187, 100, 0.2)",RARE:"0 0 10px rgba(0, 163, 255, 0.2), 0 0 20px rgba(0, 163, 255, 0.2)",EPIC:"0 0 10px rgba(211, 88, 255, 0.2), 0 0 20px rgba(211, 88, 255, 0.2)",LEGENDARY:"0 0 10px rgba(255, 138, 0, 0.2), 0 0 20px rgba(255, 138, 0, 0.2)",SPECIAL:"0 0 10px rgba(255, 204, 0, 0.2), 0 0 20px rgba(255, 204, 0, 0.2)"},ek={COMMON:"[&:hover>*]:!border-common",UNCOMMON:"[&:hover>*]:!border-success-1",RARE:"[&:hover>*]:!border-rare",EPIC:"[&:hover>*]:!border-epic",LEGENDARY:"[&:hover>*]:!border-legendary",SPECIAL:"[&:hover>*]:!border-warning"};function eF(e){let l,r,s,n,i,o,c,d,u,m,x,h,p,f,b,v=(0,a.c)(35),{isRevealed:j,revealCard:y,rewardCard:w,isGrandPrize:N,treasureRarity:T}=e,S=void 0!==N&&N,[E,_]=(0,g.useState)(!1),k=T?e_[T]:S?"0 0 10px rgba(255, 204, 0, 0.2), 0 0 20px rgba(255, 204, 0, 0.2)":"0 0 10px rgba(7, 134, 255, 0.2), 0 0 20px rgba(7, 134, 255, 0.2)",F=T?ek[T]:S?"[&:hover>*]:!border-warning":"[&:hover>*]:!border-blue-3";v[0]===Symbol.for("react.memo_cache_sentinel")?(l={perspective:"1000px"},v[0]=l):l=v[0];let R=900*!!j;v[1]!==R?(r={rotateY:R},v[1]=R,v[2]=r):r=v[2],v[3]===Symbol.for("react.memo_cache_sentinel")?(s=()=>_(!1),n=()=>_(!0),i={transformStyle:"preserve-3d"},o={type:"spring",duration:2,bounce:.2},v[3]=s,v[4]=n,v[5]=i,v[6]=o):(s=v[3],n=v[4],i=v[5],o=v[6]);let L=E?"":F,P=j||E?"none":"auto";v[7]!==P?(c={backfaceVisibility:"hidden",borderRadius:"16px",rotateY:0,pointerEvents:P},v[7]=P,v[8]=c):c=v[8],v[9]===Symbol.for("react.memo_cache_sentinel")?(d={scale:{type:"spring",duration:.3,bounce:0},boxShadow:{duration:.3},borderColor:{type:"spring",duration:.3,bounce:0}},v[9]=d):d=v[9],v[10]!==k||v[11]!==E||v[12]!==j?(u=j||E?{}:{scale:1.01,boxShadow:k},v[10]=k,v[11]=E,v[12]=j,v[13]=u):u=v[13],v[14]!==y||v[15]!==c||v[16]!==u||v[17]!==L?(m=(0,t.jsx)(C.motion.div,{className:L,style:c,transition:d,whileHover:u,children:y}),v[14]=y,v[15]=c,v[16]=u,v[17]=L,v[18]=m):m=v[18];let M=E?"":F,B=!j||E?"none":"auto";return v[19]!==B?(x={backfaceVisibility:"hidden",borderRadius:"16px",position:"absolute",top:0,left:0,width:"100%",height:"100%",rotateY:-180,pointerEvents:B},v[19]=B,v[20]=x):x=v[20],v[21]===Symbol.for("react.memo_cache_sentinel")?(h={scale:{type:"spring",duration:.3,bounce:0},boxShadow:{duration:.3},borderColor:{type:"spring",duration:.3,bounce:0}},v[21]=h):h=v[21],v[22]!==k||v[23]!==E||v[24]!==j?(p=j&&!E?{scale:1.01,boxShadow:k}:{},v[22]=k,v[23]=E,v[24]=j,v[25]=p):p=v[25],v[26]!==w||v[27]!==M||v[28]!==x||v[29]!==p?(f=(0,t.jsx)(C.motion.div,{className:M,style:x,transition:h,whileHover:p,children:w}),v[26]=w,v[27]=M,v[28]=x,v[29]=p,v[30]=f):f=v[30],v[31]!==m||v[32]!==f||v[33]!==r?(b=(0,t.jsx)("div",{style:l,children:(0,t.jsxs)(C.motion.div,{animate:r,className:"relative",initial:!1,onAnimationComplete:s,onAnimationStart:n,style:i,transition:o,children:[m,f]})}),v[31]=m,v[32]=f,v[33]=r,v[34]=b):b=v[34],b}var eR=e.i(794835),eL=e.i(439765),eP=e.i(407262),eM=e.i(674277),eB=e.i(601056),eA=e.i(838820),ez=e.i(519078),eO=e.i(323917),eI=e.i(967593),eD=e.i(683269),eH=e.i(722934),eU=e.i(714470),eV=e.i(395802);e.i(661049);var eG=e.i(493473),eW=e.i(914716);e.i(500598);var eq=e.i(622717),eY=e.i(401721),eK=e.i(230834),eZ=e.i(290583);let eQ=eZ.z.record(eZ.z.string(),eZ.z.string());function e$(){let e,t,l,r,s,n,i,o=(0,a.c)(14);o[0]===Symbol.for("react.memo_cache_sentinel")?(e={},o[0]=e):e=o[0];let[c,d]=(0,eK.useLocalStorage)("opensea:pendingGrandPrizes",e);o[1]!==c?(l=eQ.safeParse(c),o[1]=c,o[2]=l):l=o[2];let u=l;o[3]!==u.data||o[4]!==u.success?(r=u.success?u.data:{},o[3]=u.data,o[4]=u.success,o[5]=r):r=o[5],t=r,o[6]!==t||o[7]!==d?(s=e=>{t[e]||d({...t,[e]:new Date().toISOString()})},o[6]=t,o[7]=d,o[8]=s):s=o[8];let m=s;o[9]!==t?(n=e=>!!t[e],o[9]=t,o[10]=n):n=o[10];let x=n;return o[11]!==x||o[12]!==m?(i={markPending:m,isPending:x},o[11]=x,o[12]=m,o[13]=i):i=o[13],i}var eJ=e.i(984466),eX=e.i(302502),e0=e.i(175109),e1=e.i(938390),e2=e.i(284296),e3=e.i(972483),e4=e.i(2795),e5=e.i(534763),e6=e.i(797968),e8=e.i(565673);async function e7(e){let t=await fetch("/api/intercom/kyc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(!(t.ok&&a.success))throw Error(a.error||"Failed to submit KYC request");return a}var e9=e.i(845139);let te=eZ.z.object({email:eZ.z.string().email()});function tt(e){var r,n,i;let d,u,h,p,f,g,b,v,j,y,w,N,C,T,S,E,_,k,F,R,L,P,M,B,A,z,O,I,D,H,U=(0,a.c)(81),{open:V,onOpenChange:G,reward:W,userAddress:q}=e,Y=(0,l.readFragment)(e9.GrandPrizeModalFragment,W),K=(0,x.useTranslations)("GrandPrizeModal"),{showSuccessMessage:Z,showErrorMessage:Q}=(0,eD.useToasts)(),{markPending:$}=e$();U[0]===Symbol.for("react.memo_cache_sentinel")?(d={resolver:(0,eJ.zodResolver)(te),mode:"onChange"},U[0]=d):d=U[0];let{register:J,handleSubmit:X,formState:ee,reset:et}=(0,e8.useForm)(d),{errors:ea,isValid:el}=ee;U[1]!==Q||U[2]!==K?(u=e=>{console.error("Failed to submit grand prize claim request:",e),(0,eX.track)("Rewards Grand Prize Claim Request Failed",{error:e.message}),Q(K("errorMessage"))},U[1]=Q,U[2]=K,U[3]=u):u=U[3];let er=(0,e6.useMutation)({mutationFn:e7,onSuccess:()=>{(0,eX.track)("Rewards Grand Prize Claim Request Submitted"),Z(K("successMessage")),(null==Y?void 0:Y.id)&&$(Y.id),et(),G(!1)},onError:u}),es=X(async e=>{var t,a;(0,eX.track)("Rewards Grand Prize Begin Claim Attempt"),er.mutate({email:e.email,walletAddress:q,message:"Hello Opensea Support!  I have won a treasure chest prize, can you share the next steps to retrieve it?  id: ".concat((null==Y?void 0:Y.id)||""," address: ").concat(q),attributes:{grand_prize_item_id:(null==Y||null==(t=Y.item)?void 0:t.id)||"",grand_prize_item_name:(null==Y||null==(a=Y.item)?void 0:a.name)||"",grand_prize_treasure_chest_id:(null==Y?void 0:Y.treasureChestId)||"",grand_prize_reward_id:(null==Y?void 0:Y.id)||""}})});if(!Y)return null;U[4]!==K?(h=K("title"),U[4]=K,U[5]=h):h=U[5],U[6]!==h?(p=(0,t.jsx)(e3.ModalHeader,{className:"border-border-1 border-b bg-bg-primary",children:(0,t.jsx)(e3.ModalHeaderTitle,{children:h})}),U[6]=h,U[7]=p):p=U[7],U[8]!==K?(f=K("description"),U[8]=K,U[9]=f):f=U[9],U[10]!==f?(g=(0,t.jsx)(m.TextBody,{className:"text-text-secondary",children:f}),U[10]=f,U[11]=g):g=U[11],U[12]!==Y.item||U[13]!==K?(b=Y.item&&(0,t.jsx)(o.FlexCenter,{className:"rounded-lg border border-warning bg-bg-primary p-4",children:(0,t.jsxs)(eB.Item,{className:"justify-center",variant:"unstyled",children:[(null==(n=Y.item.collection)?void 0:n.imageUrl)&&(0,t.jsx)(s.Image,{alt:Y.item.collection.name||"",className:"size-11 flex-shrink-0 rounded-lg object-cover",height:44,src:Y.item.collection.imageUrl,width:44}),(0,t.jsxs)(ez.ItemContent,{children:[(0,t.jsx)(ez.ItemTitle,{asChild:!0,children:(0,t.jsx)(m.TextBody,{className:"font-medium",size:"md",children:Y.item.name})}),(null==(i=Y.item.collection)?void 0:i.name)&&(0,t.jsx)(eV.CollectionPreviewTooltip,{collection:Y.item.collection,children:(0,t.jsx)(eR.CollectionLockup,{collection:Y.item.collection,children:(0,t.jsx)(eL.CollectionLockupContent,{children:(0,t.jsx)(eR.CollectionLockupTitle,{className:"font-normal text-text-secondary",weight:"regular"})})})})]}),(0,t.jsx)(ez.ItemSide,{children:(0,t.jsx)(e0.Badge,{className:"rounded-md border-warning bg-warning/10 text-warning",icon:e5.Star,iconSize:16,weight:"semibold",children:K("grandPrizeBadge")})})]})}),U[12]=Y.item,U[13]=K,U[14]=b):b=U[14],U[15]!==K?(v=K("emailPrompt"),U[15]=K,U[16]=v):v=U[16],U[17]!==v?(j=(0,t.jsx)(m.TextBody,{className:"text-text-secondary",children:v}),U[17]=v,U[18]=j):j=U[18];let en=null==(r=ea.email)?void 0:r.message;U[19]!==K?(y=K("emailLabel"),U[19]=K,U[20]=y):y=U[20],U[21]!==y?(w=(0,t.jsx)(m.TextBody,{children:y}),U[21]=y,U[22]=w):w=U[22],U[23]!==J?(N=J("email"),U[23]=J,U[24]=N):N=U[24];let ei=er.isPending;U[25]!==K?(C=K("emailPlaceholder"),U[25]=K,U[26]=C):C=U[26],U[27]!==er.isPending||U[28]!==N||U[29]!==C?(T=(0,t.jsx)(e2.Input,{...N,disabled:ei,placeholder:C,type:"email"}),U[27]=er.isPending,U[28]=N,U[29]=C,U[30]=T):T=U[30],U[31]!==en||U[32]!==w||U[33]!==T?(S=(0,t.jsx)(e1.FormControl,{error:en,label:w,required:!0,children:T}),U[31]=en,U[32]=w,U[33]=T,U[34]=S):S=U[34],U[35]!==es||U[36]!==S?(E=(0,t.jsx)("form",{onSubmit:es,children:S}),U[35]=es,U[36]=S,U[37]=E):E=U[37],U[38]!==K?(_=K("emailNote"),U[38]=K,U[39]=_):_=U[39],U[40]!==_?(k=(0,t.jsx)(m.TextBody,{className:"text-text-secondary",size:"sm",children:_}),U[40]=_,U[41]=k):k=U[41],U[42]!==K?(F=K("supportNote"),U[42]=K,U[43]=F):F=U[43],U[44]!==F?(R=(0,t.jsx)(m.TextBody,{className:"text-text-secondary",children:F}),U[44]=F,U[45]=R):R=U[45],U[46]!==j||U[47]!==E||U[48]!==k||U[49]!==R?(L=(0,t.jsxs)(c.FlexColumn,{className:"gap-4",children:[j,E,k,R]}),U[46]=j,U[47]=E,U[48]=k,U[49]=R,U[50]=L):L=U[50],U[51]!==L||U[52]!==g||U[53]!==b?(P=(0,t.jsx)(e3.ModalBody,{className:"scrollbar-hidden",children:(0,t.jsxs)(c.FlexColumn,{className:"gap-4 pt-6",children:[g,b,L]})}),U[51]=L,U[52]=g,U[53]=b,U[54]=P):P=U[54];let eo=er.isPending;U[55]!==G?(M=()=>G(!1),U[55]=G,U[56]=M):M=U[56],U[57]!==K?(B=K("cancel"),U[57]=K,U[58]=B):B=U[58],U[59]!==er.isPending||U[60]!==M||U[61]!==B?(A=(0,t.jsx)(e3.ModalFooterButton,{disabled:eo,onClick:M,variant:"secondary",children:B}),U[59]=er.isPending,U[60]=M,U[61]=B,U[62]=A):A=U[62];let ec=er.isPending||!el;return U[63]!==er.isPending||U[64]!==K?(z=er.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e4.Spinner,{size:"xs"}),K("submitting")]}):K("beginClaim"),U[63]=er.isPending,U[64]=K,U[65]=z):z=U[65],U[66]!==es||U[67]!==ec||U[68]!==z?(O=(0,t.jsx)(e3.ModalFooterButton,{disabled:ec,onClick:es,variant:"primary",children:z}),U[66]=es,U[67]=ec,U[68]=z,U[69]=O):O=U[69],U[70]!==A||U[71]!==O?(I=(0,t.jsxs)(e3.ModalFooter,{className:"flex-shrink-0 bg-bg-primary",children:[A,O]}),U[70]=A,U[71]=O,U[72]=I):I=U[72],U[73]!==P||U[74]!==I||U[75]!==p?(D=(0,t.jsxs)(t.Fragment,{children:[p,P,I]}),U[73]=P,U[74]=I,U[75]=p,U[76]=D):D=U[76],U[77]!==G||U[78]!==V||U[79]!==D?(H=(0,t.jsx)(e3.Modal,{className:"w-full overflow-hidden md:w-[560px]",content:D,disableHeightAnimation:!0,onOpenChange:G,open:V}),U[77]=G,U[78]=V,U[79]=D,U[80]=H):H=U[80],H}var ta=e.i(589534);function tl(e){let l,r,s=(0,a.c)(5),{children:n,className:i}=e;return s[0]!==i?(l=(0,j.classNames)("w-full h-[436px]","rounded-2xl border border-border-1 bg-bg-primary p-1 shadow-xs",i),s[0]=i,s[1]=l):l=s[1],s[2]!==n||s[3]!==l?(r=(0,t.jsx)(c.FlexColumn,{className:l,children:n}),s[2]=n,s[3]=l,s[4]=r):r=s[4],r}function tr(e){let l,r,s=(0,a.c)(5),{children:n,className:i}=e;return s[0]!==i?(l=(0,j.classNames)("scrollbar-hidden flex-shrink-0 flex-col gap-4 overflow-y-auto px-3 pt-4 pb-3",i),s[0]=i,s[1]=l):l=s[1],s[2]!==n||s[3]!==l?(r=(0,t.jsx)(c.FlexColumn,{className:l,children:n}),s[2]=n,s[3]=l,s[4]=r):r=s[4],r}function ts(e){let l,r,s,n=(0,a.c)(7),{children:i,className:o,square:c}=e,d=void 0===c||c?"aspect-square":"flex-1";return n[0]!==o||n[1]!==d?(l=(0,j.classNames)("relative flex w-full items-center justify-center overflow-hidden rounded-xl bg-bg-app",d,o),n[0]=o,n[1]=d,n[2]=l):l=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("span",{className:"pointer-events-none absolute inset-0 rounded-xl border border-black/5 dark:border-white/5"}),n[3]=r):r=n[3],n[4]!==i||n[5]!==l?(s=(0,t.jsxs)("div",{className:l,children:[i,r]}),n[4]=i,n[5]=l,n[6]=s):s=n[6],s}function tn(e){let l,r,s=(0,a.c)(5),{children:n,className:i}=e;return s[0]!==i?(l=(0,j.classNames)("mt-auto flex-shrink-0",i),s[0]=i,s[1]=l):l=s[1],s[2]!==n||s[3]!==l?(r=(0,t.jsx)(c.FlexColumn,{className:l,children:n}),s[2]=n,s[3]=l,s[4]=r):r=s[4],r}function ti(e){let l,r=(0,a.c)(2);return r[0]!==e?(l=(0,t.jsx)(f.Button,{className:"w-full",size:"md",...e}),r[0]=e,r[1]=l):l=r[1],l}function to(e){var a;let{reward:r,onClaimAction:i}=e,o=(0,l.readFragment)(ta.ItemRewardCardFragment,r),c=(0,x.useTranslations)("RewardCard"),d=(0,x.useTranslations)("RewardsWallet"),{showErrorMessage:u}=(0,eD.useToasts)(),{ensureWalletConnection:h}=(0,eq.useEnsureWalletConnection)(),{resolveConnector:f}=(0,eq.useWalletConnectionResolver)(),[b,v]=(0,g.useState)(!1),{isPending:y}=e$(),{refetch:w}=(0,p.useOpenableTreasureChests)();(0,eU.useFlowEventHandlers)({onComplete:()=>{setTimeout(()=>{w()},1e3)}});let N=!!(null==o?void 0:o.orderId),C=!!(null==o?void 0:o.claimedAt),T=o.isGrandPrize&&y(o.id),{buyItems:S,disabled:E,disabledReason:_}=(0,eW.useBuyItems)((null==o?void 0:o.item)?[{...o.item,quantity:1,orderId:o.orderId||void 0}]:[],{hasBuyQuote:N,isClaim:!0}),k=(0,g.useCallback)(async()=>{if(!(null==o?void 0:o.item)){null==i||i();return}if(o.isGrandPrize)return void v(!0);let e=e=>{var t,a;let l=null!=(a=null!=e?e:null==(t=f(o.address))?void 0:t.name)?a:d("walletFallbackName");u(d("failedToSwitchWallet",{walletName:l,address:(0,eA.formatAddress)(o.address)}))};await h({address:o.address,onMissingLinkedWallet:()=>e(),onSwitchFailed:t=>e(null==t?void 0:t.walletName),onConnected:()=>{S(),null==i||i()}})},[S,h,i,null==o?void 0:o.item,null==o?void 0:o.address,null==o?void 0:o.isGrandPrize,u,d]);return o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(tl,{className:(0,j.classNames)("relative",{"border-warning":o.isGrandPrize}),children:[o.isGrandPrize&&(0,t.jsx)("div",{className:"-top-4 -translate-x-1/2 absolute left-1/2 z-10",children:(0,t.jsx)(eI.Tooltip,{className:"max-w-[280px] text-center",content:(0,t.jsx)(m.TextBody,{size:"sm",children:c("grandPrizeTooltip")}),side:"top",children:(0,t.jsx)(n.CenterAligned,{className:"size-8 rounded-full bg-warning",children:(0,t.jsx)(Z.StarFilled,{className:"mb-[1px] flex-shrink-0 text-white",size:20})})})}),(0,t.jsx)(ts,{children:o.item?(0,t.jsx)(eM.HandoffProvider,{handoff:{className:"z-sheet",overrides:{Overlay:{className:"z-overlay"}}},children:(0,t.jsx)(eP.HandoffButton,{asChild:!0,children:(0,t.jsx)(eG.ItemLink,{className:"block size-full",item:o.item,children:(0,t.jsx)(eY.ItemRewardMedia,{reward:o})})})}):(0,t.jsx)(eY.ItemRewardMedia,{reward:o})}),(0,t.jsx)(tr,{children:o.item?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(eM.HandoffProvider,{handoff:{className:"z-sheet",overrides:{Overlay:{className:"z-overlay"}}},children:(0,t.jsx)(eP.HandoffButton,{children:(0,t.jsx)(eG.ItemLink,{className:"block",item:o.item,children:(0,t.jsxs)(eB.Item,{variant:"unstyled",children:[(null==(a=o.item.collection)?void 0:a.imageUrl)&&(0,t.jsxs)("div",{className:"relative shrink-0",children:[(0,t.jsx)(s.Image,{alt:o.item.collection.name||"",className:"size-12 flex-shrink-0 rounded-lg object-cover",frameTime:(0,eO.isVideoUrl)(o.item.collection.imageUrl)?1:void 0,height:48,src:o.item.collection.imageUrl,width:48}),(0,t.jsx)("span",{className:"absolute inset-0 rounded-lg border border-black/5 dark:border-white/5"})]}),(0,t.jsxs)(ez.ItemContent,{className:"min-w-0",children:[(0,t.jsx)(m.TextBody,{className:"truncate font-medium",size:"md",children:o.item.name}),o.item.collection?(0,t.jsx)(eV.CollectionPreviewTooltip,{collection:o.item.collection,children:(0,t.jsx)(eR.CollectionLockup,{collection:o.item.collection,children:(0,t.jsx)(eL.CollectionLockupContent,{children:(0,t.jsx)(eR.CollectionLockupTitle,{className:"font-normal text-text-secondary",weight:"regular"})})})}):null]})]})})})})}),(0,t.jsx)(tn,{children:(0,t.jsx)(ti,{disabled:!!(o.isGrandPrize?C||T:E||!N||C),icon:C?eH.Check:void 0,onClick:k,title:E?_:void 0,variant:C?"success":"primary",children:c(T?"claimPending":C?"claimed":"claimItem")})})]}):null})]}),o.isGrandPrize&&(0,t.jsx)(tt,{onOpenChange:v,open:b,reward:o,userAddress:o.address})]}):null}var tc=e.i(325636),td=e.i(491150);function tu(e){let l,r,n,i,o,c,d,u,h,p,f,g,b,v,j,y,w,N,C,S=(0,a.c)(49),{collectionSlug:E,walletAddress:_}=e,k=(0,x.useTranslations)("PudgyChestRewardCard"),F=(0,x.useTranslations)("RewardsWallet"),{showErrorMessage:R}=(0,eD.useToasts)(),{ensureWalletConnection:L}=(0,eq.useEnsureWalletConnection)(),{resolveConnector:P}=(0,eq.useWalletConnectionResolver)(),M=(0,tc.useRouter)(),B="/collection/".concat(E,"/overview");S[0]!==B||S[1]!==L||S[2]!==P||S[3]!==M||S[4]!==R||S[5]!==_||S[6]!==F?(l=async()=>{if(!_)return void M.push(B);let e=e=>{var t,a;let l=null!=(a=null!=e?e:null==(t=P(_))?void 0:t.name)?a:F("walletFallbackName");R(F("failedToSwitchWallet",{walletName:l,address:(0,eA.formatAddress)(_)}))};await L({address:_,onMissingLinkedWallet:()=>e(),onSwitchFailed:t=>e(null==t?void 0:t.walletName),onConnected:()=>{M.push(B)}})},S[0]=B,S[1]=L,S[2]=P,S[3]=M,S[4]=R,S[5]=_,S[6]=F,S[7]=l):l=S[7];let A=l;return S[8]===Symbol.for("react.memo_cache_sentinel")?(r={className:"z-sheet",overrides:{Overlay:{className:"z-overlay"}}},S[8]=r):r=S[8],S[9]!==k?(n=k("imageAlt"),S[9]=k,S[10]=n):n=S[10],S[11]!==n?(i=(0,t.jsx)(s.Image,{alt:n,className:"size-full object-cover",height:300,src:T.PUDGY_CHEST_REWARD,width:300}),S[11]=n,S[12]=i):i=S[12],S[13]!==B||S[14]!==i?(o=(0,t.jsx)(ts,{children:(0,t.jsx)(eM.HandoffProvider,{handoff:r,children:(0,t.jsx)(eP.HandoffButton,{asChild:!0,children:(0,t.jsx)(td.Link,{className:"block size-full",href:B,children:i})})})}),S[13]=B,S[14]=i,S[15]=o):o=S[15],S[16]===Symbol.for("react.memo_cache_sentinel")?(c={className:"z-sheet",overrides:{Overlay:{className:"z-overlay"}}},S[16]=c):c=S[16],S[17]!==k?(d=k("collectionName"),S[17]=k,S[18]=d):d=S[18],S[19]!==d?(u=(0,t.jsx)(s.Image,{alt:d,className:"size-12 flex-shrink-0 rounded-lg object-cover",height:48,src:T.PUDGY_CHEST_REWARD,width:48}),S[19]=d,S[20]=u):u=S[20],S[21]!==k?(h=k("title"),S[21]=k,S[22]=h):h=S[22],S[23]!==h?(p=(0,t.jsx)(m.TextBody,{className:"truncate font-medium",size:"md",children:h}),S[23]=h,S[24]=p):p=S[24],S[25]!==k?(f=k("collectionName"),S[25]=k,S[26]=f):f=S[26],S[27]!==f?(g=(0,t.jsx)(m.TextBody,{className:"font-normal text-text-secondary",size:"sm",children:f}),S[27]=f,S[28]=g):g=S[28],S[29]!==p||S[30]!==g?(b=(0,t.jsxs)(ez.ItemContent,{className:"min-w-0",children:[p,g]}),S[29]=p,S[30]=g,S[31]=b):b=S[31],S[32]!==b||S[33]!==u?(v=(0,t.jsxs)(eB.Item,{variant:"unstyled",children:[u,b]}),S[32]=b,S[33]=u,S[34]=v):v=S[34],S[35]!==B||S[36]!==v?(j=(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(eM.HandoffProvider,{handoff:c,children:(0,t.jsx)(eP.HandoffButton,{asChild:!0,children:(0,t.jsx)(td.Link,{className:"block",href:B,children:v})})})}),S[35]=B,S[36]=v,S[37]=j):j=S[37],S[38]!==k?(y=k("goMint"),S[38]=k,S[39]=y):y=S[39],S[40]!==A||S[41]!==y?(w=(0,t.jsx)(tn,{children:(0,t.jsx)(ti,{onClick:A,variant:"primary",children:y})}),S[40]=A,S[41]=y,S[42]=w):w=S[42],S[43]!==j||S[44]!==w?(N=(0,t.jsxs)(tr,{children:[j,w]}),S[43]=j,S[44]=w,S[45]=N):N=S[45],S[46]!==N||S[47]!==o?(C=(0,t.jsxs)(tl,{children:[o,N]}),S[46]=N,S[47]=o,S[48]=C):C=S[48],C}function tm(e){let l,r,i,o=(0,a.c)(6),{onRevealAction:c}=e,d=(0,x.useTranslations)("RevealCard");return o[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(ts,{square:!1,children:(0,t.jsx)(n.CenterAligned,{className:"h-full w-full",children:(0,t.jsx)(s.Image,{alt:"Mystery Chest",className:"object-contain",height:200,src:T.MYSTERY_CHEST_LEVEL_1,width:200})})}),o[0]=l):l=o[0],o[1]!==d?(r=d("clickToReveal"),o[1]=d,o[2]=r):r=o[2],o[3]!==c||o[4]!==r?(i=(0,t.jsxs)(tl,{children:[l,(0,t.jsx)(tr,{className:"flex-shrink-0",children:(0,t.jsx)(tn,{className:"flex-1 justify-center",children:(0,t.jsx)(ti,{onClick:c,variant:"primary",children:r})})})]}),o[3]=c,o[4]=r,o[5]=i):i=o[5],i}var tx=e.i(767502),th=e.i(508022),tp=e.i(738480),tf=e.i(363205);function tg(e){let{tokenReward:t,claimActions:a}=e;tf.FlowActions.startFlow({type:"token-claim",tokenReward:t,claimActions:a,mode:"full"})}var tb=e.i(125423),tv=e.i(320464);function tj(e){var r,s,n,i;let c,d,u,h,f,g,b,v,j=(0,a.c)(34),{tokenReward:y}=e,w=(0,x.useTranslations)("TokenRewardCard"),N=(0,x.useTranslations)("RewardsWallet"),{showErrorMessage:C}=(0,eD.useToasts)(),{ensureWalletConnection:T}=(0,eq.useEnsureWalletConnection)(),{resolveConnector:S}=(0,eq.useWalletConnectionResolver)(),E=(0,l.readFragment)(tv.TokenRewardCardFragment,y),{refetch:_}=(0,p.useOpenableTreasureChests)();j[0]!==_?(c={onComplete:()=>{setTimeout(()=>{_()},1e3)}},j[0]=_,j[1]=c):c=j[1],(0,eU.useFlowEventHandlers)(c);let k=null!=(n=null==(s=E.claimActions)||null==(r=s.actions)?void 0:r.filter(ty))?n:[],F=E.claimedAt,R=!0===E.airdrop,L=R&&null===F,P=R&&null!==F,M=null!==F||0===k.length||L;j[2]!==k||j[3]!==T||j[4]!==M||j[5]!==S||j[6]!==C||j[7]!==tg||j[8]!==E.address||j[9]!==E.balance||j[10]!==E.id||j[11]!==N?(d=async e=>{e.stopPropagation();let t=E.balance;if(M||!t)return;let a=(0,l.readFragment)(tx.ContextCurrencyFragment,t.currency),r=e=>{var t,a;let l=null!=(a=null!=e?e:null==(t=S(E.address))?void 0:t.name)?a:N("walletFallbackName");C(N("failedToSwitchWallet",{walletName:l,address:(0,eA.formatAddress)(E.address)}))};await T({address:E.address,onMissingLinkedWallet:()=>r(),onSwitchFailed:e=>r(null==e?void 0:e.walletName),onConnected:()=>{tg({tokenReward:{id:E.id,balance:{quantity:t.quantity,usdValue:t.usdValue,currency:a}},claimActions:k})}})},j[2]=k,j[3]=T,j[4]=M,j[5]=S,j[6]=C,j[7]=tg,j[8]=E.address,j[9]=E.balance,j[10]=E.id,j[11]=N,j[12]=d):d=j[12];let B=d;return j[13]!==E?(u=(0,t.jsx)(tb.TokenRewardMedia,{tokenReward:E}),j[13]=E,j[14]=u):u=j[14],j[15]!==w||j[16]!==E.balance?(h=(null==(i=E.balance)?void 0:i.usdValue)!=null&&(0,t.jsx)(th.Block,{className:"absolute top-3 right-3 z-20",children:(0,t.jsx)(eI.Tooltip,{content:w("usdValue"),children:(0,t.jsx)(o.FlexCenter,{className:"h-8 rounded-full border border-black/4 bg-black/50 px-3 backdrop-blur-sm",children:(0,t.jsx)(m.TextBody,{className:"font-mono text-white",size:"sm",weight:"semibold",children:(0,t.jsx)(tp.NumberDisplay,{className:"font-mono",custom:{maximumFractionDigits:2,minimumFractionDigits:2},display:"usd-full",value:E.balance.usdValue})})})})}),j[15]=w,j[16]=E.balance,j[17]=h):h=j[17],j[18]!==u||j[19]!==h?(f=(0,t.jsxs)(ts,{children:[u,h]}),j[18]=u,j[19]=h,j[20]=f):f=j[20],j[21]!==F||j[22]!==B||j[23]!==L||j[24]!==P||j[25]!==M||j[26]!==w||j[27]!==E.balance?(g=E.balance?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(o.FlexCenter,{className:"gap-1",children:(0,t.jsx)(m.TextBody,{size:"md",weight:"semibold",children:(0,t.jsx)(tp.NumberDisplay,{className:"font-sans",display:"full",suffix:E.balance.currency.symbol,value:E.balance.quantity})})}),(0,t.jsx)(m.TextBody,{color:"text-secondary",size:"md",children:E.balance.currency.name})]}),(0,t.jsx)(tn,{children:L?(0,t.jsx)(eI.Tooltip,{content:w("airdropPendingTooltip"),children:(0,t.jsx)("span",{className:"w-full",children:(0,t.jsx)(ti,{disabled:M,icon:F||P?eH.Check:void 0,onClick:B,variant:F||P?"success":"primary",children:w("airdropPending")})})}):(0,t.jsx)(ti,{disabled:M,icon:F||P?eH.Check:void 0,onClick:B,variant:F||P?"success":"primary",children:w(P?"airdropped":F?"claimed":"claimToken")})})]}):null,j[21]=F,j[22]=B,j[23]=L,j[24]=P,j[25]=M,j[26]=w,j[27]=E.balance,j[28]=g):g=j[28],j[29]!==g?(b=(0,t.jsx)(tr,{children:g}),j[29]=g,j[30]=b):b=j[30],j[31]!==f||j[32]!==b?(v=(0,t.jsxs)(tl,{children:[f,b]}),j[31]=f,j[32]=b,j[33]=v):v=j[33],v}function ty(e){return!!e}var tw=e.i(202067),tN=e.i(28155),tC=e.i(295165),tT=e.i(422988);function tS(e){let r,s,n,i,o,c,d,u,h,p,f,g,b,v,j=(0,a.c)(31),{treasure:y}=e,w=(0,x.useTranslations)("TreasureRewardCard");if(j[0]!==y){s=(0,l.readFragment)(tC.TreasureRewardCardFragment,y);let e=(0,eE.getTierNumber)(s.name),t=(0,eE.getTierRarity)(e);r=(0,eE.getRarityShineColor)(t),j[0]=y,j[1]=r,j[2]=s}else r=j[1],s=j[2];let N=r;return j[3]!==N?(n=(0,t.jsx)(tw.ShineBorder,{borderWidth:2,duration:6,shineColor:N}),j[3]=N,j[4]=n):n=j[4],j[5]!==s.name?(i=(0,t.jsx)("div",{className:"-top-4 -translate-x-1/2 absolute left-1/2 z-10",children:(0,t.jsx)(tE,{treasureName:s.name})}),j[5]=s.name,j[6]=i):i=j[6],j[7]!==s?(o=(0,t.jsx)(ts,{className:"p-[15%]",children:(0,t.jsx)(tT.TreasureRewardMedia,{treasure:s})}),j[7]=s,j[8]=o):o=j[8],j[9]!==s.name?(c=(0,t.jsx)(tN.TextOverflowTooltip,{className:"min-w-0",children:(0,t.jsx)(m.TextBody,{className:"font-medium",size:"md",children:s.name})}),j[9]=s.name,j[10]=c):c=j[10],j[11]!==w?(d=w("treasure"),j[11]=w,j[12]=d):d=j[12],j[13]!==d?(u=(0,t.jsx)(m.TextBody,{color:"text-secondary",size:"md",children:d}),j[13]=d,j[14]=u):u=j[14],j[15]!==c||j[16]!==u?(h=(0,t.jsxs)("div",{className:"flex-1",children:[c,u]}),j[15]=c,j[16]=u,j[17]=h):h=j[17],j[18]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(eH.Check,{size:16}),j[18]=p):p=j[18],j[19]!==w?(f=w("addedToProfile"),j[19]=w,j[20]=f):f=j[20],j[21]!==f?(g=(0,t.jsx)(tn,{children:(0,t.jsx)(ti,{className:"!opacity-100",disabled:!0,icon:p,variant:"success",children:f})}),j[21]=f,j[22]=g):g=j[22],j[23]!==g||j[24]!==h?(b=(0,t.jsxs)(tr,{children:[h,g]}),j[23]=g,j[24]=h,j[25]=b):b=j[25],j[26]!==b||j[27]!==n||j[28]!==i||j[29]!==o?(v=(0,t.jsxs)(tl,{className:"relative border-none",children:[n,i,o,b]}),j[26]=b,j[27]=n,j[28]=i,j[29]=o,j[30]=v):v=j[30],v}function tE(e){let l,r,s,i,o,c=(0,a.c)(9),{treasureName:d}=e;if(c[0]!==d){let e=(0,eE.getTierNumber)(d);l=(0,eE.getTierRarity)(e),c[0]=d,c[1]=l}else l=c[1];let u=l;if(c[2]!==u){let e={COMMON:"bg-common",UNCOMMON:"bg-success-1",RARE:"bg-rare",EPIC:"bg-epic",LEGENDARY:"bg-legendary",SPECIAL:"bg-warning"},t=e[u]||e.COMMON;r=n.CenterAligned,s=(0,j.classNames)("size-10 rounded-full",t),c[2]=u,c[3]=r,c[4]=s}else r=c[3],s=c[4];return c[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(I.MoneyBag,{className:"flex-shrink-0 text-white",size:24}),c[5]=i):i=c[5],c[6]!==r||c[7]!==s?(o=(0,t.jsx)(r,{className:s,children:i}),c[6]=r,c[7]=s,c[8]=o):o=c[8],o}let t_="pudgy-chest-reward";function tk(e){let l,r,s,n,i,c,u,m,h=(0,a.c)(37),{sortedRewards:p,rewardMap:g,tokenRewardMap:b,treasures:v,chestLevel:j,isRewardRevealed:y,isTokenRevealed:w,isTreasureRevealed:N,revealReward:C,revealToken:T,revealTreasure:S,onShare:_,onContinue:k,showContinueButton:F}=e,R=void 0!==F&&F,L=(0,x.useTranslations)("OpenTreasureChestModal"),P=(0,eT.useIsLessThanMd)(),{enabled:M,collectionSlug:B,minChestLevel:A}=(0,E.usePudgyChestReward)(),z=M&&j>=A;if(h[0]!==g||h[1]!==b){var O,I,D;l=null!=(D=null==(O=[...g.values()][0])?void 0:O.address)?D:null==(I=[...b.values()][0])?void 0:I.address,h[0]=g,h[1]=b,h[2]=l}else l=h[2];let H=l;if(h[3]!==B||h[4]!==P||h[5]!==y||h[6]!==w||h[7]!==N||h[8]!==C||h[9]!==T||h[10]!==S||h[11]!==g||h[12]!==H||h[13]!==z||h[14]!==p||h[15]!==b||h[16]!==v){let e,a=[...p].sort(tR);h[18]!==g||h[19]!==b?(e=e=>"UserReward"===e.__typename?g.has(e.id):b.has(e.id),h[18]=g,h[19]=b,h[20]=e):e=h[20];let l=a.filter(e).length,s=l>0,n=+!!z,i=1===l+v.length+n,c=v.length>0&&s,u=z&&(s||v.length>0);r=(p.length>0||v.length>0)&&(0,t.jsx)("div",{className:i?"w-full max-w-full pr-4 pl-0 md:w-fit lg:pr-6":"w-fit max-w-full pr-4 pl-0 lg:pr-6",children:(0,t.jsxs)(eN.Carousel,{options:{align:"center",loop:!1},children:[(0,t.jsxs)(eN.CarouselContent,{allowOverflow:!0,children:[v.map(e=>{let a=e.id,l=N(a),r=(0,eE.getTierNumber)(e.name),s=(0,eE.getTierRarity)(r);return(0,t.jsx)(eN.CarouselItem,{className:"shrink-0 basis-full md:basis-[320px]",children:(0,t.jsx)(eF,{isRevealed:l,revealCard:(0,t.jsx)(tm,{onRevealAction:()=>S(a)}),rewardCard:(0,t.jsx)(tS,{treasure:e}),treasureRarity:s})},a)}),c&&!P&&(0,t.jsx)(eN.CarouselItem,{"aria-hidden":!0,className:"flex shrink-0 basis-auto items-center",children:(0,t.jsx)(d.Separator,{"aria-hidden":!0,className:"mx-8 h-[436px]",orientation:"vertical"})},"treasure-divider"),a.map(e=>{let a=e.id;if("UserReward"===e.__typename){var l;let e=g.get(a);if(!e)return null;let r=null!==e.claimedAt||y(a),s=null!=(l=e.isGrandPrize)&&l;return(0,t.jsx)(eN.CarouselItem,{className:"shrink-0 basis-full md:basis-[320px]",children:(0,t.jsx)(eF,{isGrandPrize:s,isRevealed:r,revealCard:(0,t.jsx)(tm,{onRevealAction:()=>C(a)}),rewardCard:(0,t.jsx)(to,{onClaimAction:tF,reward:e})})},a)}let r=b.get(a);if(!r)return null;let s=null!==r.claimedAt||w(a);return(0,t.jsx)(eN.CarouselItem,{className:"shrink-0 basis-full md:basis-[320px]",children:(0,t.jsx)(eF,{isRevealed:s,revealCard:(0,t.jsx)(tm,{onRevealAction:()=>T(a)}),rewardCard:(0,t.jsx)(tj,{tokenReward:r})})},a)}),u&&!P&&(0,t.jsx)(eN.CarouselItem,{"aria-hidden":!0,className:"flex shrink-0 basis-auto items-center",children:(0,t.jsx)(d.Separator,{"aria-hidden":!0,className:"mx-8 h-[436px]",orientation:"vertical"})},"pudgy-divider"),z&&(0,t.jsx)(eN.CarouselItem,{className:"shrink-0 basis-full md:basis-[320px]",children:(0,t.jsx)(eF,{isRevealed:y(t_),revealCard:(0,t.jsx)(tm,{onRevealAction:()=>C(t_)}),rewardCard:(0,t.jsx)(tu,{collectionSlug:B,walletAddress:H})})},t_)]}),!i&&(0,t.jsx)(o.FlexCenter,{className:"mt-6 justify-center",children:(0,t.jsxs)(eC.CarouselNavigationArrows,{size:"md",variant:"static",children:[(0,t.jsx)(eC.CarouselNavigationArrowsPrevious,{}),(0,t.jsx)(eC.CarouselNavigationArrowsNext,{})]})})]})}),h[3]=B,h[4]=P,h[5]=y,h[6]=w,h[7]=N,h[8]=C,h[9]=T,h[10]=S,h[11]=g,h[12]=H,h[13]=z,h[14]=p,h[15]=b,h[16]=v,h[17]=r}else r=h[17];return h[21]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(eS.Share,{size:16}),h[21]=s):s=h[21],h[22]!==L?(n=L("share"),h[22]=L,h[23]=n):n=h[23],h[24]!==_||h[25]!==n?(i=(0,t.jsx)(f.Button,{className:"mb-4 w-full md:max-w-[276px]",icon:s,onClick:_,variant:"secondary",children:n}),h[24]=_,h[25]=n,h[26]=i):i=h[26],h[27]!==k||h[28]!==R||h[29]!==L?(c=R&&k&&(0,t.jsx)(f.Button,{className:"mb-4 w-full md:max-w-[276px]",onClick:k,variant:"primary",children:L("continue")}),h[27]=k,h[28]=R,h[29]=L,h[30]=c):c=h[30],h[31]!==i||h[32]!==c?(u=(0,t.jsxs)(o.FlexCenter,{className:"w-full max-w-full flex-col justify-center gap-4 px-4 pb-4 md:flex-row md:pb-0 lg:px-6",children:[i,c]}),h[31]=i,h[32]=c,h[33]=u):u=h[33],h[34]!==r||h[35]!==u?(m=(0,t.jsxs)(t.Fragment,{children:[r,u]}),h[34]=r,h[35]=u,h[36]=m):m=h[36],m}function tF(){}function tR(e,t){let a=tL;return a(e)-a(t)}function tL(e){return+("UserTokenReward"!==e.__typename)}var tP=e.i(706116),tM=e.i(904663);function tB(e){let l,r,s,n,d,u,h,p,g,b,v,j,y,N,T,S,E,_,k,F,R=(0,a.c)(50),{level:L,tier:P,chestName:M,isChestOpen:B,isOpeningChest:A,showRewards:z,riveChestRef:D,onOpenChest:H}=e,U=(0,x.useTranslations)("OpenTreasureChestModal");R[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(O.IconCallout,{icon:I.MoneyBag,size:24,variant:"outlined"}),R[0]=l):l=R[0],R[1]!==U?(r=U("letsDoThis"),R[1]=U,R[2]=r):r=R[2],R[3]!==r?(s=(0,t.jsx)(w.TextHeading,{className:"lg:text-heading-lg",size:"md",children:r}),R[3]=r,R[4]=s):s=R[4],R[5]!==M||R[6]!==U||R[7]!==P?(n=U.rich("chestEarnedDescription",{chestName:M,tier:P,chestNameStyle:tO,tierStyle:tz}),R[5]=M,R[6]=U,R[7]=P,R[8]=n):n=R[8],R[9]!==n?(d=(0,t.jsx)(m.TextBody,{className:"text-text-secondary",children:n}),R[9]=n,R[10]=d):d=R[10],R[11]!==s||R[12]!==d?(u=(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-2 md:gap-4",children:[l,(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-2 text-center",children:[s,d]})]}),R[11]=s,R[12]=d,R[13]=u):u=R[13],R[14]!==M?(h=(0,t.jsx)(o.FlexCenter,{className:"h-8 rounded-full bg-bg-additional-1 px-4 font-medium text-base",children:M}),R[14]=M,R[15]=h):h=R[15],R[16]!==P?(p=(0,Q.range)(P).map(tA),R[16]=P,R[17]=p):p=R[17],R[18]!==p?(g=(0,t.jsx)(o.FlexCenter,{className:"h-8 gap-1 rounded-full bg-bg-additional-1 px-4",children:p}),R[18]=p,R[19]=g):g=R[19],R[20]!==h||R[21]!==g?(b=(0,t.jsxs)(i.Flex,{className:"items-center gap-2",children:[h,g]}),R[20]=h,R[21]=g,R[22]=b):b=R[22],R[23]!==b||R[24]!==u?(v=(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-4",children:[u,b]}),R[23]=b,R[24]=u,R[25]=v):v=R[25],R[26]!==B||R[27]!==z?(j=B&&!z?{scale:[1,1.1,1]}:{},R[26]=B,R[27]=z,R[28]=j):j=R[28],R[29]===Symbol.for("react.memo_cache_sentinel")?(y={duration:.5},R[29]=y):y=R[29],R[30]!==L||R[31]!==D?(N=(0,t.jsx)(tM.RiveChest,{height:"100%",level:L,ref:D,stateMachines:"CHEST",width:"100%"}),R[30]=L,R[31]=D,R[32]=N):N=R[32],R[33]!==j||R[34]!==N?(T=(0,t.jsx)(C.motion.div,{className:"flex items-center justify-center",layoutId:"image",children:(0,t.jsx)(C.motion.div,{animate:j,className:"-mt-8 mb-16 flex 3xl:h-[480px] h-[240px] 3xl:w-[480px] w-[240px] items-center justify-center 2xl:h-[360px] 2xl:w-[360px]",transition:y,children:N})}),R[33]=j,R[34]=N,R[35]=T):T=R[35],R[36]!==v||R[37]!==T?(S=(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-4",children:[v,T]}),R[36]=v,R[37]=T,R[38]=S):S=R[38];let V=B||A;return R[39]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)(tP.Lock,{size:20}),R[39]=E):E=R[39],R[40]!==U?(_=U("openChest"),R[40]=U,R[41]=_):_=R[41],R[42]!==A||R[43]!==H||R[44]!==V||R[45]!==_?(k=(0,t.jsx)(f.Button,{className:"w-[600px] max-w-full shrink-0",disabled:V,icon:E,isLoading:A,onClick:H,size:"lg",variant:"primary",children:_}),R[42]=A,R[43]=H,R[44]=V,R[45]=_,R[46]=k):k=R[46],R[47]!==S||R[48]!==k?(F=(0,t.jsxs)(c.FlexColumn,{className:"h-full w-full items-center justify-center px-4 lg:px-6",children:[S,k]}),R[47]=S,R[48]=k,R[49]=F):F=R[49],F}function tA(e){return(0,t.jsx)(Z.StarFilled,{fill:"warning",size:20},e)}function tz(e){return(0,t.jsx)("span",{className:"font-medium text-text-primary",children:e})}function tO(e){return(0,t.jsx)("span",{className:"font-medium text-text-primary",children:e})}let tI=[T.OPEN_CHEST_LEVEL_1,T.OPEN_CHEST_LEVEL_2,T.OPEN_CHEST_LEVEL_3,T.OPEN_CHEST_LEVEL_4,T.OPEN_CHEST_LEVEL_5,T.OPEN_CHEST_LEVEL_6,T.OPEN_CHEST_LEVEL_7,T.OPEN_CHEST_LEVEL_8,T.OPEN_CHEST_LEVEL_9,T.OPEN_CHEST_LEVEL_10,T.OPEN_CHEST_LEVEL_11,T.OPEN_CHEST_LEVEL_12,T.OPEN_CHEST_LEVEL_13];function tD(e){return(0,t.jsx)(m.TextBody,{className:"text-text-primary",weight:"semibold",children:e})}function tH(e){return(0,t.jsx)(m.TextBody,{className:"text-text-primary",weight:"semibold",children:e})}function tU(e){return[e.id,e]}function tV(e){return[e.id,e]}function tG(e){return(0,l.readFragment)(ey.OpenTreasureChestModal_treasureFragment,e)}let tW=(0,h.withSuspense)(function(e){var o,d,u,h,p,f,T,L,P,M,B;let A,z,O,I,D,H,U,V,G,q,Y,K,Z=(0,a.c)(33),{openableTreasureChest:Q,treasures:$,onClose:J}=e;Z[0]!==$?(A=void 0===$?[]:$,Z[0]=$,Z[1]=A):A=Z[1];let X=A,ee=(0,x.useTranslations)("OpenTreasureChestModal"),et=(0,r.useDateTimeFormatter)(),ea=(0,E.useIsDailyStreaksEnabled)(),{hasCombinedBonus:el,hasPriorWaveData:er,priorWavesProgress:es,currentWaveProgress:en}=(0,b.useCombineChestOverlay)(),{activeTreasureChest:ei}=(0,S.useActiveTreasureChests)(),eo=(0,l.readFragment)(ey.OpenTreasureChestModalFragment,Q);Z[2]!==X?(z=X.map(tG),Z[2]=X,Z[3]=z):z=Z[3];let ec=z,ed=null!=(p=null==(o=eo.userProgress)?void 0:o.currentLevel)?p:0,eu=null!=(f=null==(d=eo.userProgress)?void 0:d.currentTier)?f:0,em=(0,F.useChestName)(ed),{enabled:ex,minChestLevel:eh}=(0,E.usePudgyChestReward)(),ep=ex&&ed>=eh,ef=eo.openEnd?et(new Date(eo.openEnd),{display:"date"}):null,eg=null!=(T=eo.userRewards)?T:[],eb=null!=(L=eo.userTokenRewards)?L:[],ev=(0,ew.sortRewardsByValue)(eg,eb),eN=new Map(eg.map(tV)),eC=new Map(eb.map(tU)),eT=!!(er&&el),eS=0===eg.length&&0===eb.length&&0===ec.length,[eE,e_]=(0,_.useTimedState)(3e3),[ek,eF]=(0,g.useState)(!1),[eR,eL]=(0,g.useState)(!1),[eP,eM]=(0,g.useState)(!1),[eB,eA]=(0,g.useState)(eT&&eS),[ez,eO]=(0,g.useState)(!1),eI=(0,g.useRef)(!1),{reveal:eD,isRevealed:eH}=(0,R.useRevealedItems)(),eU=(0,g.useRef)(null),eV=null!=(M=null!=(P=null==(u=eg[0])?void 0:u.treasureChestId)?P:null==(h=eb[0])?void 0:h.treasureChestId)?M:eo.id;Z[4]!==eM?(O=()=>{eM(!0)},Z[4]=eM,Z[5]=O):O=Z[5];let eG=O;Z[6]!==e_?(I=function(){var e;null==(e=eU.current)||e.fireInput("open"),eF(!0),e_(!0),setTimeout(()=>{eL(!0)},1800)},Z[6]=e_,Z[7]=I):I=Z[7];let eW=I;Z[8]===Symbol.for("react.memo_cache_sentinel")?(D=function(){localStorage.setItem(b.WAVE_COMBINE_SEEN_KEY,"true"),window.dispatchEvent(new CustomEvent(b.WAVE_COMBINE_SEEN_EVENT,{detail:{seen:!0}}))},Z[8]=D):D=Z[8];let eq=D;Z[9]!==ea||Z[10]!==eq||Z[11]!==J?(H=function(){eI.current||(eI.current=!0,eA(!1),ea?eO(!0):(eq(),null==J||J()))},Z[9]=ea,Z[10]=eq,Z[11]=J,Z[12]=H):H=Z[12];let eY=H;Z[13]!==eq||Z[14]!==J?(U=function(){eq(),eO(!1),eI.current=!1,null==J||J()},Z[13]=eq,Z[14]=J,Z[15]=U):U=Z[15];let eK=U;Z[16]!==eT||Z[17]!==ea||Z[18]!==eq||Z[19]!==J?(V=function(){eT?eA(!0):ea?eO(!0):(eq(),null==J||J())},Z[16]=eT,Z[17]=ea,Z[18]=eq,Z[19]=J,Z[20]=V):V=Z[20];let eZ=V,eQ=eg.length+eb.length+ +!!ep,e$=ek&&eR?(0,t.jsxs)(c.FlexColumn,{className:"items-center gap-2 text-center",children:[(0,t.jsx)(w.TextHeading,{className:"lg:text-heading-lg",size:"sm",children:ee("congratulations",{otherCount:eQ})}),(0,t.jsx)(m.TextBody,{className:"max-w-[640px] text-center text-text-secondary",children:ef?ee.rich("rewardDescription",{chestName:em,expirationDate:ef,highlight:tH}):ee.rich("rewardDescriptionFallback",{chestName:em,highlight:tD})})]}):null;Z[21]!==em||Z[22]!==eM||Z[23]!==eP||Z[24]!==eV?(G=eV&&(0,t.jsx)(k.TreasureChestShareModal,{chestName:em,onOpenChange:eM,open:eP,treasureChestId:eV}),Z[21]=em,Z[22]=eM,Z[23]=eP,Z[24]=eV,Z[25]=G):G=Z[25];let eJ=eE?"opacity-100":"opacity-0";return Z[26]!==eJ?(q=(0,j.classNames)("transition-opacity duration-100 ease-out-quint",eJ),Z[26]=eJ,Z[27]=q):q=Z[27],Z[28]!==q?(Y=(0,t.jsx)(v.Confetti,{className:q,recycle:!1}),Z[28]=q,Z[29]=Y):Y=Z[29],Z[30]!==eq||Z[31]!==J?(K=e=>{e||(eq(),null==J||J())},Z[30]=eq,Z[31]=J,Z[32]=K):K=Z[32],(0,t.jsxs)(t.Fragment,{children:[G,(0,t.jsx)(y.TakeoverModal,{content:(0,t.jsxs)(t.Fragment,{children:[Y,(0,t.jsx)(y.TakeoverModalBody,{className:"flex h-full max-w-none items-center justify-center px-0 lg:px-0",children:(0,t.jsx)(i.Flex,{className:"scrollbar-hidden h-full w-full overflow-x-hidden overflow-y-scroll py-8",children:(0,t.jsx)(n.CenterAligned,{className:"mx-auto w-full flex-col",children:(0,t.jsx)(N.AnimatePresence,{initial:!1,mode:"wait",children:ez&&ea?(0,t.jsx)(C.motion.div,{animate:{opacity:1,filter:"blur(0px)"},className:"h-full w-full will-change-[opacity,filter]",exit:{opacity:0,filter:"blur(4px)"},initial:{opacity:0,filter:"blur(4px)"},transition:{duration:.45,ease:"easeInOut"},children:(0,t.jsx)(g.Suspense,{children:(0,t.jsx)(W,{onContinue:eK})})},"daily-streaks-slide"):eB?(0,t.jsx)(C.motion.div,{animate:{opacity:1,filter:"blur(0px)"},className:"h-full w-full will-change-[opacity,filter]",exit:{opacity:0,filter:"blur(4px)"},initial:{opacity:0,filter:"blur(4px)"},transition:{duration:.45,ease:"easeInOut"},children:(0,t.jsx)(ej,{currentWaveName:null!=(B=null==ei?void 0:ei.waveName)?B:"",currentWaveProgress:en,onContinue:eY,priorWavesProgress:es})},"video-slide"):eR?(0,t.jsx)(C.motion.div,{animate:{opacity:1,filter:"blur(0px)"},className:"h-full w-full will-change-[opacity,filter]",exit:{opacity:0,filter:"blur(4px)"},initial:{opacity:0,filter:"blur(4px)"},transition:{duration:.45,ease:"easeInOut"},children:(0,t.jsxs)(c.FlexColumn,{className:"h-full w-full items-center justify-start 3xl:justify-center gap-4 md:gap-12",children:[(0,t.jsxs)(c.FlexColumn,{className:"items-center px-4 pt-8 text-center lg:px-6",children:[(0,t.jsx)(s.Image,{alt:"Open Treasure Chest",className:"size-24",height:96,src:function(e){let t=Math.max(0,Math.min(e-1,tI.length-1));return tI[t]}(ed),width:96}),e$]}),(0,t.jsx)(tk,{chestLevel:ed,isRewardRevealed:eH,isTokenRevealed:eH,isTreasureRevealed:eH,onContinue:eZ,onShare:eG,revealReward:eD,revealToken:eD,revealTreasure:eD,rewardMap:eN,showContinueButton:!eB,sortedRewards:ev,tokenRewardMap:eC,treasures:ec})]})},"rewards-view"):(0,t.jsx)(C.motion.div,{animate:{opacity:1,filter:"blur(0px)"},className:"h-full w-full will-change-[opacity,filter]",exit:{opacity:0,filter:"blur(4px)"},initial:{opacity:0,filter:"blur(4px)"},transition:{duration:.45,ease:"easeInOut"},children:(0,t.jsx)(tB,{chestName:em,isChestOpen:ek,isOpeningChest:!1,level:ed,onOpenChest:eW,riveChestRef:eU,showRewards:eR,tier:eu})},"unopened-view")})})})})]}),fullscreen:!0,onOpenChange:K,open:!0})]})}),tq=(0,h.withSuspense)(function(e){let l,r,s,n,i,o=(0,a.c)(18),{treasureChest:c,className:d,treasures:u,allRewardsClaimed:m}=e,h=void 0!==m&&m,v=(0,x.useTranslations)("TreasureChest"),[j,y]=(0,g.useState)(!1),{hasRewards:w}=(0,p.useOpenableTreasureChests)(),{shouldShowCombineChestOverlay:N}=(0,b.useCombineChestOverlay)(),C=!(w||N);return o[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>y(!0),o[0]=l):l=o[0],o[1]!==h||o[2]!==w||o[3]!==v?(r=v(h?"viewChest":w?"openChest":"openableSoon"),o[1]=h,o[2]=w,o[3]=v,o[4]=r):r=o[4],o[5]!==d||o[6]!==C||o[7]!==r?(s=(0,t.jsx)(f.Button,{className:d,disabled:C,onClick:l,size:"md",variant:"secondary",children:r}),o[5]=d,o[6]=C,o[7]=r,o[8]=s):s=o[8],o[9]!==w||o[10]!==j||o[11]!==N||o[12]!==c||o[13]!==u?(n=j&&(w||N)&&(0,t.jsx)(tW,{onClose:()=>y(!1),openableTreasureChest:c,treasures:u}),o[9]=w,o[10]=j,o[11]=N,o[12]=c,o[13]=u,o[14]=n):n=o[14],o[15]!==s||o[16]!==n?(i=(0,t.jsxs)(t.Fragment,{children:[s,n]}),o[15]=s,o[16]=n,o[17]=i):i=o[17],i},{fallback:(0,t.jsx)(u.SkeletonBlock,{className:"h-10 w-full shrink-0 rounded-lg"})});var tY=e.i(204557),tK=e.i(149506);function tZ(e){return null!==e.claimedAt}function tQ(e){return null!==e.claimedAt}let t$=(0,h.withSuspense)(function(){var e,d,u,h,f,g;let b,v,j,y,w,N,C,T,S,E,_,k,R,L,P,M,B,A,z,O,I,D,H,U,V=(0,a.c)(67),G=(0,x.useTranslations)("ChestOpening"),W=(0,x.useTranslations)("TreasureChest"),q=(0,r.useDateTimeFormatter)(),{openableTreasureChest:Y,treasures:K,hasRewards:Z}=(0,p.useOpenableTreasureChests)(),Q=Y?(0,l.readFragment)(ey.OpenTreasureChestModalFragment,Y):null,J=(null==Q?void 0:Q.openEnd)?q(new Date(Q.openEnd),{display:"date"}):null,X=null!=(u=null==Y||null==(e=Y.userProgress)?void 0:e.currentLevel)?u:0,ee=null!=(h=null==Y||null==(d=Y.userProgress)?void 0:d.currentTier)?h:0;V[0]!==X?(b=(0,$.getMainChestImage)(X),V[0]=X,V[1]=b):b=V[1];let et=b,ea=(0,F.useChestName)(X);V[2]!==(null==Y?void 0:Y.userRewards)?(v=null!=(f=null==Y?void 0:Y.userRewards)?f:[],V[2]=null==Y?void 0:Y.userRewards,V[3]=v):v=V[3];let el=v;V[4]!==(null==Y?void 0:Y.userTokenRewards)?(j=null!=(g=null==Y?void 0:Y.userTokenRewards)?g:[],V[4]=null==Y?void 0:Y.userTokenRewards,V[5]=j):j=V[5];let er=j,es=el.length>0||er.length>0;V[6]!==el?(y=0===el.length||el.every(tQ),V[6]=el,V[7]=y):y=V[7];let en=y;V[8]!==er?(w=0===er.length||er.every(tZ),V[8]=er,V[9]=w):w=V[9];let ei=w,eo=es&&en&&ei;if(!(Y&&Z))return null;let ec=c.FlexColumn,ed=c.FlexColumn,eu=c.FlexColumn;V[10]!==eo||V[11]!==G?(N=G(eo?"yourOpenedChest":"yourBountyAwaits"),V[10]=eo,V[11]=G,V[12]=N):N=V[12],V[13]!==N?(C=(0,t.jsx)(m.TextBody,{className:"text-left",size:"md",weight:"semibold",children:N}),V[13]=N,V[14]=C):C=V[14],V[15]!==eo||V[16]!==G?(T=G(eo?"openedChestMessage":"chestUnlockedMessage"),V[15]=eo,V[16]=G,V[17]=T):T=V[17],V[18]!==T?(S=(0,t.jsx)(m.TextBody,{className:"text-left",color:"text-secondary",size:"sm",children:T}),V[18]=T,V[19]=S):S=V[19];let em=es&&!eo&&J&&(0,t.jsx)(m.TextBody,{className:"text-left",color:"text-secondary",size:"sm",children:G("claimDeadlineMessage",{claimDeadline:J})});return V[20]!==eu||V[21]!==S||V[22]!==em||V[23]!==C?(E=(0,t.jsxs)(eu,{className:"gap-0.5",children:[C,S,em]}),V[20]=eu,V[21]=S,V[22]=em,V[23]=C,V[24]=E):E=V[24],V[25]!==eo||V[26]!==Y||V[27]!==K?(_=(0,t.jsx)(tq,{allRewardsClaimed:eo,className:"w-full",treasureChest:Y,treasures:K}),V[25]=eo,V[26]=Y,V[27]=K,V[28]=_):_=V[28],V[29]!==ed||V[30]!==E||V[31]!==_?(k=(0,t.jsxs)(ed,{className:"gap-4 border-border-1 border-b bg-bg-secondary p-4",children:[E,_]}),V[29]=ed,V[30]=E,V[31]=_,V[32]=k):k=V[32],V[33]!==Y?(R=(0,t.jsx)(tK.TreasureChestWave,{treasureChest:Y}),V[33]=Y,V[34]=R):R=V[34],V[35]!==X||V[36]!==ee?(L=(0,t.jsx)(tY.StarRating,{filledStars:ee,level:X}),V[35]=X,V[36]=ee,V[37]=L):L=V[37],V[38]!==R||V[39]!==L?(P=(0,t.jsxs)(i.Flex,{className:"flex-wrap gap-2",children:[R,L]}),V[38]=R,V[39]=L,V[40]=P):P=V[40],V[41]!==ea||V[42]!==ee||V[43]!==W?(M=W("chestTitle",{chestName:ea,tier:ee}),V[41]=ea,V[42]=ee,V[43]=W,V[44]=M):M=V[44],V[45]!==M?(B=(0,t.jsx)(m.TextBody,{size:"md",weight:"semibold",children:M}),V[45]=M,V[46]=B):B=V[46],V[47]!==Y.waveName||V[48]!==G?(A=Y.waveName?G("chestDescription",{waveName:Y.waveName}):G("chestDescriptionFallback"),V[47]=Y.waveName,V[48]=G,V[49]=A):A=V[49],V[50]!==A?(z=(0,t.jsx)(m.TextBody,{color:"text-secondary",size:"sm",children:A}),V[50]=A,V[51]=z):z=V[51],V[52]!==B||V[53]!==z?(O=(0,t.jsxs)(c.FlexColumn,{className:"gap-1",children:[B,z]}),V[52]=B,V[53]=z,V[54]=O):O=V[54],V[55]!==P||V[56]!==O?(I=(0,t.jsxs)(c.FlexColumn,{className:"flex-1 justify-center gap-2",children:[P,O]}),V[55]=P,V[56]=O,V[57]=I):I=V[57],V[58]!==et?(D=(0,t.jsx)(n.CenterAligned,{className:"size-40 flex-shrink-0 md:size-48",children:(0,t.jsx)(s.Image,{alt:"Treasure Chest",className:"object-contain",height:200,src:et,width:200})}),V[58]=et,V[59]=D):D=V[59],V[60]!==I||V[61]!==D?(H=(0,t.jsx)(c.FlexColumn,{children:(0,t.jsxs)(o.FlexCenter,{className:"h-[200px] gap-1 pr-0 pl-4 md:h-[192px]",children:[I,D]})}),V[60]=I,V[61]=D,V[62]=H):H=V[62],V[63]!==ec||V[64]!==k||V[65]!==H?(U=(0,t.jsxs)(ec,{className:"h-fit overflow-hidden rounded-lg border border-blue-3 bg-bg-primary shadow-xs lg:w-110",children:[k,H]}),V[63]=ec,V[64]=k,V[65]=H,V[66]=U):U=V[66],U},{fallback:(0,t.jsx)(function(){let e,l,r,s,i,m=(0,a.c)(5);return m[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(u.SkeletonLine,{className:"h-5 w-32"}),l=(0,t.jsx)(u.SkeletonLine,{className:"h-4 w-48"}),m[0]=e,m[1]=l):(e=m[0],l=m[1]),m[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(n.CenterAligned,{className:"w-full",children:(0,t.jsx)(u.SkeletonLine,{className:"h-4 w-16"})}),s=(0,t.jsx)(d.Separator,{orientation:"vertical"}),m[2]=r,m[3]=s):(r=m[2],s=m[3]),m[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(c.FlexColumn,{className:"h-fit overflow-hidden rounded-lg border border-border-1 bg-bg-primary shadow-xs lg:w-110",children:(0,t.jsxs)(c.FlexColumn,{className:"gap-1 p-4",children:[e,l,(0,t.jsx)(c.FlexColumn,{className:"gap-2",children:(0,t.jsxs)(o.FlexCenter,{className:"mt-2 w-full flex-col justify-center gap-2 rounded-lg border border-border-1 bg-bg-secondary sm:flex-row",children:[r,s,(0,t.jsxs)(o.FlexCenter,{className:"w-full gap-2 p-2",children:[(0,t.jsx)(u.SkeletonBlock,{className:"h-[50px] w-[50px] rounded"}),(0,t.jsx)(u.SkeletonBlock,{className:"h-[50px] w-[50px] rounded"}),(0,t.jsx)(u.SkeletonBlock,{className:"h-[50px] w-[50px] rounded"}),(0,t.jsx)(u.SkeletonBlock,{className:"h-[50px] w-[50px] rounded"})]})]})})]})}),m[4]=i):i=m[4],i},{}),ssr:!1})},710525,e=>{"use strict";e.s(["useRewardBanStatus",()=>c]);var t=e.i(590268),a=e.i(528198),l=e.i(333799),r=e.i(471317);e.i(500598);var s=e.i(207225),n=e.i(71105);let i=(0,a.graphql)("\n	query ProfilesByAccountRewardBanStatus($address: Address!) {\n		profilesByAccount(address: $address) {\n			profiles {\n				... on Profile {\n					address\n					isRewardBanned\n				}\n			}\n			account {\n				... on Profile {\n					address\n					isRewardBanned\n				}\n			}\n		}\n	}\n"),o={ttl:r.TTL["5m"],suspense:!1};function c(){var e,a,r,c,u;let m,x,h,p,f,g=(0,t.c)(10),b=(0,s.useAddress)(),v=(0,n.useAuthenticated)(),j=null!=b?b:"";g[0]!==j?(m={address:j},g[0]=j,g[1]=m):m=g[1];let y=!(b&&v);g[2]!==m||g[3]!==y?(x={query:i,variables:m,pause:y,context:o},g[2]=m,g[3]=y,g[4]=x):x=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(h={throwOnError:!1},g[5]=h):h=g[5];let[w]=(0,l.useQuery)(x,h),{data:N}=w,C=null==N||null==(e=N.profilesByAccount)?void 0:e.account;g[6]!==(null==N||null==(a=N.profilesByAccount)?void 0:a.profiles)?(p=null!=(u=null==N||null==(r=N.profilesByAccount)?void 0:r.profiles)?u:[],g[6]=null==N||null==(c=N.profilesByAccount)?void 0:c.profiles,g[7]=p):p=g[7];let T=p,S=(null==C?void 0:C.__typename)==="Profile"&&C.isRewardBanned;g[8]!==T?(f=T.some(d),g[8]=T,g[9]=f):f=g[9];let E=f;return S||E}function d(e){return"Profile"===e.__typename&&e.isRewardBanned}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="04a2afd1-1377-5a1a-93fd-7947fbaa6e14")}catch(e){}}();
//# debugId=04a2afd1-1377-5a1a-93fd-7947fbaa6e14
