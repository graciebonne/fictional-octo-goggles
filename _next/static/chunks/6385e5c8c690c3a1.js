(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,472217,e=>{"use strict";e.s(["TopCurrencyStatsTable",()=>I],472217);var n=e.i(705378),r=e.i(590268),t=e.i(104062),a=e.i(81303),i=e.i(252380),s=e.i(960243),u=e.i(940704),l=e.i(969498),c=e.i(756344),o=e.i(389852),C=e.i(99944),y=e.i(526834),S=e.i(948941),m=e.i(771968),d=e.i(649386),g=e.i(919434),T=e.i(192062),p=e.i(990665),b=e.i(998918),h=e.i(578551),f=e.i(88714),R=e.i(444501),A=e.i(532500),_=e.i(456712);e.i(468840);var v=e.i(699471),F=e.i(688393),E=e.i(581808),V=e.i(462484),w=e.i(980016),k=e.i(180193),$=e.i(528198),P=e.i(385452);let N=(0,$.graphql)("\n    query TopCurrencyStatsTableQueryDefault(\n      $cursor: String\n      $sort: CurrenciesSort!\n      $filter: CurrenciesFilter!\n      $limit: Int!\n      $slug: CurrencySlug\n    ) {\n      topCurrenciesV2(\n        cursor: $cursor\n        sort: $sort\n        filter: $filter\n        limit: $limit\n        slug: $slug\n      ) {\n        items {\n          __typename\n          ... on CurrencyV2 {\n            id\n            name\n            contractAddress\n            chainIdentifier\n            chain {\n              identifier\n            }\n            __typename\n            ...CurrencyStatsTableRow\n            ...CurrencyStatsTableRowDefault\n            ...CurrencyStatsTableRowAge\n            ...CurrencyStatsSubscription\n            ...CurrencyRankingSubscription\n          }\n        }\n        nextPageCursor\n      }\n    }\n  ",[F.CurrencyStatsTableRowFragment,P.CurrencyStatsTableRowDefaultFragment,E.CurrencyStatsTableRowAgeFragment,y.CurrencyStatsSubscriptionFragment,C.CurrencyRankingSubscriptionFragment]);var x=e.i(947195);let j=(0,$.graphql)("\n    query TopCurrencyStatsTableQueryNew(\n      $cursor: String\n      $sort: CurrenciesSort!\n      $filter: CurrenciesFilter!\n      $limit: Int!\n      $slug: CurrencySlug\n    ) {\n      topCurrenciesV2(\n        cursor: $cursor\n        sort: $sort\n        filter: $filter\n        limit: $limit\n        slug: $slug\n      ) {\n        items {\n          __typename\n          ... on CurrencyV2 {\n            id\n            name\n            contractAddress\n            chainIdentifier\n            chain {\n              identifier\n            }\n            __typename\n            ...CurrencyStatsTableRow\n            ...CurrencyStatsTableRowNew\n            ...CurrencyStatsTableRowAge\n            ...CurrencyStatsSubscription\n            ...CurrencyRankingSubscription\n          }\n        }\n        nextPageCursor\n      }\n    }\n  ",[F.CurrencyStatsTableRowFragment,x.CurrencyStatsTableRowNewFragment,E.CurrencyStatsTableRowAgeFragment,y.CurrencyStatsSubscriptionFragment,C.CurrencyRankingSubscriptionFragment]);var L=e.i(437153),Q=e.i(472052);function U(e){let t,a,i=(0,r.c)(6),{persona:u,headerClassName:l,columnVariant:c}=e,o=void 0===c?s.CurrencyStatsColumnVariant.DEFAULT:c;return i[0]!==l?(t=(0,L.classNames)((0,R.topStickyVariants)({variant:"after-filter-toolbar",tableHeader:!0}),l),i[0]=l,i[1]=t):t=i[1],i[2]!==o||i[3]!==u||i[4]!==t?(a=(0,n.jsx)(Q.CurrencyStatsTableSkeleton,{columnVariant:o,headerClassName:t,persona:u}),i[2]=o,i[3]=u,i[4]=t,i[5]=a):a=i[5],a}let I=(0,o.withSuspense)(e=>{let{persona:r,defaultSortBy:a,recentlyCreated:o,shouldPaginate:F=!0,slug:E,columnVariant:V=s.CurrencyStatsColumnVariant.DEFAULT,...$}=e,P=(0,u.useTranslations)("topTokensPage"),{chains:x}=(0,A.useChainsQueryParam)(),{category:L}=(0,T.useCurrencyCategoryQueryParam)(),{sortBy:Q}=(0,p.useCurrencyStatsSortByQueryParam)(a),{sortDirection:U}=(0,_.useSortDirectionQueryParam)(),{price:I}=(0,f.usePriceQueryParam)(d.QUERY_PARAM_KEYS.marketCap),{hasNft:B}=(0,h.useHasNftQueryParam)(),{hasMerchandising:D}=(0,b.useHasMerchandisingQueryParam)(),W={direction:U,by:(0,w.getCurrencySortBy)(Q)},H={sort:W,filter:{chains:x.length>0?x:void 0,coinGeckoCategory:L,marketCapRange:I?{min:I.min,max:I.max}:void 0,recentlyCreated:o,hasNft:B||void 0,hasMerchandising:D||void 0},limit:k.TOP_CURRENCY_STATS_TABLE_PAGE_SIZE,slug:E},O="NEW"===E?j:N,{items:Y,pagination:q,setItems:K,noResults:z,error:G}=(0,m.usePaginatedQuery)({query:O,variables:H},e=>null==e?void 0:e.topCurrenciesV2,{pageSize:k.TOP_CURRENCY_STATS_TABLE_PAGE_SIZE,autoScrollToTop:!0}),[Z,J]=(0,l.useState)(new Map),X=Y.filter(e=>(null==e?void 0:e.__typename)==="CurrencyV2");(0,y.useCurrenciesStatsSubscription)(X,K,W),(0,C.useCurrencyRankingSubscription)(K,E,H.filter,W,J);let ee=X.flatMap(e=>{var n;return e?[{contractAddress:e.contractAddress,chainIdentifier:null!=(n=e.chainIdentifier)?n:e.chain.identifier}]:[]}),{isTokenWatchedMap:en,isTokenWatchedFetching:er}=(0,S.useIsTokenWatched)(ee),et=(0,c.useHasSearchFilters)(),ea=(0,g.useClearFilters)();return G||z?(0,n.jsx)(t.EmptyState,{onResetFilters:ea,size:"lg",variant:G?"no-data":et?"no-results-with-filters":"no-results"}):(s.CurrencyStatsColumnVariant.NEW,(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.VisuallyHidden,{children:(0,n.jsx)("h1",{children:P("heading")})}),(0,n.jsx)(v.CurrencyStatsTable,{columnVariant:V,context:{isTokenWatchedMap:en,isTokenWatchedFetching:er,itemsLiveAddedAt:Z,columnVariant:V,slug:E},defaultSortBy:a,headerClassName:(0,R.topStickyVariants)({variant:et?"after-filter-search-pills":"after-filter-toolbar",tableHeader:!0}),itemKey:e=>null==e?void 0:e.id,items:X,renderRow:M,...F?q:{},...$})]}))},{fallback:e=>{let{persona:r,columnVariant:t=s.CurrencyStatsColumnVariant.DEFAULT}=e;return(0,n.jsx)(U,{columnVariant:t,persona:r})},errorFallback:(0,n.jsx)(t.EmptyState,{size:"lg",variant:"no-data"})});function M(e){var t;let i,u,l=(0,r.c)(12),{item:c,index:o,context:C}=e,y=null!=(t=null==C?void 0:C.columnVariant)?t:s.CurrencyStatsColumnVariant.DEFAULT,S=y===s.CurrencyStatsColumnVariant.NEW;if(!c||"CurrencyV2"!==c.__typename)return null;let m=null==C?void 0:C.isTokenWatchedFetching,d=null==C?void 0:C.isTokenWatchedMap,g=null==C?void 0:C.itemsLiveAddedAt;l[0]!==c||l[1]!==S?(i=S?(0,n.jsx)(a.TableCell,{className:V.CURRENCY_STATS_TABLE_COLUMN_CLASSNAMES.stat,children:(0,n.jsx)(E.CurrencyStatsTableRowAge,{currency:c})}):null,l[0]=c,l[1]=S,l[2]=i):i=l[2];let T=o+1,p=null==C?void 0:C.slug;return l[3]!==y||l[4]!==c||l[5]!==m||l[6]!==d||l[7]!==g||l[8]!==i||l[9]!==T||l[10]!==p?(u=(0,n.jsx)(F.CurrencyStatsTableRow,{columnVariant:y,currency:c,isTokenWatchedFetching:m,isTokenWatchedMap:d,itemsLiveAddedAt:g,postColumns:i,rank:T,slug:p}),l[3]=y,l[4]=c,l[5]=m,l[6]=d,l[7]=g,l[8]=i,l[9]=T,l[10]=p,l[11]=u):u=l[11],u}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="90f2f54c-025c-5ccb-a513-586670a25ea6")}catch(e){}}();
//# debugId=90f2f54c-025c-5ccb-a513-586670a25ea6
