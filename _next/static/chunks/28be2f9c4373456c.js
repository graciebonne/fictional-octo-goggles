(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,406283,e=>{"use strict";e.s(["TreasureChestChip",()=>s]);var n=e.i(705378),r=e.i(590268),t=e.i(567089),a=e.i(437153);function s(e){let s,i,l=(0,r.c)(5),{children:o,className:u}=e;return l[0]!==u?(s=(0,a.classNames)("h-8 justify-center rounded-full border-none bg-bg-additional-1 px-3 font-sans normal-case",u),l[0]=u,l[1]=s):s=l[1],l[2]!==o||l[3]!==s?(i=(0,n.jsx)(t.Chip,{className:s,variant:"default",children:o}),l[2]=o,l[3]=s,l[4]=i):i=l[4],i}},204557,e=>{"use strict";e.s(["StarRating",()=>m]);var n=e.i(705378),r=e.i(590268),t=e.i(437153),a=e.i(254842),s=e.i(794576),i=e.i(534763),l=e.i(410338),o=e.i(575789),u=e.i(940704),d=e.i(406283),c=e.i(356229);function m(e){let m,h,E,_=(0,r.c)(12),{filledStars:C,className:g,size:T,containerClassName:p,inactiveStarsClassName:v,level:S,showExcessPoints:L}=e,R=void 0===T?20:T,b=(0,u.useTranslations)("TreasureChest"),A=void 0!==L?L:void 0!==S&&S>c.AVAILABLE_CHEST_LEVELS;return _[0]!==g||_[1]!==p?(m=(0,t.classNames)(p,g),_[0]=g,_[1]=p,_[2]=m):m=_[2],_[3]!==C||_[4]!==v||_[5]!==A||_[6]!==R||_[7]!==b?(h=A?(0,n.jsxs)(a.Flex,{className:"items-center gap-1.5",children:[(0,n.jsx)(s.Info,{className:"text-text-secondary",size:16}),(0,n.jsx)("span",{className:"font-medium text-sm",children:b("excessPoints")})]}):(0,n.jsx)(a.Flex,{className:"gap-1",children:(0,o.range)(c.STARS_PER_LEVEL).map(e=>{let r=e<C,a=r?l.StarFilled:i.Star;return(0,n.jsx)("div",{children:(0,n.jsx)(a,{className:(0,t.classNames)("mb-[1px]",r?"text-warning":v||"text-text-secondary"),size:R})},e)})}),_[3]=C,_[4]=v,_[5]=A,_[6]=R,_[7]=b,_[8]=h):h=_[8],_[9]!==m||_[10]!==h?(E=(0,n.jsx)(d.TreasureChestChip,{className:m,children:h}),_[9]=m,_[10]=h,_[11]=E):E=_[11],E}},933308,e=>{"use strict";e.s(["AIR_TIER_LABELS",()=>u,"BREAKER_BOUNTY_TIER_LABELS",()=>m,"COMMANDERS_TROVE_TIER_LABELS",()=>E,"FIRE_TIER_LABELS",()=>l,"MARINER_TIER_LABELS",()=>c,"NAVIGATORS_COMPASS_TIER_LABELS",()=>h,"PRIOR_WAVE_IDS",()=>i,"TREASURE_CHEST_WAVE_1_ID",()=>n,"TREASURE_CHEST_WAVE_2_ID",()=>r,"TREASURE_CHEST_WAVE_3_ID",()=>t,"TREASURE_CHEST_WAVE_4_ID",()=>a,"TREASURE_CHEST_WAVE_5_ID",()=>s,"VOYAGER_TIER_LABELS",()=>d,"WATER_TIER_LABELS",()=>o]);let n="d65d8348-9374-4073-8469-6480ddcaa068",r="b024bb01-d0e9-4de5-baeb-30d03f0d99bb",t="4336cc5a-828d-46e0-b228-8af651b64a42",a="12ce87f3-354b-4926-8b91-febf80d64767",s="d120f02d-c140-4875-9e3a-87041f344d35",i=[n,r,t,a],l={1:"top 90%",2:"top 50%",3:"top 10%",4:"top 1%",5:"top 0.1%",6:"top 0.01%"},o={1:"useful",2:"helpful",3:"valuable",4:"important",5:"significant",6:"exceptional"},u={1:"1 shipment",2:"2 shipments",3:"3-4 shipments",4:"5-7 shipments",5:"8-9 shipments",6:"10+ shipments"},d={1:"participating",2:"top 50%",3:"top 40%",4:"top 30%",5:"top 20%",6:"top 10%",7:"top 5%",8:"top 3%",9:"top 1%",10:"top 0.5%",11:"top 0.25%",12:"top 0.1%"},c={1:"Wood",2:"Iron",3:"Steel",4:"Titanium",5:"Chromium",6:"Cobalt",7:"Amethyst",8:"Topaz",9:"Sapphire",10:"Ruby",11:"Ember",12:"Solar"},m={1:"Wood",2:"Iron",3:"Steel",4:"Titanium",5:"Chromium",6:"Cobalt",7:"Amethyst",8:"Topaz",9:"Sapphire",10:"Ruby",11:"Ember",12:"Solar",13:"Diamond",14:"Diamond"},h={1:"Wood",2:"Iron",3:"Steel",4:"Titanium",5:"Chromium",6:"Cobalt",7:"Amethyst",8:"Topaz",9:"Sapphire",10:"Ruby",11:"Ember",12:"Solar",13:"Diamond",14:"Diamond"},E={1:"Wood",2:"Iron",3:"Steel",4:"Titanium",5:"Chromium",6:"Cobalt",7:"Amethyst",8:"Topaz",9:"Sapphire",10:"Ruby",11:"Ember",12:"Solar",13:"Diamond",14:"Diamond"}},356229,e=>{"use strict";e.s(["AVAILABLE_CHEST_LEVELS",()=>t,"STARS_PER_LEVEL",()=>a,"TOTAL_CHEST_LEVELS",()=>s,"generateChestIcons",()=>c,"getChestImage",()=>o,"getMainChestImage",()=>u,"getOpenChestImage",()=>d]);var n=e.i(575789),r=e.i(607172);let t=13,a=3,s=13,i=[r.CLOSED_CHEST_LEVEL_1,r.CLOSED_CHEST_LEVEL_2,r.CLOSED_CHEST_LEVEL_3,r.CLOSED_CHEST_LEVEL_4,r.CLOSED_CHEST_LEVEL_5,r.CLOSED_CHEST_LEVEL_6,r.CLOSED_CHEST_LEVEL_7,r.CLOSED_CHEST_LEVEL_8,r.CLOSED_CHEST_LEVEL_9,r.CLOSED_CHEST_LEVEL_10,r.CLOSED_CHEST_LEVEL_11,r.CLOSED_CHEST_LEVEL_12,r.CLOSED_CHEST_LEVEL_13],l=[r.OPEN_CHEST_LEVEL_1,r.OPEN_CHEST_LEVEL_2,r.OPEN_CHEST_LEVEL_3,r.OPEN_CHEST_LEVEL_4,r.OPEN_CHEST_LEVEL_5,r.OPEN_CHEST_LEVEL_6,r.OPEN_CHEST_LEVEL_7,r.OPEN_CHEST_LEVEL_8,r.OPEN_CHEST_LEVEL_9,r.OPEN_CHEST_LEVEL_10,r.OPEN_CHEST_LEVEL_11,r.OPEN_CHEST_LEVEL_12,r.OPEN_CHEST_LEVEL_13];function o(e){return e>t?r.MYSTERY_CHEST_LEVEL_1:i[Math.max(e-1,0)]}function u(e){return e>t?r.MYSTERY_CHEST_LEVEL_1:i[Math.max(e-1,0)]}function d(e){if(e>t)return r.MYSTERY_CHEST_LEVEL_1;let n=Math.max(0,Math.min(e-1,l.length-1));return l[n]}function c(e){return(0,n.range)(s).map(n=>{let r=n+1,a=r<e,s=r>t,i=o(r),l=0===e&&1===r?"active":r<e?"completed":r===e?"active":"locked";return{id:r,isUnlocked:a,image:i,isMystery:s,status:l}})}},308641,e=>{"use strict";e.s(["useOpenableTreasureChests",()=>o]);var n=e.i(590268),r=e.i(528198),t=e.i(731049),a=e.i(731950),s=e.i(553919),i=e.i(598777);let l=(0,r.graphql)("\n    query useOpenableTreasureChestsQuery {\n      openableTreasureChests {\n        items {\n          id\n          userRewards {\n            id\n            claimedAt\n          }\n          userTokenRewards {\n            id\n            claimedAt\n          }\n          userProgress {\n            totalPoints\n            hasExceededLevelCap\n            currentLevel\n            currentTier\n            levelProgressPercent\n          }\n          userTreasures {\n            ...OpenChestButton_treasure\n          }\n          waveName\n          ...TreasureChestWave\n          ...OpenChestButton\n          ...OpenTreasureChestModal\n        }\n      }\n            mostRecentlyEndedTreasureChest {\n              id\n              openStart\n              userRewards {\n                id\n                claimedAt\n              }\n              userTokenRewards {\n                id\n                claimedAt\n              }\n              userProgress {\n                totalPoints\n                hasExceededLevelCap\n                currentLevel\n                currentTier\n                levelProgressPercent\n              }\n              userTreasures {\n                ...OpenChestButton_treasure\n              }\n              waveName\n              ...TreasureChestWave\n              ...OpenChestButton\n              ...OpenTreasureChestModal\n            }\n    }\n  ",[s.TreasureChestWaveFragment,t.OpenChestButtonFragment,t.OpenChestButton_treasureFragment,a.OpenTreasureChestModalFragment]);function o(){var e,r,t,a,s,o,d,c,m;let h,E,_,C,g,T,p,v,S,L,R,b=(0,n.c)(24);b[0]===Symbol.for("react.memo_cache_sentinel")?(h={query:l},E={throwOnError:!1},b[0]=h,b[1]=E):(h=b[0],E=b[1]);let[A,y]=(0,i.useAuthenticatedQuery)(h,E);b[2]!==A?({data:_,fetching:C,stale:T,...g}=A,b[2]=A,b[3]=_,b[4]=C,b[5]=g,b[6]=T):(_=b[3],C=b[4],g=b[5],T=b[6]),b[7]!==(null==_||null==(e=_.openableTreasureChests)?void 0:e.items)?(p=null!=(o=null==_||null==(a=_.openableTreasureChests)?void 0:a.items)?o:[],b[7]=null==_||null==(s=_.openableTreasureChests)?void 0:s.items,b[8]=p):p=b[8];let f=p;b[9]!==(null==_?void 0:_.mostRecentlyEndedTreasureChest)||b[10]!==f?(S=f.at(0),v=null==_?void 0:_.mostRecentlyEndedTreasureChest,L=(null!=(d=null==S?void 0:S.userTreasures)?d:[]).filter(u),b[9]=null==_?void 0:_.mostRecentlyEndedTreasureChest,b[10]=f,b[11]=v,b[12]=S,b[13]=L):(v=b[11],S=b[12],L=b[13]);let P=L,O=(null!=(c=null==S||null==(r=S.userRewards)?void 0:r.length)?c:0)>0||(null!=(m=null==S||null==(t=S.userTokenRewards)?void 0:t.length)?m:0)>0||P.length>0;return b[14]!==C||b[15]!==O||b[16]!==v||b[17]!==S||b[18]!==f||b[19]!==y||b[20]!==g||b[21]!==T||b[22]!==P?(R={openableTreasureChests:f,openableTreasureChest:S,mostRecentlyEndedTreasureChest:v,hasRewards:O,treasures:P,fetching:C,stale:T,...g,refetch:y},b[14]=C,b[15]=O,b[16]=v,b[17]=S,b[18]=f,b[19]=y,b[20]=g,b[21]=T,b[22]=P,b[23]=R):R=b[23],R}function u(e){return!!e}},731049,845139,589534,320464,295165,731950,553919,e=>{"use strict";e.s(["OpenChestButtonFragment",()=>v,"OpenChestButton_treasureFragment",()=>p],731049);var n=e.i(528198);e.s(["OpenTreasureChestModalFragment",()=>T,"OpenTreasureChestModal_treasureFragment",()=>g],731950),e.s(["ItemRewardCardFragment",()=>u],589534);var r=e.i(682576),t=e.i(201578),a=e.i(959105);e.i(661049);var s=e.i(190519),i=e.i(846428),l=e.i(57465);e.s(["GrandPrizeModalFragment",()=>o],845139);let o=(0,n.graphql)("\n    fragment GrandPrizeModal on UserReward {\n      id\n      treasureChestId\n      item {\n        id\n        name\n        collection {\n          ...CollectionLockup\n          ...CollectionPreviewTooltip\n          name\n          imageUrl\n        }\n      }\n    }\n  ",[r.CollectionLockupFragment,t.CollectionPreviewTooltipFragment]),u=(0,n.graphql)("\n    fragment ItemRewardCard on UserReward {\n      id\n      address\n      claimedAt\n      orderId\n      isGrandPrize\n      ...ItemRewardMedia\n      ...GrandPrizeModal\n      item {\n        id\n        name\n        imageUrl\n        ...ItemLink\n        collection {\n          ...CollectionLockup\n          ...CollectionLink\n          ...CollectionPreviewTooltip\n          name\n          imageUrl\n        }\n        ...useBuyItems\n      }\n    }\n  ",[r.CollectionLockupFragment,i.useBuyItemsFragment,s.ItemLinkFragment,a.CollectionLinkFragment,t.CollectionPreviewTooltipFragment,l.ItemRewardMediaFragment,o]);var d=e.i(234761);e.s(["TokenRewardCardFragment",()=>E],320464);var c=e.i(767502),m=e.i(332238),h=e.i(279155);let E=(0,n.graphql)("\n    fragment TokenRewardCard on UserTokenReward {\n      id\n      address\n      treasureChestId\n      claimedAt\n      airdrop\n      ...TokenRewardMedia\n      claimActions {\n        actions {\n          ...ActionTimeline\n        }\n      }\n      balance {\n        usdValue\n        quantity\n        currency {\n          name\n          symbol\n          ...ContextCurrency\n        }\n      }\n    }\n  ",[m.ActionTimelineFragment,c.ContextCurrencyFragment,h.TokenRewardMediaFragment]);e.s(["TreasureRewardCardFragment",()=>C],295165);var _=e.i(186869);let C=(0,n.graphql)("\n    fragment TreasureRewardCard on Badge {\n      id\n      name\n      description\n      ...TreasureRewardMedia\n    }\n  ",[_.TreasureRewardMediaFragment]),g=(0,n.graphql)("\n    fragment OpenTreasureChestModal_treasure on Badge {\n      __typename\n      id\n      name\n      ...TreasureRewardCard\n    }\n  ",[C]),T=(0,n.graphql)("\n    fragment OpenTreasureChestModal on TreasureChest {\n      id\n      waveName\n      openEnd\n      chestLevels {\n        level\n        pointsRequired\n      }\n      userProgress {\n        totalPoints\n        hasExceededLevelCap\n        currentLevel\n        currentTier\n        levelProgressPercent\n        minimumVoyageChestLevel {\n          level\n          name\n        }\n      }\n      userRewards {\n        __typename\n        id\n        treasureChestId\n        claimedAt\n        address\n        ...ItemRewardCard\n        ...SortRewardsByValue_item\n      }\n      userTokenRewards {\n        __typename\n        id\n        treasureChestId\n        claimedAt\n        address\n        ...TokenRewardCard\n        ...SortRewardsByValue_token\n      }\n      userTreasures {\n        ...OpenTreasureChestModal_treasure\n      }\n    }\n  ",[u,d.SortRewardsByValue_itemFragment,E,d.SortRewardsByValue_tokenFragment,g]),p=(0,n.graphql)("\n    fragment OpenChestButton_treasure on Badge {\n      name\n      ...OpenTreasureChestModal_treasure\n    }\n  ",[g]),v=(0,n.graphql)("\n    fragment OpenChestButton on TreasureChest {\n      ...OpenTreasureChestModal\n      userProgress {\n        totalPoints\n      }\n      userRewards {\n        id\n        claimedAt\n      }\n      userTokenRewards {\n        id\n        claimedAt\n      }\n      userTreasures {\n        ...OpenChestButton_treasure\n      }\n    }\n  ",[T,p]);e.s(["TreasureChestWaveFragment",()=>S],553919);let S=(0,n.graphql)("\n  fragment TreasureChestWave on TreasureChest {\n    id\n    name\n    waveName\n  }\n")},598777,e=>{"use strict";e.s(["useAuthenticatedQuery",()=>i]);var n=e.i(590268),r=e.i(333799);e.i(500598);var t=e.i(207225),a=e.i(71105);let s={requestPolicy:"cache-and-network"};function i(e,i){let l,o,u,d,c,m,h,E,_,C,g=(0,n.c)(27);g[0]!==i?(l=void 0===i?{}:i,g[0]=i,g[1]=l):l=g[1];let{throwOnError:T}=l,p=void 0===T||T,v=(0,t.useAddress)(),S=(0,a.useAuthenticated)(),L=S&&v?"authenticated:".concat(v):void 0;g[2]!==e?({variables:c,pause:u,context:o,...d}=e,g[2]=e,g[3]=o,g[4]=u,g[5]=d,g[6]=c):(o=g[3],u=g[4],d=g[5],c=g[6]);let R=!!u||!(S&&v);g[7]!==L?(m=L&&{_authKey:L},g[7]=L,g[8]=m):m=g[8],g[9]!==m||g[10]!==c?(h={...c,...m},g[9]=m,g[10]=c,g[11]=h):h=g[11];let b=h,A=null!=o?o:s;g[12]!==d||g[13]!==R||g[14]!==b||g[15]!==A?(E={...d,variables:b,pause:R,context:A},g[12]=d,g[13]=R,g[14]=b,g[15]=A,g[16]=E):E=g[16],g[17]!==p?(_={throwOnError:p},g[17]=p,g[18]=_):_=g[18];let[y,f]=(0,r.useQuery)(E,_);if(!(S&&v)){let e,n;return g[19]!==y?(e={...y,data:void 0},g[19]=y,g[20]=e):e=g[20],g[21]!==f||g[22]!==e?(n=[e,f],g[21]=f,g[22]=e,g[23]=n):n=g[23],n}return g[24]!==f||g[25]!==y?(C=[y,f],g[24]=f,g[25]=y,g[26]=C):C=g[26],C}},57465,e=>{"use strict";e.s(["ItemRewardMediaFragment",()=>t]);var n=e.i(528198),r=e.i(600028);let t=(0,n.graphql)("\n    fragment ItemRewardMedia on UserReward {\n      id\n      isGrandPrize\n      item {\n        ...ItemMedia\n        chain {\n          identifier\n        }\n      }\n    }\n  ",[r.ItemMediaFragment])},234761,e=>{"use strict";e.s(["SortRewardsByValue_itemFragment",()=>a,"SortRewardsByValue_tokenFragment",()=>s,"sortRewardsByValue",()=>l]);var n=e.i(528198),r=e.i(635341),t=e.i(465172);let a=(0,n.graphql)("\n  fragment SortRewardsByValue_item on UserReward {\n    __typename\n    id\n    item {\n      bestOffer {\n        pricePerItem {\n          usd\n        }\n      }\n    }\n  }\n"),s=(0,n.graphql)("\n  fragment SortRewardsByValue_token on UserTokenReward {\n    __typename\n    id\n    balance {\n      usdValue\n    }\n  }\n");function i(e){var n,i,l,o,u,d;if("UserTokenReward"===e.__typename){let n=(0,r.readFragment)(s,e);return(0,t.bn)(null!=(u=null==(o=n.balance)?void 0:o.usdValue)?u:0).toNumber()}let c=(0,r.readFragment)(a,e);return(0,t.bn)(null!=(d=null==(l=c.item)||null==(i=l.bestOffer)||null==(n=i.pricePerItem)?void 0:n.usd)?d:0).toNumber()}function l(e,n){return[...e.map(e=>({original:e,sortData:(0,r.readFragment)(a,e)})),...n.map(e=>({original:e,sortData:(0,r.readFragment)(s,e)}))].sort((e,n)=>i(e.sortData)-i(n.sortData)).map(e=>{let{original:n}=e;return n})}},279155,e=>{"use strict";e.s(["TokenRewardMediaFragment",()=>a]);var n=e.i(81810),r=e.i(528198),t=e.i(111908);let a=(0,r.graphql)("\n    fragment TokenRewardMedia on UserTokenReward {\n      id\n      balance {\n        usdValue\n        currency {\n          imageUrl\n          ...CurrencyLockup\n          metadata {\n            ...useCurrencyBannerMedia\n            ...useCurrencyBannerMediaFallback\n          }\n        }\n      }\n    }\n  ",[n.CurrencyLockupFragment,t.useCurrencyBannerMediaFragment,t.useCurrencyBannerMediaFallbackFragment])},186869,e=>{"use strict";e.s(["TreasureRewardMediaFragment",()=>n]);let n=(0,e.i(528198).graphql)("\n  fragment TreasureRewardMedia on Badge {\n    id\n    name\n    imageUrl\n    animationUrl\n  }\n")},287342,293108,e=>{"use strict";e.s(["useActiveTreasureChests",()=>h],287342);var n=e.i(528198),r=e.i(635341),t=e.i(969498),a=e.i(731950);e.s(["TreasureChestContentFragment",()=>l],293108);var s=e.i(731049),i=e.i(553919);let l=(0,n.graphql)("\n    fragment TreasureChestContent on TreasureChest {\n      id\n      ...TreasureChestWave\n      ...OpenChestButton\n      chestLevels {\n        level\n        pointsRequired\n      }\n    }\n  ",[i.TreasureChestWaveFragment,s.OpenChestButtonFragment]);e.i(402819);var o=e.i(916744),u=e.i(207225),d=e.i(598777);let c=(0,n.graphql)("\n    query useActiveTreasureChestsQuery {\n      activeTreasureChests {\n        items {\n          id\n          endDate\n          ...TreasureChestContent\n          ...TreasureChestWave\n          ...OpenTreasureChestModal\n          waveName\n        }\n      }\n    }\n  ",[l,i.TreasureChestWaveFragment,a.OpenTreasureChestModalFragment]),m=(0,n.graphql)("\n    subscription UseActiveTreasureChestsProgress($address: Address!) {\n      treasureChestProgress(address: $address) {\n        totalPoints\n      }\n    }\n  ");function h(){var e,n;let s=(0,u.useAddress)(),[i,l]=(0,d.useAuthenticatedQuery)({query:c},{throwOnError:!1}),{data:h,...E}=i,_=null!=(n=null==h||null==(e=h.activeTreasureChests)?void 0:e.items)?n:[],C=_.at(0),g=(0,t.useMemo)(()=>{if(!C)return;let e=(0,r.readFragment)(a.OpenTreasureChestModalFragment,C);if(e.userProgress)return{totalPoints:e.userProgress.totalPoints,hasExceededLevelCap:e.userProgress.hasExceededLevelCap,currentLevel:e.userProgress.currentLevel,currentTier:e.userProgress.currentTier,levelProgressPercent:e.userProgress.levelProgressPercent,minimumVoyageChestLevel:e.userProgress.minimumVoyageChestLevel}},[C]);return(0,o.useSubscription)({query:m,variables:{address:null!=s?s:""},pause:!s,pauseOnInactivity:!1},()=>{l({requestPolicy:"network-only"})}),{activeTreasureChests:_,activeTreasureChest:C,userProgress:g,...E,refetch:l,refetchProgress:()=>{s&&l({requestPolicy:"network-only"})}}}},828467,90546,e=>{"use strict";e.s(["WAVE_COMBINE_SEEN_EVENT",()=>C,"WAVE_COMBINE_SEEN_KEY",()=>_,"useCombineChestOverlay",()=>T],828467);var n=e.i(590268),r=e.i(635341),t=e.i(371683),a=e.i(969498),s=e.i(933308),i=e.i(607172),l=e.i(287342),o=e.i(528198),u=e.i(861316),d=e.i(598777);e.s(["WaveProgressFragment",()=>c],90546);let c=(0,o.graphql)("\n  fragment WaveProgress on UserProgressSummaryResponse {\n    totalPoints\n    currentLevel\n    currentTier\n    levelProgressPercent\n    hasExceededLevelCap\n    treasureChestId\n    treasureImageUrl\n    treasureAnimationUrl\n  }\n"),m=(0,o.graphql)("\n    query useChestCombinedProgressQuery($address: Address!) {\n      chestCombinedProgress(address: $address) {\n        hasCombinedBonus\n        volumeProgressPerChest {\n          ...WaveProgress\n        }\n      }\n    }\n  ",[c]),h={suspense:!1};var E=e.i(207225);let _="wave_combine_seen_".concat(s.PRIOR_WAVE_IDS.at(-1)),C="".concat(_,"_changed");function g(e,n,r,t,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{totalPoints:n,currentLevel:r,currentTier:t,levelProgressPercent:a,hasExceededLevelCap:!1,treasureChestId:e,treasureImageUrl:null,treasureAnimationUrl:s}}function T(){var e,o,T;let v,S,L,R,b=(0,n.c)(25),A=(0,E.useAddress)(),y=(0,t.useSearchParams)(),f=(null==y?void 0:y.get("combineForce"))==="1",P=(null==y?void 0:y.get("mockWaveProgress"))==="1",{activeTreasureChest:O}=(0,l.useActiveTreasureChests)(),[w,x]=(0,a.useState)(p);b[0]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{let e=()=>{x("true"===localStorage.getItem(_))},n=()=>{e()},r=n=>{n.key===_&&e()};return window.addEventListener(C,n),window.addEventListener("storage",r),()=>{window.removeEventListener(C,n),window.removeEventListener("storage",r)}},S=[],b[0]=v,b[1]=S):(v=b[0],S=b[1]),(0,a.useEffect)(v,S);let{chestCombinedProgress:I}=function(e,r){var t;let a,s,i,l,o,c,E,_=(0,n.c)(15);_[0]!==e?(a=e?(0,u.normalizeAddress)(e):"",_[0]=e,_[1]=a):a=_[1],_[2]!==a?(s={address:a},_[2]=a,_[3]=s):s=_[3];let C=null!=r?r:!e;_[4]!==s||_[5]!==C?(i={query:m,variables:s,pause:C,context:h},_[4]=s,_[5]=C,_[6]=i):i=_[6],_[7]===Symbol.for("react.memo_cache_sentinel")?(l={throwOnError:!1},_[7]=l):l=_[7];let[g,T]=(0,d.useAuthenticatedQuery)(i,l);_[8]!==g?({data:o,...c}=g,_[8]=g,_[9]=o,_[10]=c):(o=_[9],c=_[10]);let p=null!=(t=null==o?void 0:o.chestCombinedProgress)?t:null;return _[11]!==T||_[12]!==c||_[13]!==p?(E={chestCombinedProgress:p,...c,refetch:T},_[11]=T,_[12]=c,_[13]=p,_[14]=E):E=_[14],E}(A,!(f||!w)),N=null!=(e=null==I?void 0:I.volumeProgressPerChest)?e:null;null==O||O.id;e:{let e,n,t,a;if(P){let e,n,r,t,a;b[2]===Symbol.for("react.memo_cache_sentinel")?(e={waveNumber:1,progress:g(s.TREASURE_CHEST_WAVE_1_ID,15e3,5,3,75,i.TREASURE_CHEST_5_ANIMATION)},b[2]=e):e=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(n={waveNumber:2,progress:g(s.TREASURE_CHEST_WAVE_2_ID,25e3,7,2,50,i.BREAKER_BOUNTY_7_ANIMATION)},b[3]=n):n=b[3],b[4]===Symbol.for("react.memo_cache_sentinel")?(r={waveNumber:3,progress:g(s.TREASURE_CHEST_WAVE_3_ID,35e3,9,3,85,i.NAVIGATORS_COMPASS_9_ANIMATION)},b[4]=r):r=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(t=[e,n,r,{waveNumber:4,progress:g(s.TREASURE_CHEST_WAVE_4_ID,45e3,10,4,90,i.NAVIGATORS_COMPASS_9_ANIMATION)}],b[5]=t):t=b[5];let l=t;b[6]===Symbol.for("react.memo_cache_sentinel")?(a={priorWavesProgress:l,currentWaveProgress:g(s.TREASURE_CHEST_WAVE_5_ID,2e3,2,1,40,i.COMMANDERS_TROVE_2_ANIMATION),hasPriorWaveData:!0},b[6]=a):a=b[6],L=a;break e}if(!N){let e,n;b[7]===Symbol.for("react.memo_cache_sentinel")?(e=[],b[7]=e):e=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(n={priorWavesProgress:e,currentWaveProgress:null,hasPriorWaveData:!1},b[8]=n):n=b[8],L=n;break e}if(b[9]!==N){for(let e of(n=new Map,N)){let t=(0,r.readFragment)(c,e);t.treasureChestId&&n.set(t.treasureChestId,e)}e=[],s.PRIOR_WAVE_IDS.forEach((t,a)=>{let s=n.get(t);if(s){let n=(0,r.readFragment)(c,s);n.totalPoints>0&&n.currentLevel>0&&e.push({waveNumber:a+1,progress:s})}}),b[9]=N,b[10]=e,b[11]=n}else e=b[10],n=b[11];let l=null==O?void 0:O.id;b[12]!==l||b[13]!==n?(t=l&&null!=(o=n.get(l))?o:null,b[12]=l,b[13]=n,b[14]=t):t=b[14];let u=e.length>0;b[15]!==e||b[16]!==t||b[17]!==u?(a={priorWavesProgress:e,currentWaveProgress:t,hasPriorWaveData:u},b[15]=e,b[16]=t,b[17]=u,b[18]=a):a=b[18],L=a}let{priorWavesProgress:V,currentWaveProgress:F,hasPriorWaveData:M}=L,B=P||null!=(T=null==I?void 0:I.hasCombinedBonus)&&T,k=!!((B||M)&&(f||P||!w));return b[19]!==F||b[20]!==B||b[21]!==M||b[22]!==V||b[23]!==k?(R={shouldShowCombineChestOverlay:k,hasCombinedBonus:B,hasPriorWaveData:M,priorWavesProgress:V,currentWaveProgress:F},b[19]=F,b[20]=B,b[21]=M,b[22]=V,b[23]=k,b[24]=R):R=b[24],R}function p(){return"true"===localStorage.getItem(_)}},504536,e=>{"use strict";e.s(["useShowOpeningSoon",()=>t]);var n=e.i(590268),r=e.i(308641);function t(){let e,t,a,s=(0,n.c)(8),{openableTreasureChest:i,mostRecentlyEndedTreasureChest:l,fetching:o}=(0,r.useOpenableTreasureChests)();if(s[0]!==l||s[1]!==i){e=(null==l?void 0:l.openStart)?new Date(l.openStart):null;let n=null==l?void 0:l.userProgress,r=null!=n&&n.totalPoints>0;t=!i&&null!==e&&e.getTime()>Date.now()&&r,s[0]=l,s[1]=i,s[2]=e,s[3]=t}else e=s[2],t=s[3];let u=t;return s[4]!==e||s[5]!==o||s[6]!==u?(a={showOpeningSoon:u,chestOpenStart:e,fetching:o},s[4]=e,s[5]=o,s[6]=u,s[7]=a):a=s[7],a}},272215,e=>{"use strict";e.s(["TreasureChestNavigation",()=>y]);var n=e.i(705378),r=e.i(590268),t=e.i(502732),a=e.i(100868),s=e.i(491150),i=e.i(39771),l=e.i(999258),o=e.i(310578),u=e.i(950293),d=e.i(471966),c=e.i(165102),m=e.i(940704),h=e.i(204557),E=e.i(356229),_=e.i(389852),C=e.i(607172),g=e.i(287342),T=e.i(828467),p=e.i(308641),v=e.i(504536);e.i(500598);var S=e.i(207225),L=e.i(71105),R=e.i(13513);let b=(0,d.tv)({slots:{container:"bg-bg-additional-1",inactiveStars:"text-text-secondary"},variants:{variant:{default:{container:"bg-bg-additional-1",inactiveStars:"text-text-secondary"},always:{container:"bg-bg-additional-1-transparent backdrop-blur-sm",inactiveStars:"text-bg-contrast-2-transparent"},none:{container:"bg-bg-additional-1",inactiveStars:"text-text-secondary"},hidden:{container:"bg-bg-additional-1",inactiveStars:"text-text-secondary"},topOnly:{container:"bg-bg-additional-1-transparent backdrop-blur-sm",inactiveStars:"text-text-secondary-transparent"},invisible:{container:"bg-bg-additional-1",inactiveStars:"text-text-secondary"}}}});function A(){let e,a,s=(0,r.c)(2);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.SkeletonBlock,{className:"size-8 rounded"}),s[0]=e):e=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.Button,{className:"px-3",variant:"ghost",children:(0,n.jsxs)(i.FlexCenter,{className:"gap-2",children:[e,(0,n.jsxs)(i.FlexCenter,{className:"gap-1",children:[(0,n.jsx)(o.SkeletonLine,{className:"h-4 w-8"}),(0,n.jsx)(o.SkeletonBlock,{className:"h-5 w-14 rounded-full"})]})]})}),(0,n.jsx)(l.Separator,{className:"h-6",orientation:"vertical"})]}),s[1]=a):a=s[1],a}let y=(0,_.withSuspense)(function(){var e,o,d,_;let y,f,P,O,w,x,I,N,V,F,M,B,k,H,D,j,W,U,q,z,Y,G,Q,K,$,J,X,Z,ee=(0,r.c)(84),en=(0,m.useTranslations)("TreasureChest"),er=(0,S.useAddress)(),et=(0,L.useAuthenticated)(),ea=!(0,c.useIsGreaterThanOrEqualToLg)();ee[0]!==ea?(y={isMobile:ea},ee[0]=ea,ee[1]=y):y=ee[1];let{transparent:es}=(0,R.useTopNavbarVariants)(y),{activeTreasureChest:ei,userProgress:el}=(0,g.useActiveTreasureChests)(),{shouldShowCombineChestOverlay:eo}=(0,T.useCombineChestOverlay)(),{openableTreasureChest:eu}=(0,p.useOpenableTreasureChests)(),{showOpeningSoon:ed}=(0,v.useShowOpeningSoon)();if(!(er&&et))return null;if(void 0===ei){let e;return ee[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(A,{}),ee[2]=e):e=ee[2],e}if(eo&&eu){let e,r,o,d,c,m,h;return ee[3]!==en?(e=en("mysteryChest"),ee[3]=en,ee[4]=e):e=ee[4],ee[5]!==e?(r=(0,n.jsx)(a.Image,{alt:e,height:36,src:C.MYSTERY_CHEST_LEVEL_1,width:36}),ee[5]=e,ee[6]=r):r=ee[6],ee[7]!==en?(o=en("startChest"),ee[7]=en,ee[8]=o):o=ee[8],ee[9]!==o?(d=(0,n.jsx)(t.Button,{size:"xs",variant:"secondary",children:(0,n.jsx)(u.TextBody,{size:"sm",children:o})}),ee[9]=o,ee[10]=d):d=ee[10],ee[11]!==r||ee[12]!==d?(c=(0,n.jsx)(s.Link,{className:"h-10",href:"/rewards",variant:"unstyled",children:(0,n.jsxs)(i.FlexCenter,{className:"gap-2 pr-3 pl-1.5",children:[r,d]})}),ee[11]=r,ee[12]=d,ee[13]=c):c=ee[13],ee[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,n.jsx)(l.Separator,{className:"h-6",orientation:"vertical"}),ee[14]=m):m=ee[14],ee[15]!==c?(h=(0,n.jsxs)(n.Fragment,{children:[c,m]}),ee[15]=c,ee[16]=h):h=ee[16],h}if(ed){let e,r,t,o;return ee[17]!==en?(e=en("mysteryChest"),ee[17]=en,ee[18]=e):e=ee[18],ee[19]!==e?(r=(0,n.jsx)(s.Link,{className:"h-10",href:"/rewards",variant:"unstyled",children:(0,n.jsx)(i.FlexCenter,{className:"pr-3 pl-1.5",children:(0,n.jsx)(a.Image,{alt:e,height:36,src:C.MYSTERY_CHEST_LEVEL_1,width:36})})}),ee[19]=e,ee[20]=r):r=ee[20],ee[21]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(l.Separator,{className:"h-6",orientation:"vertical"}),ee[21]=t):t=ee[21],ee[22]!==r?(o=(0,n.jsxs)(n.Fragment,{children:[r,t]}),ee[22]=r,ee[23]=o):o=ee[23],o}let ec=null!=(e=null==el?void 0:el.currentLevel)?e:0,em=null!=(o=null==el?void 0:el.currentTier)?o:0,eh=null!=(d=null==el?void 0:el.hasExceededLevelCap)&&d,eE=eh?100:null!=(_=null==el?void 0:el.levelProgressPercent)?_:0,e_=eh?E.AVAILABLE_CHEST_LEVELS:ec,eC=eh?E.STARS_PER_LEVEL:em;ee[24]!==e_?(f=(0,E.getMainChestImage)(e_),ee[24]=e_,ee[25]=f):f=ee[25];let eg=f;if(ee[26]!==eg||ee[27]!==eC||ee[28]!==es){let{container:e,inactiveStars:r}=b({variant:es});I=s.Link,V="h-10",F="/rewards",M="unstyled",x=t.Button,q="h-full pr-3 pl-1.5",N="ghost",w=i.FlexCenter,U="justify-center gap-2",O=i.FlexCenter,j="shrink-0 gap-1",ee[46]!==eg?(W=(0,n.jsx)(a.Image,{alt:"Treasure chest",height:36,src:eg,width:36}),ee[46]=eg,ee[47]=W):W=ee[47],P=h.StarRating,B="h-6 px-2",k=e(),H=eC,D=r(),ee[26]=eg,ee[27]=eC,ee[28]=es,ee[29]=P,ee[30]=O,ee[31]=w,ee[32]=x,ee[33]=I,ee[34]=N,ee[35]=V,ee[36]=F,ee[37]=M,ee[38]=B,ee[39]=k,ee[40]=H,ee[41]=D,ee[42]=j,ee[43]=W,ee[44]=U,ee[45]=q}else P=ee[29],O=ee[30],w=ee[31],x=ee[32],I=ee[33],N=ee[34],V=ee[35],F=ee[36],M=ee[37],B=ee[38],k=ee[39],H=ee[40],D=ee[41],j=ee[42],W=ee[43],U=ee[44],q=ee[45];return ee[48]!==P||ee[49]!==B||ee[50]!==k||ee[51]!==H||ee[52]!==D?(z=(0,n.jsx)(P,{className:B,containerClassName:k,filledStars:H,inactiveStarsClassName:D,size:16}),ee[48]=P,ee[49]=B,ee[50]=k,ee[51]=H,ee[52]=D,ee[53]=z):z=ee[53],ee[54]!==O||ee[55]!==z||ee[56]!==j||ee[57]!==W?(Y=(0,n.jsxs)(O,{className:j,children:[W,z]}),ee[54]=O,ee[55]=z,ee[56]=j,ee[57]=W,ee[58]=Y):Y=ee[58],ee[59]!==eh||ee[60]!==eE||ee[61]!==en?(G=eh?en("excessPoints"):en("progressPercent",{percent:Math.floor(eE)}),ee[59]=eh,ee[60]=eE,ee[61]=en,ee[62]=G):G=ee[62],ee[63]!==G?(Q=(0,n.jsx)(u.TextBody,{className:"shrink-0 text-text-primary",size:"sm",weight:"regular",children:G}),ee[63]=G,ee[64]=Q):Q=ee[64],ee[65]!==w||ee[66]!==Y||ee[67]!==Q||ee[68]!==U?(K=(0,n.jsxs)(w,{className:U,children:[Y,Q]}),ee[65]=w,ee[66]=Y,ee[67]=Q,ee[68]=U,ee[69]=K):K=ee[69],ee[70]!==x||ee[71]!==N||ee[72]!==K||ee[73]!==q?($=(0,n.jsx)(x,{className:q,variant:N,children:K}),ee[70]=x,ee[71]=N,ee[72]=K,ee[73]=q,ee[74]=$):$=ee[74],ee[75]!==I||ee[76]!==V||ee[77]!==F||ee[78]!==M||ee[79]!==$?(J=(0,n.jsx)(I,{className:V,href:F,variant:M,children:$}),ee[75]=I,ee[76]=V,ee[77]=F,ee[78]=M,ee[79]=$,ee[80]=J):J=ee[80],ee[81]===Symbol.for("react.memo_cache_sentinel")?(X=(0,n.jsx)(l.Separator,{className:"h-6",orientation:"vertical"}),ee[81]=X):X=ee[81],ee[82]!==J?(Z=(0,n.jsxs)(n.Fragment,{children:[J,X]}),ee[82]=J,ee[83]=Z):Z=ee[83],Z},{fallback:(0,n.jsx)(A,{}),errorFallback:(0,n.jsx)("div",{}),ssr:!1})},714400,e=>{e.n(e.i(272215))}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6a01af89-7b6e-5c4d-9a95-05d507d65011")}catch(e){}}();
//# debugId=6a01af89-7b6e-5c4d-9a95-05d507d65011
