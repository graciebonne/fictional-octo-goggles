(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,731343,e=>{"use strict";e.s(["URL_REGEX",()=>s,"USERNAME_MAX_LENGTH",()=>i,"USERNAME_REGEX",()=>t]);let s=/^(?:https?:\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]+-?)*[a-zA-Z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/,t=/^[A-Za-z0-9_-]*$/,i=45},347352,e=>{"use strict";e.s(["useLinkedAccounts",()=>i]);var s=e.i(297421),t=e.i(223458);function i(){let{linkedAccounts:e}=(0,s.useSnapshot)(t.AccountState);return e}},785879,e=>{"use strict";e.s(["Person",()=>n]);var s=e.i(705378),t=e.i(590268),i=e.i(790621),r=e.i(437153);let n=e=>{let n,l,a,o,c,d,u,m,p=(0,t.c)(15);p[0]!==e?({size:a,fill:o,fillAttribute:c,className:n,...l}=e,p[0]=e,p[1]=n,p[2]=l,p[3]=a,p[4]=o,p[5]=c):(n=p[1],l=p[2],a=p[3],o=p[4],c=p[5]);let x=void 0===a?24:a,y=void 0===o?"current":o,h=void 0===c?"currentColor":c;return p[6]!==n||p[7]!==y?(d=(0,r.classNames)((0,i.fillVariants)({fill:y}),n),p[6]=n,p[7]=y,p[8]=d):d=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsx)("path",{d:"M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"}),p[9]=u):u=p[9],p[10]!==h||p[11]!==l||p[12]!==x||p[13]!==d?(m=(0,s.jsx)("svg",{"aria-label":"Person",className:d,fill:h,height:x,role:"img",viewBox:"0 -960 960 960",width:x,xmlns:"http://www.w3.org/2000/svg",...l,children:u}),p[10]=h,p[11]=l,p[12]=x,p[13]=d,p[14]=m):m=p[14],m}},27128,e=>{"use strict";e.s(["ProfileMigrationModal",()=>er],27128);var s=e.i(705378),t=e.i(590268),i=e.i(302502),r=e.i(528198),n=e.i(84060),l=e.i(333799),a=e.i(683269),o=e.i(672742),c=e.i(861316),d=e.i(347352),u=e.i(940704),m=e.i(969498),p=e.i(180909),x=e.i(806056);e.i(500598);var y=e.i(207225),h=e.i(71105),f=e.i(254842),g=e.i(39771),b=e.i(965523),S=e.i(938390),v=e.i(284296),A=e.i(489474),M=e.i(950293),j=e.i(869324),T=e.i(722934),_=e.i(319231),N=e.i(785879),C=e.i(648091),k=e.i(415879),B=e.i(155757),z=e.i(437153);function F(e){let i,r,n,l,a,o,c=(0,t.c)(17),{claimableUsername:d,isSelected:u,onSelect:m}=e,p=u?"border-interactive-primary bg-interactive-primary/10":"border-border-1 hover:border-border-2";return c[0]!==p?(i=(0,z.classNames)("flex items-center gap-2 rounded-lg border px-3 py-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-interactive-primary focus:ring-offset-1",p),c[0]=p,c[1]=i):i=c[1],c[2]!==d.username||c[3]!==m?(r=()=>m(d.username),c[2]=d.username,c[3]=m,c[4]=r):r=c[4],c[5]!==d.address?(n=(0,s.jsx)(B.Avatar,{rounded:!0,seed:d.address,size:20}),c[5]=d.address,c[6]=n):n=c[6],c[7]!==d.username?(l=(0,s.jsx)(M.TextBody,{size:"sm",weight:"semibold",children:d.username}),c[7]=d.username,c[8]=l):l=c[8],c[9]!==u?(a=u&&(0,s.jsx)(T.Check,{className:"text-interactive-primary",size:16}),c[9]=u,c[10]=a):a=c[10],c[11]!==i||c[12]!==r||c[13]!==n||c[14]!==l||c[15]!==a?(o=(0,s.jsxs)("button",{className:i,onClick:r,type:"button",children:[n,l,a]}),c[11]=i,c[12]=r,c[13]=n,c[14]=l,c[15]=a,c[16]=o):o=c[16],o}var U=e.i(731343);let w=(0,r.graphql)("\n  mutation ClaimAccountUsernameMutation($username: String!) {\n    claimAccountUsername(username: $username) {\n      __typename\n      ... on ClaimAccountUsernameSuccess {\n        profile {\n          address\n          username\n          displayName\n        }\n      }\n      ... on ClaimAccountUsernameError {\n        reason\n      }\n    }\n  }\n"),I=(0,r.graphql)("\n  query ClaimableUsernamesQuery {\n    claimableUsernames {\n      username\n      address\n    }\n  }\n"),P=(0,r.graphql)("\n  query UsernameAvailabilityQuery($username: String!) {\n    profileByUsernameV2(username: $username) {\n      __typename\n      ... on Profile {\n        address\n      }\n    }\n  }\n"),E={INVALID_CHARACTERS:"errorInvalidCharacters",TOO_LONG:"errorTooLong"};var L=e.i(646426),q=e.i(635341),R=e.i(838820),V=e.i(471317),K=e.i(80839),O=e.i(436609);let H=(0,r.graphql)("\n    fragment WalletVisibilityItem on Profile {\n      address\n      displayName\n      portfolioSummary {\n        estimatedTokenValue {\n          usd\n        }\n      }\n      ...AccountLockup\n    }\n  ",[L.AccountLockupFragment]);e.i(904520);var W=e.i(765778);let D=(0,r.graphql)("\n    query SettingsLinkedWalletsQuery($address: Address!) {\n      profilesByAccount(address: $address) {\n        account {\n          ... on Profile {\n            ...AccountSwitcherAccountItems\n            ...AccountLockup\n          }\n        }\n        profiles {\n          ... on Profile {\n            ...AccountSwitcherAccountItems\n            ...AccountLockup\n            ...WalletVisibilityItem\n          }\n        }\n      }\n      walletsByAccount {\n        items {\n          address\n          lastSeenConnectorId\n        }\n      }\n    }\n  ",[O.AccountSwitcherAccountItemsFragment,L.AccountLockupFragment,H]),Z={suspense:!1,ttl:V.TTL["15s"]};var G=e.i(285152),$=e.i(747998),Q=e.i(491150),X=e.i(149431),Y=e.i(258343),J=e.i(560448);function ee(e){let i,r,n,l,a,o,c,d,m,p,x,y,h,g,S,v=(0,t.c)(37),{profile:A,isVisible:j,onToggleVisibility:T}=e,_=(0,u.useTranslations)("ProfileMigrationModal");v[0]!==A?(r=(i=(0,q.readFragment)(H,A)).displayName||(0,R.formatAddress)(i.address),v[0]=A,v[1]=i,v[2]=r):(i=v[1],r=v[2]);let N=r,C="/".concat(i.displayName||i.address);if(v[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.jsx)($.AccountLockupAvatar,{}),v[3]=n):n=v[3],v[4]!==A?(l=(0,s.jsx)($.AccountLockup,{account:A,isLink:!1,size:"sm",children:n}),v[4]=A,v[5]=l):l=v[5],v[6]!==C||v[7]!==l?(a=(0,s.jsx)(Q.Link,{href:C,target:"_blank",children:l}),v[6]=C,v[7]=l,v[8]=a):a=v[8],v[9]!==N?(o=(0,s.jsx)(M.TextBody,{size:"sm",weight:"semibold",children:N}),v[9]=N,v[10]=o):o=v[10],v[11]!==i.portfolioSummary){var k,B;c=(null==(B=i.portfolioSummary)||null==(k=B.estimatedTokenValue)?void 0:k.usd)!=null?(0,s.jsx)(X.AnimatedNumber,{className:"text-text-secondary text-xs",display:"usd",value:i.portfolioSummary.estimatedTokenValue.usd}):(0,s.jsx)(M.TextBody,{className:"text-text-secondary",size:"xs",children:"â€”"}),v[11]=i.portfolioSummary,v[12]=c}else c=v[12];return v[13]!==o||v[14]!==c?(d=(0,s.jsxs)(b.FlexColumn,{children:[o,c]}),v[13]=o,v[14]=c,v[15]=d):d=v[15],v[16]!==a||v[17]!==d?(m=(0,s.jsxs)(f.Flex,{className:"items-center gap-3",children:[a,d]}),v[16]=a,v[17]=d,v[18]=m):m=v[18],v[19]!==j||v[20]!==_?(p=_(j?"walletPublic":"walletPrivate"),v[19]=j,v[20]=_,v[21]=p):p=v[21],v[22]!==p?(x=(0,s.jsx)(M.TextBody,{color:"text-secondary",size:"sm",children:p}),v[22]=p,v[23]=x):x=v[23],v[24]!==_||v[25]!==N?(y=_("toggleVisibilityAriaLabel",{name:N}),v[24]=_,v[25]=N,v[26]=y):y=v[26],v[27]!==j||v[28]!==T||v[29]!==y?(h=(0,s.jsx)(J.Switch,{"aria-label":y,checked:j,onCheckedChange:T}),v[27]=j,v[28]=T,v[29]=y,v[30]=h):h=v[30],v[31]!==x||v[32]!==h?(g=(0,s.jsxs)(f.Flex,{className:"items-center gap-2",children:[x,h]}),v[31]=x,v[32]=h,v[33]=g):g=v[33],v[34]!==g||v[35]!==m?(S=(0,s.jsxs)(Y.SpaceBetween,{className:"items-center rounded-lg border border-border-1 p-3",children:[m,g]}),v[34]=g,v[35]=m,v[36]=S):S=v[36],S}function es(e){let r,a,o,d,p,x,B,z,L,V,H,$,Q,X,Y,J,es,et,ei,er,en,el,ea,eo,ec,ed,eu,em,ep,ex,ey,eh,ef,eg,eb,eS,ev,eA,eM,ej,eT,e_=(0,t.c)(102),{onClose:eN,onSuccess:eC}=e,ek=(0,u.useTranslations)("ProfileMigrationModal"),{nextStep:eB}=(0,j.useMultiStepModal)();e_[0]!==eB?(r=()=>{(0,i.track)("Profile Migration Step Continue Click",{step:1,stepName:"introduction"}),eB()},e_[0]=eB,e_[1]=r):r=e_[1];let ez=r;e_[2]!==eN||e_[3]!==eC?(a=()=>{(0,i.track)("Profile Migration Complete Click"),eC(),eN(!0)},e_[2]=eN,e_[3]=eC,e_[4]=a):a=e_[4];let eF=a,eU=function(e){let s,i,r,a,o,c,d,p=(0,t.c)(34),{claimableUsernames:x,fetching:y}=function(){let e,s,i,r,n=(0,t.c)(9),a=!(0,h.useAuthenticated)();n[0]===Symbol.for("react.memo_cache_sentinel")?(e={suspense:!1},n[0]=e):e=n[0],n[1]!==a?(s={query:I,pause:a,context:e},n[1]=a,n[2]=s):s=n[2];let[o]=(0,l.useQuery)(s),{data:c,fetching:d,error:u}=o;if(n[3]!==(null==c?void 0:c.claimableUsernames)){var m;i=null!=(m=null==c?void 0:c.claimableUsernames)?m:[],n[3]=null==c?void 0:c.claimableUsernames,n[4]=i}else i=n[4];let p=i;return n[5]!==p||n[6]!==u||n[7]!==d?(r={claimableUsernames:p,fetching:d,error:u},n[5]=p,n[6]=u,n[7]=d,n[8]=r):r=n[8],r}(),{claimAccountUsername:f,isLoading:g}=function(){let e,s,i=(0,t.c)(6),r=(0,u.useTranslations)("ProfileMigrationModal"),[l,a]=(0,n.useMutation)(w),{fetching:o}=l;i[0]!==a||i[1]!==r?(e=async e=>{var s;let t=await a({username:e}),i=null==(s=t.data)?void 0:s.claimAccountUsername;if((null==i?void 0:i.__typename)==="ClaimAccountUsernameSuccess")return{success:!0,profile:i.profile};if((null==i?void 0:i.__typename)==="ClaimAccountUsernameError"){let e;switch(i.reason){case"USERNAME_TAKEN":e=r("errorUsernameTaken");break;case"INVALID_FORMAT":e=r("errorInvalidFormat");break;case"ALREADY_HAS_ACCOUNT_PROFILE":e=r("errorAlreadyHasAccountProfile");break;default:e=r("errorGeneric")}return{success:!1,errorMessage:e}}return t.error,{success:!1,errorMessage:r("errorGeneric")}},i[0]=a,i[1]=r,i[2]=e):e=i[2];let c=e;return i[3]!==c||i[4]!==o?(s={claimAccountUsername:c,isLoading:o},i[3]=c,i[4]=o,i[5]=s):s=i[5],s}(),[b,S]=(0,m.useState)(""),[v,A]=(0,m.useState)(""),[M,j]=(0,m.useState)(!1),[T,_]=(0,m.useState)(""),N=function(e){let s,i,r,n,a,o,c,d=(0,t.c)(29),[u,p]=(0,m.useState)("");e:{let t,i,r;if(d[0]!==e){if(!(i=e.trim())){let e;d[4]===Symbol.for("react.memo_cache_sentinel")?(e={isInvalid:!1,invalidReasonKey:null},d[4]=e):e=d[4],s=e;break e}t=U.USERNAME_REGEX.test(i),d[0]=e,d[1]=t,d[2]=i,d[3]=s}else t=d[1],i=d[2],s=d[3];if(!t){let e;d[5]===Symbol.for("react.memo_cache_sentinel")?(e={isInvalid:!0,invalidReasonKey:E.INVALID_CHARACTERS},d[5]=e):e=d[5],s=e;break e}if(i.length>U.USERNAME_MAX_LENGTH){let e;d[6]===Symbol.for("react.memo_cache_sentinel")?(e={isInvalid:!0,invalidReasonKey:E.TOO_LONG},d[6]=e):e=d[6],s=e;break e}d[7]===Symbol.for("react.memo_cache_sentinel")?(r={isInvalid:!1,invalidReasonKey:null},d[7]=r):r=d[7],s=r}let x=s;d[8]!==e||d[9]!==x.isInvalid?(i=()=>{let s=e.trim();if(!s||x.isInvalid)return void p("");let t=setTimeout(()=>{p(s)},300);return()=>clearTimeout(t)},r=[e,x.isInvalid],d[8]=e,d[9]=x.isInvalid,d[10]=i,d[11]=r):(i=d[10],r=d[11]),(0,m.useEffect)(i,r),d[12]!==u?(n={username:u},d[12]=u,d[13]=n):n=d[13];let y=!u||x.isInvalid;d[14]!==n||d[15]!==y?(a={query:P,variables:n,pause:y},d[14]=n,d[15]=y,d[16]=a):a=d[16];let[h]=(0,l.useQuery)(a),{data:f,fetching:g}=h;if(d[17]!==u||d[18]!==g||d[19]!==e||d[20]!==x.isInvalid?(o=!x.isInvalid&&(g||""!==e.trim()&&u!==e.trim()),d[17]=u,d[18]=g,d[19]=e,d[20]=x.isInvalid,d[21]=o):o=d[21],d[22]!==f||d[23]!==u||d[24]!==g||d[25]!==o||d[26]!==x.invalidReasonKey||d[27]!==x.isInvalid){if(c={isChecking:o,isAvailable:null,isTaken:!1,isInvalid:x.isInvalid,invalidReasonKey:x.invalidReasonKey},u&&!g&&f&&!x.isInvalid){let e=f.profileByUsernameV2;(null==e?void 0:e.__typename)==="Profile"?(c.isAvailable=!1,c.isTaken=!0):(c.isAvailable=!0,c.isTaken=!1)}d[22]=f,d[23]=u,d[24]=g,d[25]=o,d[26]=x.invalidReasonKey,d[27]=x.isInvalid,d[28]=c}else c=d[28];return c}(M?v:"");p[0]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{_(""),"custom"===e?(j(!0),S("")):(j(!1),S(e))},p[0]=s):s=p[0];let C=s;p[1]!==M?(i=e=>{M||(j(!0),S("")),_(""),A(e)},p[1]=M,p[2]=i):i=p[2];let k=i;p[3]!==f||p[4]!==v||p[5]!==e||p[6]!==b||p[7]!==M?(r=async()=>{_("");let s=M?v:b;if(!s)return!1;let t=await f(s);return t.success?(e(),!0):(t.errorMessage&&_(t.errorMessage),!1)},p[3]=f,p[4]=v,p[5]=e,p[6]=b,p[7]=M,p[8]=r):r=p[8];let B=r;p[9]!==v||p[10]!==y||p[11]!==g||p[12]!==b||p[13]!==M||p[14]!==N?(a=g||y||(M?!v.trim()||N.isChecking||N.isTaken||N.isInvalid:!b),p[9]=v,p[10]=y,p[11]=g,p[12]=b,p[13]=M,p[14]=N,p[15]=a):a=p[15];let z=a,F=M?"custom":b;p[16]!==v||p[17]!==M||p[18]!==N||p[19]!==T?(o=()=>T?{type:"error",messageKey:"errorGeneric"}:M&&v?N.isInvalid&&N.invalidReasonKey?{type:"error",messageKey:N.invalidReasonKey,messageParams:{maxLength:U.USERNAME_MAX_LENGTH}}:N.isTaken?{type:"error",messageKey:"errorUsernameTaken"}:N.isChecking?{type:"checking"}:N.isAvailable?{type:"available"}:{type:"none"}:{type:"none"},p[16]=v,p[17]=M,p[18]=N,p[19]=T,p[20]=o):o=p[20];let L=o;p[21]!==L?(c=L(),p[21]=L,p[22]=c):c=p[22];let q=c;return p[23]!==x||p[24]!==v||p[25]!==y||p[26]!==k||p[27]!==B||p[28]!==z||p[29]!==g||p[30]!==F||p[31]!==M||p[32]!==q?(d={claimableUsernames:x,fetchingUsernames:y,isSubmittingUsername:g,isSubmitDisabled:z,radioValue:F,useCustomUsername:M,customUsername:v,handleCustomUsernameChange:k,handleUsernameSelection:C,handleUsernameSubmit:B,validationStatus:q},p[23]=x,p[24]=v,p[25]=y,p[26]=k,p[27]=B,p[28]=z,p[29]=g,p[30]=F,p[31]=M,p[32]=q,p[33]=d):d=p[33],d}(eB),ew=function(e){let s,i,r,n,a,o,d=(0,t.c)(17),u=(0,y.useAddress)();d[0]!==u?(s=u?(0,c.normalizeAddress)(u):"",d[0]=u,d[1]=s):s=d[1];let{profilesByAccount:p,fetching:x}=function(e){var s,t,i;let[{data:r,fetching:n},a]=(0,l.useQuery)({query:D,variables:{address:e},pause:!e,context:Z},{throwOnError:!1}),o=null==r||null==(s=r.profilesByAccount)?void 0:s.account,d=(0,m.useMemo)(()=>(null==o?void 0:o.__typename)==="Profile"?(0,q.readFragment)(O.AccountSwitcherAccountItemsFragment,o):void 0,[o]),u=(0,m.useMemo)(()=>{var e,s;return(0,K.keyBy)(null!=(s=null==r||null==(e=r.walletsByAccount)?void 0:e.items)?s:[],e=>(0,c.normalizeAddress)(e.address))},[null==r||null==(t=r.walletsByAccount)?void 0:t.items]),p=(0,m.useMemo)(()=>{var e,s;return(null!=(s=null==r||null==(e=r.profilesByAccount)?void 0:e.profiles)?s:[]).filter(e=>(null==e?void 0:e.__typename)==="Profile").map(e=>({...(0,q.readFragment)(O.AccountSwitcherAccountItemsFragment,e),walletVisibilityItemFragment:e})).filter(e=>{var s;return!(0,W.isSolanaEmbeddedWallet)(e.address,null==(s=u[(0,c.normalizeAddress)(e.address)])?void 0:s.lastSeenConnectorId)}).sort((e,s)=>{var t,i,r,n,l,a;if(d){let t=(0,q.readFragment)(O.AccountSwitcherAccountItemsFragment,d),i=(0,c.isAddressEqual)(e.address,t.address),r=(0,c.isAddressEqual)(s.address,t.address);if(i&&!r)return -1;if(!i&&r)return 1}let o=null!=(l=null==(i=e.portfolioSummary)||null==(t=i.estimatedTokenValue)?void 0:t.usd)?l:-1,u=null!=(a=null==(n=s.portfolioSummary)||null==(r=n.estimatedTokenValue)?void 0:r.usd)?a:-1;if(o!==u)return u-o;let m=e.displayName||(0,R.formatAddress)((0,c.normalizeAddress)(e.address)),p=s.displayName||(0,R.formatAddress)((0,c.normalizeAddress)(s.address));return m.localeCompare(p)})},[null==r||null==(i=r.profilesByAccount)?void 0:i.profiles,d,u]),x=(0,m.useMemo)(()=>p.map(e=>e.address),[p]);return{profilesByAccount:p,topAccount:d,linkedWalletAddresses:x,fetching:n,refetch:a}}(s),{updateWalletVisibility:h,isLoading:f}=(0,G.useUpdateWalletVisibility)();d[2]===Symbol.for("react.memo_cache_sentinel")?(i={},d[2]=i):i=d[2];let[g,b]=(0,m.useState)(i);d[3]!==g?(r=e=>{var s;return null==(s=g[(0,c.normalizeAddress)(e)])||s},d[3]=g,d[4]=r):r=d[4];let S=r;d[5]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{let s=(0,c.normalizeAddress)(e);b(e=>{var t;return{...e,[s]:!(null==(t=e[s])||t)}})},d[5]=n):n=d[5];let v=n;d[6]!==e||d[7]!==p||d[8]!==h||d[9]!==g?(a=async()=>{let s=p.map(e=>{var s;let t=(0,c.normalizeAddress)(e.address);return{address:t,isPublic:null==(s=g[t])||s}});return!!(await h(s)).success&&(e(),!0)},d[6]=e,d[7]=p,d[8]=h,d[9]=g,d[10]=a):a=d[10];let A=a;return d[11]!==x||d[12]!==S||d[13]!==A||d[14]!==f||d[15]!==p?(o={profilesByAccount:p,fetchingWallets:x,isSubmittingVisibility:f,getVisibility:S,toggleVisibility:v,handleVisibilitySubmit:A},d[11]=x,d[12]=S,d[13]=A,d[14]=f,d[15]=p,d[16]=o):o=d[16],o}(eB);e_[5]!==eU?(o=async()=>{let e=eU.useCustomUsername?"custom":"existing";await eU.handleUsernameSubmit()&&(0,i.track)("Profile Migration Step Continue Click",{step:2,stepName:"username_selection",usernameType:e})},e_[5]=eU,e_[6]=o):o=e_[6];let eI=o;e_[7]!==ew?(d=async()=>{let e=ew.profilesByAccount.length,s=ew.profilesByAccount.filter(e=>ew.getVisibility(e.address)).length;await ew.handleVisibilitySubmit()&&(0,i.track)("Profile Migration Step Continue Click",{step:3,stepName:"wallet_visibility",totalWallets:e,publicWallets:s,privateWallets:e-s})},e_[7]=ew,e_[8]=d):d=e_[8];let eP=d;e_[9]!==ek?(p=ek("step1Description"),e_[9]=ek,e_[10]=p):p=e_[10],e_[11]!==p?(x=(0,s.jsx)(A.MultiStepModalBody,{children:(0,s.jsx)(M.TextBody,{className:"text-center",color:"text-secondary",size:"md",children:p})}),e_[11]=p,e_[12]=x):x=e_[12],e_[13]!==ek?(B=ek("continue"),e_[13]=ek,e_[14]=B):B=e_[14],e_[15]!==ez||e_[16]!==B?(z=(0,s.jsx)(A.MultiStepModalFooter,{children:(0,s.jsx)(A.MultiStepModalFooterButton,{onClick:ez,children:B})}),e_[15]=ez,e_[16]=B,e_[17]=z):z=e_[17],e_[18]===Symbol.for("react.memo_cache_sentinel")?(L=(0,s.jsx)(g.FlexCenter,{className:"rounded-xl border border-border-1 p-3",children:(0,s.jsx)(_.OpenSeaLogo,{size:32})}),e_[18]=L):L=e_[18],e_[19]!==ek?(V=ek("step1Title"),e_[19]=ek,e_[20]=V):V=e_[20],e_[21]!==V?(H=(0,s.jsxs)(A.MultiStepModalHeader,{variant:"heroMedia",children:[L,(0,s.jsx)(A.MultiStepModalHeaderTitle,{className:"mt-6 pl-0",children:V})]}),e_[21]=V,e_[22]=H):H=e_[22],e_[23]!==H||e_[24]!==x||e_[25]!==z?($=(0,s.jsx)(A.MultiStepModalStepOne,{body:x,footer:z,header:H}),e_[23]=H,e_[24]=x,e_[25]=z,e_[26]=$):$=e_[26],e_[27]!==ek?(Q=ek("step2Description"),e_[27]=ek,e_[28]=Q):Q=e_[28],e_[29]!==Q?(X=(0,s.jsx)(M.TextBody,{className:"text-center",color:"text-secondary",size:"md",children:Q}),e_[29]=Q,e_[30]=X):X=e_[30],e_[31]!==eU||e_[32]!==ek?(Y=eU.fetchingUsernames?(0,s.jsx)(M.TextBody,{color:"text-secondary",size:"sm",children:ek("loadingUsernames")}):(0,s.jsxs)(b.FlexColumn,{className:"gap-4",children:[eU.claimableUsernames.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(b.FlexColumn,{className:"gap-2",children:[(0,s.jsx)(M.TextBody,{size:"sm",weight:"semibold",children:ek("selectExistingUsername")}),(0,s.jsx)(M.TextBody,{color:"text-secondary",size:"xs",children:ek("existingUsernamesNote")}),(0,s.jsx)(f.Flex,{className:"flex-wrap gap-2",children:eU.claimableUsernames.map(e=>(0,s.jsx)(F,{claimableUsername:e,isSelected:eU.radioValue===e.username,onSelect:eU.handleUsernameSelection},e.username))}),!eU.useCustomUsername&&"error"===eU.validationStatus.type&&(0,s.jsx)(M.TextBody,{className:"text-error-1",size:"xs",children:ek(eU.validationStatus.messageKey,eU.validationStatus.messageParams)})]}),(0,s.jsxs)(g.FlexCenter,{className:"gap-4",children:[(0,s.jsx)("div",{className:"h-px flex-1 bg-border-1"}),(0,s.jsx)(M.TextBody,{color:"text-tertiary",size:"sm",children:ek("or")}),(0,s.jsx)("div",{className:"h-px flex-1 bg-border-1"})]})]}),(0,s.jsxs)(b.FlexColumn,{className:"gap-2",children:[(0,s.jsx)(M.TextBody,{size:"sm",weight:"semibold",children:ek("createYourOwn")}),(0,s.jsx)(S.FormControl,{hideLabel:!0,label:ek("createYourOwn"),children:(0,s.jsx)(v.Input,{autoComplete:"username",name:"profile-username",onChange:e=>eU.handleCustomUsernameChange(e.target.value),onFocus:()=>eU.handleUsernameSelection("custom"),placeholder:ek("usernamePlaceholder"),value:eU.customUsername})}),(0,s.jsxs)(f.Flex,{className:"min-h-[20px] items-center gap-1",children:[eU.useCustomUsername&&"error"===eU.validationStatus.type&&(0,s.jsx)(M.TextBody,{className:"text-error-1",size:"xs",children:ek(eU.validationStatus.messageKey,eU.validationStatus.messageParams)}),"checking"===eU.validationStatus.type&&(0,s.jsx)(M.TextBody,{color:"text-secondary",size:"xs",children:ek("checkingAvailability")}),"available"===eU.validationStatus.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.Check,{className:"text-success-1",size:16}),(0,s.jsx)(M.TextBody,{className:"text-success-1",size:"xs",children:ek("usernameAvailable")})]})]})]}),(0,s.jsx)(M.TextBody,{className:"text-center",color:"text-secondary",size:"xs",children:ek("step2Note")})]}),e_[31]=eU,e_[32]=ek,e_[33]=Y):Y=e_[33],e_[34]!==X||e_[35]!==Y?(J=(0,s.jsx)(A.MultiStepModalBody,{children:(0,s.jsxs)(b.FlexColumn,{className:"gap-4",children:[X,Y]})}),e_[34]=X,e_[35]=Y,e_[36]=J):J=e_[36];let eE=eU.isSubmitDisabled,eL=eU.isSubmittingUsername;e_[37]!==ek?(es=ek("continue"),e_[37]=ek,e_[38]=es):es=e_[38],e_[39]!==eU.isSubmitDisabled||e_[40]!==eU.isSubmittingUsername||e_[41]!==eI||e_[42]!==es?(et=(0,s.jsx)(A.MultiStepModalFooter,{children:(0,s.jsx)(A.MultiStepModalFooterButton,{disabled:eE,isLoading:eL,onClick:eI,children:es})}),e_[39]=eU.isSubmitDisabled,e_[40]=eU.isSubmittingUsername,e_[41]=eI,e_[42]=es,e_[43]=et):et=e_[43],e_[44]===Symbol.for("react.memo_cache_sentinel")?(ei=(0,s.jsx)(g.FlexCenter,{className:"rounded-xl border border-border-1 p-3",children:(0,s.jsx)(N.Person,{size:32})}),e_[44]=ei):ei=e_[44],e_[45]!==ek?(er=ek("step2Title"),e_[45]=ek,e_[46]=er):er=e_[46],e_[47]!==er?(en=(0,s.jsxs)(A.MultiStepModalHeader,{variant:"heroMedia",children:[ei,(0,s.jsx)(A.MultiStepModalHeaderTitle,{className:"mt-6 pl-0",children:er})]}),e_[47]=er,e_[48]=en):en=e_[48],e_[49]!==J||e_[50]!==et||e_[51]!==en?(el=(0,s.jsx)(A.MultiStepModalStepTwo,{body:J,footer:et,header:en}),e_[49]=J,e_[50]=et,e_[51]=en,e_[52]=el):el=e_[52],e_[53]!==ek?(ea=ek("step3Description"),e_[53]=ek,e_[54]=ea):ea=e_[54],e_[55]!==ea?(eo=(0,s.jsx)(M.TextBody,{className:"text-center",color:"text-secondary",size:"md",children:ea}),e_[55]=ea,e_[56]=eo):eo=e_[56],e_[57]!==ek||e_[58]!==ew?(ec=ew.fetchingWallets?(0,s.jsx)(M.TextBody,{color:"text-secondary",size:"sm",children:ek("loadingWallets")}):(0,s.jsxs)(b.FlexColumn,{className:"gap-2",children:[(0,s.jsx)(M.TextBody,{size:"sm",weight:"semibold",children:ek("yourLinkedWallets")}),(0,s.jsx)(b.FlexColumn,{className:"gap-2",children:ew.profilesByAccount.map(e=>(0,s.jsx)(ee,{isVisible:ew.getVisibility(e.address),onToggleVisibility:()=>ew.toggleVisibility(e.address),profile:e.walletVisibilityItemFragment},e.address))})]}),e_[57]=ek,e_[58]=ew,e_[59]=ec):ec=e_[59],e_[60]!==eo||e_[61]!==ec?(ed=(0,s.jsx)(A.MultiStepModalBody,{children:(0,s.jsxs)(b.FlexColumn,{className:"gap-4",children:[eo,ec]})}),e_[60]=eo,e_[61]=ec,e_[62]=ed):ed=e_[62];let eq=ew.fetchingWallets,eR=ew.isSubmittingVisibility;return e_[63]!==ek?(eu=ek("continue"),e_[63]=ek,e_[64]=eu):eu=e_[64],e_[65]!==eP||e_[66]!==eu||e_[67]!==ew.fetchingWallets||e_[68]!==ew.isSubmittingVisibility?(em=(0,s.jsx)(A.MultiStepModalFooter,{children:(0,s.jsx)(A.MultiStepModalFooterButton,{disabled:eq,isLoading:eR,onClick:eP,children:eu})}),e_[65]=eP,e_[66]=eu,e_[67]=ew.fetchingWallets,e_[68]=ew.isSubmittingVisibility,e_[69]=em):em=e_[69],e_[70]===Symbol.for("react.memo_cache_sentinel")?(ep=(0,s.jsx)(g.FlexCenter,{className:"rounded-xl border border-border-1 p-3",children:(0,s.jsx)(k.Visibility,{size:32})}),e_[70]=ep):ep=e_[70],e_[71]!==ek?(ex=ek("step3Title"),e_[71]=ek,e_[72]=ex):ex=e_[72],e_[73]!==ex?(ey=(0,s.jsxs)(A.MultiStepModalHeader,{variant:"heroMedia",children:[ep,(0,s.jsx)(A.MultiStepModalHeaderTitle,{className:"mt-6 pl-0",children:ex})]}),e_[73]=ex,e_[74]=ey):ey=e_[74],e_[75]!==ed||e_[76]!==em||e_[77]!==ey?(eh=(0,s.jsx)(A.MultiStepModalStepThree,{body:ed,footer:em,header:ey}),e_[75]=ed,e_[76]=em,e_[77]=ey,e_[78]=eh):eh=e_[78],e_[79]!==ek?(ef=ek("step4Description"),e_[79]=ek,e_[80]=ef):ef=e_[80],e_[81]!==ef?(eg=(0,s.jsx)(A.MultiStepModalBody,{children:(0,s.jsx)(M.TextBody,{className:"text-center",color:"text-secondary",size:"md",children:ef})}),e_[81]=ef,e_[82]=eg):eg=e_[82],e_[83]!==ek?(eb=ek("done"),e_[83]=ek,e_[84]=eb):eb=e_[84],e_[85]!==eF||e_[86]!==eb?(eS=(0,s.jsx)(A.MultiStepModalFooter,{children:(0,s.jsx)(A.MultiStepModalFooterButton,{onClick:eF,children:eb})}),e_[85]=eF,e_[86]=eb,e_[87]=eS):eS=e_[87],e_[88]===Symbol.for("react.memo_cache_sentinel")?(ev=(0,s.jsx)(g.FlexCenter,{className:"rounded-xl border border-border-1 p-3",children:(0,s.jsx)(C.Verified,{className:"text-success",size:32})}),e_[88]=ev):ev=e_[88],e_[89]!==ek?(eA=ek("step4Title"),e_[89]=ek,e_[90]=eA):eA=e_[90],e_[91]!==eA?(eM=(0,s.jsxs)(A.MultiStepModalHeader,{variant:"heroMedia",children:[ev,(0,s.jsx)(A.MultiStepModalHeaderTitle,{className:"mt-6 pl-0",children:eA})]}),e_[91]=eA,e_[92]=eM):eM=e_[92],e_[93]!==eg||e_[94]!==eS||e_[95]!==eM?(ej=(0,s.jsx)(A.MultiStepModalStepFour,{body:eg,footer:eS,header:eM}),e_[93]=eg,e_[94]=eS,e_[95]=eM,e_[96]=ej):ej=e_[96],e_[97]!==$||e_[98]!==el||e_[99]!==eh||e_[100]!==ej?(eT=(0,s.jsxs)(A.MultiStepModalSteps,{children:[$,el,eh,ej]}),e_[97]=$,e_[98]=el,e_[99]=eh,e_[100]=ej,e_[101]=eT):eT=e_[101],eT}function et(e){let i,r,n,l=(0,t.c)(9),{isOpen:a,onClose:o,onSuccess:c}=e;return l[0]!==o||l[1]!==c?(i=(0,s.jsx)(es,{onClose:o,onSuccess:c}),l[0]=o,l[1]=c,l[2]=i):i=l[2],l[3]!==o?(r=e=>!e&&o(!1),l[3]=o,l[4]=r):r=l[4],l[5]!==a||l[6]!==i||l[7]!==r?(n=(0,s.jsx)(A.MultiStepModal,{content:i,onOpenChange:r,open:a,withCloseIcon:!1}),l[5]=a,l[6]=i,l[7]=r,l[8]=n):n=l[8],n}let ei=(0,r.graphql)("\n  query ProfileMigrationCheckQuery($address: Address!) {\n    profileByAddress(address: $address) {\n      __typename\n      ... on Profile {\n        address\n        shouldShowProfileMigrationModal\n      }\n    }\n  }\n");function er(){var e;let r,f,g,b,S,v,A,M,j,T,_,N,C,k,B=(0,t.c)(30),z=(0,u.useTranslations)("ProfileMigrationModal"),F=(0,x.useIsAccountProfileMigrationEnabled)(),U=(0,y.useAddress)(),w=(0,h.useAuthenticated)(),I=(0,n.useClient)(),{addToast:P}=(0,a.useToasts)();B[0]===Symbol.for("react.memo_cache_sentinel")?(r={source:"Profile Migration Modal"},B[0]=r):r=B[0];let E=(0,p.useDisconnect)(r),L=(0,d.useLinkedAccounts)(),[q,R]=(0,m.useState)(!1),V=(0,m.useRef)(!1),K=(0,m.useRef)(0);B[1]!==U?(f=U?(0,c.normalizeAddress)(U):"",B[1]=U,B[2]=f):f=B[2];let O=f,H=!!(U&&w&&F);B[3]!==O?(g={address:O},B[3]=O,B[4]=g):g=B[4];let W=!H;B[5]===Symbol.for("react.memo_cache_sentinel")?(b={suspense:!1},B[5]=b):b=B[5],B[6]!==g||B[7]!==W?(S={query:ei,variables:g,pause:W,context:b},B[6]=g,B[7]=W,B[8]=S):S=B[8];let[D]=(0,l.useQuery)(S),{data:Z}=D,G=!!((null==Z||null==(e=Z.profileByAddress)?void 0:e.__typename)==="Profile"&&(null==L?void 0:L.some(e=>(0,c.isAddressEqual)(e.address,U))))&&!0===Z.profileByAddress.shouldShowProfileMigrationModal,$=F&&w&&G;B[9]!==$?(v=()=>{$&&(R(!0),V.current||(V.current=!0,(0,i.track)("Profile Migration Modal Presented")))},A=[$],B[9]=$,B[10]=v,B[11]=A):(v=B[10],A=B[11]),(0,m.useEffect)(v,A),B[12]!==q||B[13]!==G?(j=function(){q&&!1===G&&R(!1)},M=[q,G],B[12]=q,B[13]=G,B[14]=M,B[15]=j):(M=B[14],j=B[15]),(0,m.useEffect)(j,M),B[16]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{V.current=!1,K.current=0},B[16]=T):T=B[16],B[17]!==U?(_=[U],B[17]=U,B[18]=_):_=B[18],(0,m.useEffect)(T,_),B[19]!==P||B[20]!==E||B[21]!==z?(N=async e=>{if(e){R(!1),K.current=0;return}if(K.current=K.current+1,1===K.current){P({title:z("closeWarning"),description:z("closeWarningDescription"),icon:(0,s.jsx)(o.WarningFilled,{fill:"warning",size:24}),duration:3e3}),(0,i.track)("Profile Migration Close Warning Shown"),setTimeout(()=>{K.current=0},3e3);return}R(!1),E(),(0,i.track)("Profile Migration Dismissed"),V.current=!1,K.current=0},B[19]=P,B[20]=E,B[21]=z,B[22]=N):N=B[22];let Q=N;B[23]!==U||B[24]!==I?(C=async()=>{U&&await I.query(ei,{address:(0,c.normalizeAddress)(U)},{requestPolicy:"network-only"})},B[23]=U,B[24]=I,B[25]=C):C=B[25];let X=C;return F&&w?(B[26]!==Q||B[27]!==X||B[28]!==q?(k=(0,s.jsx)(et,{isOpen:q,onClose:Q,onSuccess:X}),B[26]=Q,B[27]=X,B[28]=q,B[29]=k):k=B[29],k):null}},235442,e=>{e.n(e.i(27128))}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e4ae71df-317b-57c9-bdb4-c27825c3aa61")}catch(e){}}();
//# debugId=e4ae71df-317b-57c9-bdb4-c27825c3aa61
